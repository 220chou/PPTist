(function(e){function t(t){for(var o,a,r=t[0],i=t[1],u=t[2],s=0,f=[];s<r.length;s++)a=r[s],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&f.push(c[a][0]),c[a]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);d&&d(t);while(f.length)f.shift()();return l.push.apply(l,u||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],o=!0,r=1;r<n.length;r++){var i=n[r];0!==c[i]&&(o=!1)}o&&(l.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},c={app:0},l=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],i=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var d=i;l.push([1,"chunk-vendors"]),n()})({0:function(e,t){},"0006":function(e,t,n){"use strict";n("3150")},"008f":function(e,t,n){"use strict";n("bdfe")},"02f8":function(e,t,n){"use strict";n("6d2a")},"0419":function(e,t,n){"use strict";n("b219")},"04ba":function(e,t,n){"use strict";n("59b9")},"0512":function(e,t,n){},"0543":function(e,t,n){"use strict";n("c2f9")},"06b6":function(e,t,n){"use strict";n("c123")},"08e7":function(e,t,n){"use strict";n("a221")},"0ace":function(e,t,n){},"0c35":function(e,t,n){"use strict";n("2581")},"0c74":function(e,t,n){"use strict";n("77a7")},"0c90":function(e,t,n){"use strict";n("37c2")},"0d1d":function(e,t,n){},"0d8e":function(e,t,n){},"0dc7":function(e,t,n){"use strict";n("2fc3")},"0dd5":function(e,t,n){},"0e81":function(e,t,n){},"0eae":function(e,t,n){"use strict";n("a405")},"0f92":function(e,t,n){},1:function(e,t,n){e.exports=n("cd49")},"13c8":function(e,t,n){},"161f":function(e,t,n){"use strict";n("fd3b")},1622:function(e,t,n){"use strict";n("5966")},1756:function(e,t,n){"use strict";n("2b08")},1821:function(e,t,n){"use strict";n("9f56")},"18cc":function(e,t,n){"use strict";n("dffc")},"192c":function(e,t,n){},"19f0":function(e,t,n){"use strict";n("2fa2")},"1c30":function(e,t,n){"use strict";n("1ec4")},"1ce8":function(e,t,n){},"1d8f":function(e,t,n){"use strict";n("b26b")},"1e5c":function(e,t,n){},"1ec4":function(e,t,n){},2:function(e,t){},2540:function(e,t,n){"use strict";n("39e6")},2581:function(e,t,n){},"298f":function(e,t,n){"use strict";n("0ace")},"2a45":function(e,t,n){},"2a8a":function(e,t,n){"use strict";n("84b3")},"2b08":function(e,t,n){},"2c50":function(e,t,n){},"2db0":function(e,t,n){},"2dff":function(e,t,n){},"2f5f":function(e,t,n){},"2fa2":function(e,t,n){},"2fc3":function(e,t,n){},3:function(e,t){},3141:function(e,t,n){},3150:function(e,t,n){},3159:function(e,t,n){},"31d7":function(e,t,n){},"33a6":function(e,t,n){},"357f":function(e,t,n){},3677:function(e,t,n){},"37c2":function(e,t,n){},"37cc":function(e,t,n){"use strict";n("0512")},3831:function(e,t,n){},"38ba8":function(e,t,n){"use strict";n("a7c2")},"39e6":function(e,t,n){},"3ae7":function(e,t,n){"use strict";n("496b")},"3cf4":function(e,t,n){},"3e3f":function(e,t,n){"use strict";n("606f")},"3ea9":function(e,t,n){"use strict";n("6b12")},4021:function(e,t,n){"use strict";n("cfc7")},"413c":function(e,t,n){"use strict";n("3cf4")},"41ca":function(e,t,n){},4236:function(e,t,n){"use strict";n("6b7b")},"42c7":function(e,t,n){"use strict";n("69c3")},"42d4":function(e,t,n){},4344:function(e,t,n){"use strict";n("fe89")},"438e":function(e,t,n){"use strict";n("8103")},"449d":function(e,t,n){},4607:function(e,t,n){"use strict";n("96e4")},"468f":function(e,t,n){"use strict";n("e1f8")},"46ba":function(e,t,n){},"483c":function(e,t,n){},4855:function(e,t,n){},"496b":function(e,t,n){},"4a3d":function(e,t,n){},"4a6f":function(e,t,n){},"4b15":function(e,t,n){"use strict";n("42d4")},"4c71":function(e,t,n){},"4d4d":function(e,t,n){"use strict";n("e09a")},"4e39":function(e,t,n){},"4fce":function(e,t,n){},"51ed":function(e,t,n){},5389:function(e,t,n){"use strict";n("b470")},"53cb":function(e,t,n){},"549f":function(e,t,n){"use strict";n("8ee4")},"568a":function(e,t,n){"use strict";n("1e5c")},5952:function(e,t,n){},5966:function(e,t,n){},"59b9":function(e,t,n){},"5a2e":function(e,t,n){},"5a68":function(e,t,n){},"5a68c":function(e,t,n){"use strict";n("357f")},"5ba7":function(e,t,n){},"5eba":function(e,t,n){},"5efd":function(e,t,n){"use strict";n("5ba7")},"606f":function(e,t,n){},6090:function(e,t,n){},"61fe":function(e,t,n){},6339:function(e,t,n){"use strict";n("70b8")},6702:function(e,t,n){},6856:function(e,t,n){"use strict";n("2f5f")},"69c3":function(e,t,n){},"69d5":function(e,t,n){"use strict";n("b42f")},"6a1c":function(e,t,n){"use strict";n("4e39")},"6b12":function(e,t,n){},"6b7b":function(e,t,n){},"6baa":function(e,t,n){"use strict";n("bee24")},"6cf8":function(e,t,n){},"6d2a":function(e,t,n){},"6e42":function(e,t,n){"use strict";n("a838")},"70b8":function(e,t,n){},"717a":function(e,t,n){},7335:function(e,t,n){"use strict";n("ff9c")},"767c":function(e,t,n){"use strict";n("9d76")},7686:function(e,t,n){"use strict";n("ff5e")},"77a7":function(e,t,n){},"78eb":function(e,t,n){},"792f":function(e,t,n){},"7e17":function(e,t,n){"use strict";n("4855")},"7f52":function(e,t,n){"use strict";n("0d8e")},8010:function(e,t,n){"use strict";n("c679")},"80f7":function(e,t,n){"use strict";n("449d")},8103:function(e,t,n){},"81a4":function(e,t,n){"use strict";n("b815")},"81ab":function(e,t,n){"use strict";n("483c")},"838e":function(e,t,n){},"84b3":function(e,t,n){},"850a":function(e,t,n){"use strict";n("31d7")},8749:function(e,t,n){"use strict";n("3141")},8754:function(e,t,n){"use strict";n("13c8")},"875f":function(e,t,n){},8919:function(e,t,n){"use strict";n("2db0")},"8ad9":function(e,t,n){"use strict";n("5eba")},"8c56":function(e,t,n){},"8d78":function(e,t,n){},"8e58":function(e,t,n){},"8ee4":function(e,t,n){},"91e0":function(e,t,n){"use strict";n("afaa")},9260:function(e,t,n){},92637:function(e,t,n){"use strict";n("f258")},9316:function(e,t,n){"use strict";n("bf06")},9329:function(e,t,n){},"933d":function(e,t,n){"use strict";n("c029")},"949f":function(e,t,n){},"94e5":function(e,t,n){},"94f86":function(e,t,n){"use strict";n("9ee1")},"953f":function(e,t,n){"use strict";n("0d1d")},"96e4":function(e,t,n){},9753:function(e,t,n){"use strict";n("192c")},"97a7":function(e,t,n){"use strict";n("a5a9")},"9a51":function(e,t,n){"use strict";n("bb32")},"9d5f":function(e,t,n){"use strict";n("d65a")},"9d76":function(e,t,n){},"9dc9":function(e,t,n){},"9e6c":function(e,t,n){"use strict";n("9dc9")},"9e82":function(e,t,n){"use strict";n("5a2e")},"9ee1":function(e,t,n){},"9f56":function(e,t,n){},a221:function(e,t,n){},a26f:function(e,t,n){"use strict";n("9260")},a405:function(e,t,n){},a46e:function(e,t,n){"use strict";n("8e58")},a52e:function(e,t,n){"use strict";n("6090")},a5a9:function(e,t,n){},a751:function(e,t,n){"use strict";n("e80d")},a7c2:function(e,t,n){},a812:function(e,t,n){"use strict";n("4fce")},a838:function(e,t,n){},aa3e:function(e,t,n){"use strict";n("fdcb")},aa92:function(e,t,n){"use strict";n("de82")},ad93:function(e,t,n){},ae3f:function(e,t,n){},afaa:function(e,t,n){},afe9:function(e,t,n){"use strict";n("3159")},b0c3:function(e,t,n){},b14d:function(e,t,n){"use strict";n("792f")},b219:function(e,t,n){},b26b:function(e,t,n){},b42f:function(e,t,n){},b470:function(e,t,n){},b702:function(e,t,n){},b815:function(e,t,n){},b837:function(e,t,n){"use strict";n("94e5")},bb32:function(e,t,n){},bd59:function(e,t,n){"use strict";n("b702")},bdd4:function(e,t,n){"use strict";n("4a6f")},bdfe:function(e,t,n){},bee24:function(e,t,n){},beeb:function(e,t,n){"use strict";n("61fe")},bf06:function(e,t,n){},bfa0:function(e,t,n){"use strict";n("ed2c")},c029:function(e,t,n){},c123:function(e,t,n){},c15d:function(e,t,n){"use strict";n("2c50")},c2f9:function(e,t,n){},c43a:function(e,t,n){"use strict";n("2dff")},c558:function(e,t,n){"use strict";n("9329")},c679:function(e,t,n){},c6ae:function(e,t,n){"use strict";n("dec5")},c860:function(e,t,n){},cce0:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("7f6b");var o=n("8592"),c=(n("6d2a8"),n("9571")),l=(n("ee00"),n("bb76")),a=(n("fbd8"),n("55f1")),r=(n("9d5c"),n("a600")),i=(n("cd17"),n("ed3b")),u=(n("5704"),n("b558")),d=(n("5783"),n("59a5")),s=(n("fbd6"),n("160c")),f=(n("2ef0f"),n("9839")),b=(n("438c"),n("fbdf")),m=(n("5136"),n("681b")),p=(n("9a33"),n("f933")),v=(n("6ba6"),n("5efb")),O=(n("55ec"),n("a79d")),h=(n("922d"),n("09d9")),j=(n("e260"),n("e6cf"),n("cca6"),n("a79df"),n("7a23")),y=n("be92");function g(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("Screen"),r=Object(j["resolveComponent"])("Editor"),i=Object(j["resolveComponent"])("Mobile");return e.screening?(Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:0})):e.isPC?(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:1})):(Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:2}))}n("e9c4"),n("4de4"),n("d3b7"),n("caad"),n("2532"),n("7db0");var x,C=n("e1bd");(function(e){e["SYMBOL"]="symbol",e["EL_ANIMATION"]="elAnimation",e["EL_STYLE"]="elStyle",e["EL_POSITION"]="elPosition",e["SLIDE_DESIGN"]="slideDesign",e["SLIDE_ANIMATION"]="slideAnimation",e["MULTI_POSITION"]="multiPosition"})(x||(x={}));var k,E,w,N,V,I,S=[{label:"Arial",value:"Arial"},{label:"微软雅黑",value:"Microsoft Yahei"},{label:"宋体",value:"SimSun"},{label:"黑体",value:"SimHei"},{label:"楷体",value:"KaiTi"},{label:"新宋体",value:"NSimSun"},{label:"仿宋",value:"FangSong"},{label:"苹方",value:"PingFang SC"},{label:"华文黑体",value:"STHeiti"},{label:"华文楷体",value:"STKaiti"},{label:"华文宋体",value:"STSong"},{label:"华文仿宋",value:"STFangSong"},{label:"华文中宋",value:"STZhongSong"},{label:"华文琥珀",value:"STHupo"},{label:"华文新魏",value:"STXinwei"},{label:"华文隶书",value:"STLiti"},{label:"华文行楷",value:"STXingkai"},{label:"冬青黑体",value:"Hiragino Sans GB"},{label:"兰亭黑",value:"Lantinghei SC"},{label:"偏偏体",value:"Hanzipen SC"},{label:"手札体",value:"Hannotate SC"},{label:"宋体",value:"Songti SC"},{label:"娃娃体",value:"Wawati SC"},{label:"行楷",value:"Xingkai SC"},{label:"圆体",value:"Yuanti SC"},{label:"华文细黑",value:"STXihei"},{label:"幼圆",value:"YouYuan"},{label:"隶书",value:"LiSu"}],B=[{label:"仓耳小丸子",value:"仓耳小丸子"},{label:"优设标题黑",value:"优设标题黑"},{label:"峰广明锐体",value:"峰广明锐体"},{label:"摄图摩登小方体",value:"摄图摩登小方体"},{label:"站酷快乐体",value:"站酷快乐体"},{label:"字制区喜脉体",value:"字制区喜脉体"},{label:"素材集市康康体",value:"素材集市康康体"},{label:"素材集市酷方体",value:"素材集市酷方体"},{label:"途牛类圆体",value:"途牛类圆体"},{label:"锐字真言体",value:"锐字真言体"}],L=n("5530"),T=n("b85c"),_=(n("b0c0"),n("1913"),n("0010")),M=function(e){var t=e.state.selection.empty;t&&Object(_["d"])(e.state,e.dispatch)},D=function(e,t,n){if(n)e.dispatch(e.state.tr.addMark(n.from,n.to,t));else{var o=e.state.selection,c=o.$from,l=o.$to;e.dispatch(e.state.tr.addMark(c.pos,l.pos,t))}},z=function(e,t,n,o){var c=t,l=function(e){return e.type===o},a=null,r=null,i=null;while(c<=n){var u=e.nodeAt(c);if(!u||!u.marks)return null;var d=u.marks.find(l);if(!d)return null;if(a&&d!==a)return null;r=r||u,a=a||d,i=u,c++}var s=t,f=n,b=0;c=t-1;while(c>b){var m=e.nodeAt(c),p=m&&m.marks.find(l);if(!p||p!==a)break;s=c,r=m,c--}c=n+1,b=e.nodeSize-2;while(c<b){var v=e.nodeAt(c),O=v&&v.marks.find(l);if(!O||O!==a)break;f=c,i=v,c++}return{mark:a,from:{node:r,pos:s},to:{node:i,pos:f}}},A=function(e,t){return Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e},F=function(e,t){for(var n=e.depth;n>0;n--){var o=e.node(n);if(t(o))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:o}}},R=function(e){return function(t){return F(t.$from,e)}},P=function(e){return function(t){return R((function(t){return A(e,t)}))(t)}},H=function(e,t){var n=t.schema.nodes[e];return!!P(n)(t.selection)},q=function(e){var t,n,o=e.state,c=o.selection,l=o.doc,a=c.from,r=l.nodeAt(a)||l.nodeAt(a-1);return null!==(t=r)&&void 0!==t&&t.lastChild&&(r=r.lastChild),(null===(n=r)||void 0===n?void 0:n.marks)||[]},U=function(e,t,n){var o,c=Object(T["a"])(e);try{for(c.s();!(o=c.n()).done;){var l=o.value;if(l.type.name===t&&l.attrs[n])return l.attrs[n]}}catch(a){c.e(a)}finally{c.f()}return null},W=function(e,t){var n,o=Object(T["a"])(e);try{for(o.s();!(n=o.n()).done;){var c=n.value;if(c.type.name===t)return!0}}catch(l){o.e(l)}finally{o.f()}return!1},G=function(e,t){var n=e.selection,o=n.from,c=n.$from,l=n.to,a=n.empty;return a?t.isInSet(e.storedMarks||c.marks()):e.doc.rangeHasMark(o,l,t)},X=function(e,t){var n=e.state,o=n.selection,c=n.doc,l=o.from,a=o.to,r=!0,i="";return c.nodesBetween(l,a,(function(e){return r&&e.attrs[t]&&(r=!1,i=e.attrs[t]),r})),i},Y={color:"#000",backcolor:"#000",fontsize:"20px",fontname:"微软雅黑",align:"left"},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Object(L["a"])(Object(L["a"])({},Y),t);var n=q(e),o=W(n,"strong"),c=W(n,"em"),l=W(n,"underline"),a=W(n,"strikethrough"),r=W(n,"superscript"),i=W(n,"subscript"),u=W(n,"code"),d=U(n,"forecolor","color")||t.color,s=U(n,"backcolor","backcolor")||t.backcolor,f=U(n,"fontsize","fontsize")||t.fontsize,b=U(n,"fontname","fontname")||t.fontname,m=U(n,"link","href")||"",p=X(e,"align")||t.align,v=H("bullet_list",e.state),O=H("ordered_list",e.state),h=H("blockquote",e.state);return{bold:o,em:c,underline:l,strikethrough:a,superscript:r,subscript:i,code:u,color:d,backcolor:s,fontsize:f,fontname:b,link:m,align:p,bulletList:v,orderedList:O,blockquote:h}},J=function(e){var t=q(e),n=U(t,"fontsize","fontsize")||Y.fontsize;return parseInt(n)},K={bold:!1,em:!1,underline:!1,strikethrough:!1,superscript:!1,subscript:!1,code:!1,color:"#000",backcolor:"#000",fontsize:"20px",fontname:"微软雅黑",link:"",align:"left",bulletList:!1,orderedList:!1,blockquote:!1},Q=(n("99af"),n("fb6a"),n("a15b"),function(e){if("string"!==typeof e)return!1;var t="Arial";if(e.toLowerCase()===t.toLowerCase())return!0;var n=100,o=100,c=100,l="a",a=document.createElement("canvas"),r=a.getContext("2d");if(!r)return!1;a.width=o,a.height=c,r.textAlign="center",r.fillStyle="black",r.textBaseline="middle";var i=function(e){r.clearRect(0,0,o,c),r.font="".concat(n,"px ").concat(e,", ").concat(t),r.fillText(l,o/2,c/2);var a=r.getImageData(0,0,o,c).data;return[].slice.call(a).filter((function(e){return 0!==e}))};return i(t).join("")!==i(e).join("")}),$=n("2909"),ee=(n("d81d"),n("ac1f"),n("5319"),n("5b81"),n("a434"),n("c740"),n("66cb")),te=n.n(ee),ne=n("2ef0"),oe=[{id:"test-slide-1",elements:[{type:"shape",id:"4cbRxp",left:0,top:200,width:546,height:362.5,viewBox:[200,200],path:"M 0 0 L 0 200 L 200 200 Z",fill:"#5b9bd5",fixedRatio:!1,opacity:.7,rotate:0},{type:"shape",id:"ookHrf",left:0,top:0,width:300,height:320,viewBox:[200,200],path:"M 0 0 L 0 200 L 200 200 Z",fill:"#5b9bd5",fixedRatio:!1,flipV:!0,rotate:0},{type:"text",id:"idn7Mx",left:355,top:65.25,width:585,height:188,lineHeight:1.2,content:"<p><strong><span style='font-size:  112px'>PPTIST</span></strong></p>",rotate:0,defaultFontName:"Microsoft Yahei",defaultColor:"#333"},{type:"text",id:"7stmVP",left:355,top:253.25,width:585,height:56,content:"<p><span style='font-size:  24px'>基于 Vue 3.x + TypeScript 的在线演示文稿应用</span></p>",rotate:0,defaultFontName:"Microsoft Yahei",defaultColor:"#333"},{type:"line",id:"FnpZs4",left:361,top:238,start:[0,0],end:[549,0],points:["",""],color:"#5b9bd5",style:"solid",width:2}],background:{type:"solid",color:"#ffffff"}},{id:"test-slide-2",elements:[{type:"text",id:"ptNnUJ",left:145,top:148,width:711,height:77,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='font-size: 48px'>在此处添加标题</span></strong></p>",rotate:0,defaultFontName:"Microsoft Yahei",defaultColor:"#333"},{type:"text",id:"mRHvQN",left:207.50000000000003,top:249.84259259259264,width:585,height:56,content:"<p style='text-align: center;'><span style='font-size: 24px'>在此处添加副标题</span></p>",rotate:0,defaultFontName:"Microsoft Yahei",defaultColor:"#333"},{type:"line",id:"7CQDwc",left:323.09259259259267,top:238.33333333333334,start:[0,0],end:[354.8148148148148,0],points:["",""],color:"#5b9bd5",style:"solid",width:4},{type:"shape",id:"09wqWw",left:-27.648148148148138,top:432.73148148148147,width:1056.2962962962963,height:162.96296296296296,viewBox:[200,200],path:"M 0 20 C 40 -40 60 60 100 20 C 140 -40 160 60 200 20 L 200 180 C 140 240 160 140 100 180 C 40 240 60 140 0 180 L 0 20 Z",fill:"#5b9bd5",fixedRatio:!1,rotate:0}],background:{type:"solid",color:"#fff"}},{id:"test-slide-3",elements:[{type:"shape",id:"vSheCJ",left:183.5185185185185,top:175.5092592592593,width:605.1851851851851,height:185.18518518518516,viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z",fill:"#5b9bd5",fixedRatio:!1,rotate:0},{type:"shape",id:"Mpwv7x",left:211.29629629629628,top:201.80555555555557,width:605.1851851851851,height:185.18518518518516,viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z",fill:"#5b9bd5",fixedRatio:!1,rotate:0,opacity:.7},{type:"text",id:"WQOTAp",left:304.9074074074074,top:198.10185185185182,width:417.9629629629629,height:140,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 80px'>感谢观看</span></span></strong></p>",rotate:0,defaultFontName:"Microsoft Yahei",defaultColor:"#333",wordSpace:5}],background:{type:"solid",color:"#fff"}}],ce={themeColor:"#5b9bd5",fontColor:"#333",fontName:"Microsoft Yahei",backgroundColor:"#fff"},le=[{id:"template",elements:[{type:"shape",id:"4cbRxp",left:0,top:200,width:546,height:362.5,viewBox:[200,200],path:"M 0 0 L 0 200 L 200 200 Z",fill:"{{themeColor}}",fixedRatio:!1,opacity:.7,rotate:0},{type:"shape",id:"ookHrf",left:0,top:0,width:300,height:320,viewBox:[200,200],path:"M 0 0 L 0 200 L 200 200 Z",fill:"{{themeColor}}",fixedRatio:!1,flipV:!0,rotate:0},{type:"text",id:"AkIh3E",left:355,top:95.11111111111111,width:585,height:116,lineHeight:1.2,content:"<p style=''><strong><span style='font-size: 80px'>输入标题</span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",wordSpace:6},{type:"text",id:"7stmVP",left:355,top:253.25,width:585,height:56,content:"<p><span style='font-size:  24px'>请在此处输入副标题</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"line",id:"FnpZs4",left:361,top:238,start:[0,0],end:[549,0],points:["",""],color:"{{themeColor}}",style:"solid",width:2}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"text",id:"ptNnUJ",left:145,top:148,width:711,height:77,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='font-size: 48px'>在此处添加标题</span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"mRHvQN",left:207.50000000000003,top:249.84259259259264,width:585,height:56,content:"<p style='text-align: center;'><span style='font-size: 24px'>在此处添加副标题</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"line",id:"7CQDwc",left:323.09259259259267,top:238.33333333333334,start:[0,0],end:[354.8148148148148,0],points:["",""],color:"{{themeColor}}",style:"solid",width:4},{type:"shape",id:"09wqWw",left:-27.648148148148138,top:432.73148148148147,width:1056.2962962962963,height:162.96296296296296,viewBox:[200,200],path:"M 0 20 C 40 -40 60 60 100 20 C 140 -40 160 60 200 20 L 200 180 C 140 240 160 140 100 180 C 40 240 60 140 0 180 L 0 20 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"shape",id:"vSheCJ",left:183.5185185185185,top:175.5092592592593,width:605.1851851851851,height:185.18518518518516,viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0},{type:"shape",id:"Mpwv7x",left:211.29629629629628,top:201.80555555555557,width:605.1851851851851,height:185.18518518518516,viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,opacity:.7},{type:"text",id:"WQOTAp",left:304.9074074074074,top:198.10185185185182,width:417.9629629629629,height:140,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 80px'>感谢观看</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",wordSpace:5}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"MZVO1kkj",elements:[{type:"shape",id:"cql0h8",left:0,top:0,width:352.59259259259255,height:562.5,viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0},{type:"shape",id:"_RTaF4",left:171.4814814814814,top:100.13888888888887,width:362.22222222222223,height:362.22222222222223,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"rgba(255,255,255,0)",fixedRatio:!1,rotate:0,outline:{width:10,color:"{{backgroundColor}}",style:"solid"}},{type:"shape",id:"UZfo8N",left:216.66666666666663,top:145.32407407407408,width:271.85185185185185,height:271.85185185185185,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{backgroundColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='font-size: 80px'>01</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"ysqtBg",left:561.4814814814814,top:100.1388888888889,width:359.25925925925924,height:80,content:"<p style=''><strong><span style='font-size: 40px'>在此处输入标题</span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"lXsoHa",left:572.5925925925925,top:202.3611111111111,width:257.77777777777777,height:260,content:"<ol><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li><li><p style=''>在此处输入内容</p></li></ol>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",lineHeight:2,fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"shape",id:"EBBnTr",left:360.5996472663139,top:141.8496472663139,width:278.80070546737215,height:278.80070546737215,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:0,color:"{{backgroundColor}}",style:"solid"}},{type:"shape",id:"gDIWDH",left:456.4373897707231,top:98.287037037037,width:87.12522045855381,height:87.12522045855381,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:4,color:"{{backgroundColor}}",style:"solid"},text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>1</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"shape",id:"DUWT7E",left:317.037037037037,top:237.68738977072314,width:87.12522045855381,height:87.12522045855381,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:4,color:"{{backgroundColor}}",style:"solid"},text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>4</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"shape",id:"pbhn38",left:456.43738977072303,top:377.08774250440916,width:87.12522045855381,height:87.12522045855381,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:4,color:"{{backgroundColor}}",style:"solid"},text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>3</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"shape",id:"CvMKrO",left:595.8377425044091,top:237.6873897707231,width:87.12522045855381,height:87.12522045855381,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!0,rotate:0,outline:{width:4,color:"{{backgroundColor}}",style:"solid"},text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>2</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"adudHB",left:402.962962962963,top:39.39814814814815,width:194.07407407407408,height:50,content:"<p style='text-align: center;'>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"9UpDwg",left:402.962962962963,top:473.1018518518518,width:194.07407407407408,height:50,content:"<p style='text-align: center;'>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"GERdpB",left:111.48148148148151,top:256.25,width:194.07407407407408,height:50,content:"<p style='text-align: center;'>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"text",id:"G5qoho",left:691.1111111111111,top:256.25,width:194.07407407407408,height:50,content:"<p style='text-align: center;'>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"},{type:"shape",id:"vdZcI6",left:415.18518518518516,top:196.4351851851852,width:169.62962962962962,height:169.62962962962962,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{backgroundColor}}",fixedRatio:!1,rotate:0}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"shape",id:"tYUmrx",left:156.66666666666683,top:149.02777777777771,width:264.4444444444445,height:264.4444444444445,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'><span style='font-size: 60px'>01</span></span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"shape",id:"0GVHf8",left:342.2222222222223,top:217.17592592592587,width:128.14814814814812,height:128.14814814814812,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{backgroundColor}}",fixedRatio:!1,rotate:0},{type:"text",id:"BO33Sv",left:378.8888888888889,top:235.24999999999994,width:464.4444444444444,height:92,content:"<p style=''><strong><span style='font-size: 48px'>在此处添加标题</span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"text",id:"Hj7ttp",left:69.35185185185185,top:49.21759259259262,width:420,height:63,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 36px'>1.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"FmKMNB",left:69.35185185185185,top:129.28240740740745,width:420,height:384,content:"<p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"rI7ZeO",left:510.64814814814815,top:49.21759259259262,width:420,height:63,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 36px'>2.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"KspwGc",left:510.64814814814815,top:129.28240740740745,width:420,height:384,content:"<p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 24px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"text",id:"Rx63Jo",left:69.35185185185179,top:51.71759259259262,width:420,height:58,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>1.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"ulyuzE",left:69.35185185185179,top:131.78240740740745,width:420,height:129,content:"<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"kr35Ca",left:510.6481481481481,top:51.71759259259262,width:420,height:58,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>2.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"BNQSpC",left:510.6481481481481,top:131.78240740740745,width:420,height:129,content:"<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"Vr38Nu",left:69.35185185185185,top:301.71759259259255,width:420,height:58,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>3.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"IwKRSu",left:69.35185185185185,top:381.7824074074074,width:420,height:129,content:"<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"0Opr1v",left:510.64814814814815,top:301.71759259259255,width:420,height:58,lineHeight:1.2,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 32px'>4.请输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{themeColor}}"},{type:"text",id:"4L9Uzz",left:510.64814814814815,top:381.7824074074074,width:420,height:129,content:"<p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p><p style='text-align: center;'><span style='font-size: 22px'>在此处输入内容</span></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"text",id:"GdEGxg",left:134.53703703703704,top:127.25,width:152.77777777777777,height:308,lineHeight:1.8,content:"<p style='text-align: center;'><strong><span style='color: #ffffff;'><span style='font-size: 40px'>请在此处输入标题</span></span></strong></p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",wordSpace:8,fill:"{{themeColor}}"},{type:"text",id:"y5sAfw",left:332.8703703703704,top:127.25,width:532.5925925925926,height:50,content:"<blockquote><p style=''>请在此处输入内容1</p></blockquote>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"VeuocM",left:332.8703703703704,top:212.0648148148148,width:532.5925925925926,height:50,content:"<blockquote><p style=''>请在此处输入内容2</p></blockquote>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"RyFWQe",left:332.8703703703704,top:296.8796296296296,width:532.5925925925926,height:50,content:"<blockquote><p style=''>请在此处输入内容3</p></blockquote>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"text",id:"Q56viI",left:332.8703703703704,top:381.69444444444446,width:532.5925925925926,height:50,content:"<blockquote><p style=''>请在此处输入内容4</p></blockquote>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}},{id:"template",elements:[{type:"shape",id:"SUWirT",left:73.8888888888889,top:64.21296296296302,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>1</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"YjzN1M",left:148.70370370370372,top:64.21296296296302,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"fS09I7",left:527.5925925925926,top:64.21296296296302,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>2</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"qCnfB1",left:602.4074074074074,top:64.21296296296302,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"difAAT",left:73.8888888888889,top:221.25000000000003,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>3</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"EUlvMo",left:148.70370370370372,top:221.25000000000003,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"US_9jB",left:527.5925925925926,top:221.25000000000003,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>4</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"243MnQ",left:602.4074074074074,top:221.25000000000003,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"Y_KUj0",left:73.8888888888889,top:378.287037037037,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>5</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"9GglMe",left:148.70370370370372,top:378.287037037037,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"},{type:"shape",id:"eSInje",left:527.5925925925926,top:378.287037037037,width:49.629629629629626,height:49.629629629629626,viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z",fill:"{{themeColor}}",fixedRatio:!1,rotate:0,text:{content:"<p style='text-align: center;'><span style='color: #ffffff;'>6</span></p>",defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",align:"middle"}},{type:"text",id:"0S3yUg",left:602.4074074074074,top:378.287037037037,width:323.7037037037037,height:120,content:"<p style=''>在此输入内容</p><p style=''>在此输入内容</p><p style=''>在此输入内容</p>",rotate:0,defaultFontName:"{{fontName}}",defaultColor:"{{fontColor}}",fill:"{{subColor}}"}],background:{type:"solid",color:"{{backgroundColor}}"}}],ae=Object(y["b"])("slides",{state:function(){return{theme:ce,slides:oe,slideIndex:0,viewportRatio:.5625}},getters:{currentSlide:function(e){return e.slides[e.slideIndex]},currentSlideAnimations:function(e){var t=e.slides[e.slideIndex];if(null===t||void 0===t||!t.animations)return[];var n=t.elements,o=n.map((function(e){return e.id}));return t.animations.filter((function(e){return o.includes(e.elId)}))},formatedAnimations:function(e){var t=e.slides[e.slideIndex];if(null===t||void 0===t||!t.animations)return[];var n,o=t.elements,c=o.map((function(e){return e.id})),l=t.animations.filter((function(e){return c.includes(e.elId)})),a=[],r=Object(T["a"])(l);try{var i=function(){var e=n.value;if("click"!==e.trigger&&a.length){if("meantime"===e.trigger){var t=a[a.length-1];t.animations=t.animations.filter((function(t){return t.elId!==e.elId})),t.animations.push(e),a[a.length-1]=t}else if("auto"===e.trigger){var o=a[a.length-1];o.autoNext=!0,a[a.length-1]=o,a.push({animations:[e],autoNext:!1})}}else a.push({animations:[e],autoNext:!1})};for(r.s();!(n=r.n()).done;)i()}catch(u){r.e(u)}finally{r.f()}return a},layouts:function(e){var t=e.theme,n=t.themeColor,o=t.fontColor,c=t.fontName,l=t.backgroundColor,a=te()(o).isDark()?"rgba(230, 230, 230, 0.5)":"rgba(180, 180, 180, 0.5)",r=JSON.stringify(le).replaceAll("{{themeColor}}",n).replaceAll("{{fontColor}}",o).replaceAll("{{fontName}}",c).replaceAll("{{backgroundColor}}",l).replaceAll("{{subColor}}",a);return JSON.parse(r)}},actions:{setTheme:function(e){this.theme=Object(L["a"])(Object(L["a"])({},this.theme),e)},setViewportRatio:function(e){this.viewportRatio=e},setSlides:function(e){this.slides=e},addSlide:function(e){var t,n=Array.isArray(e)?e:[e],o=this.slideIndex+1;(t=this.slides).splice.apply(t,[o,0].concat(Object($["a"])(n))),this.slideIndex=o},updateSlide:function(e){var t=this.slideIndex;this.slides[t]=Object(L["a"])(Object(L["a"])({},this.slides[t]),e)},deleteSlide:function(e){for(var t=this,n=Array.isArray(e)?e:[e],o=[],c=function(e){var c=t.slides.findIndex((function(t){return t.id===n[e]}));o.push(c)},l=0;l<n.length;l++)c(l);var a=Math.min.apply(Math,o),r=this.slides.length-n.length-1;a>r&&(a=r),this.slideIndex=a,this.slides=this.slides.filter((function(e){return!n.includes(e.id)}))},updateSlideIndex:function(e){this.slideIndex=e},addElement:function(e){var t=Array.isArray(e)?e:[e],n=this.slides[this.slideIndex].elements,o=[].concat(Object($["a"])(n),Object($["a"])(t));this.slides[this.slideIndex].elements=o},deleteElement:function(e){var t=Array.isArray(e)?e:[e],n=this.slides[this.slideIndex].elements,o=n.filter((function(e){return!t.includes(e.id)}));this.slides[this.slideIndex].elements=o},updateElement:function(e){var t=e.id,n=e.props,o="string"===typeof t?[t]:t,c=this.slideIndex,l=this.slides[c],a=l.elements.map((function(e){return o.includes(e.id)?Object(L["a"])(Object(L["a"])({},e),n):e}));this.slides[c].elements=a},removeElementProps:function(e){var t=e.id,n=e.propName,o="string"===typeof n?[n]:n,c=this.slideIndex,l=this.slides[c],a=l.elements.map((function(e){return e.id===t?Object(ne["omit"])(e,o):e}));this.slides[c].elements=a}}}),re=Object(C["a"])("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"),ie=re(10),ue=Object(y["b"])("main",{state:function(){return{activeElementIdList:[],handleElementId:"",activeGroupElementId:"",canvasPercentage:90,canvasScale:1,canvasDragged:!1,thumbnailsFocus:!1,editorAreaFocus:!1,disableHotkeys:!1,showGridLines:!1,showRuler:!1,creatingElement:null,availableFonts:S,toolbarState:x.SLIDE_DESIGN,clipingImageElementId:"",richTextAttrs:K,selectedTableCells:[],isScaling:!1,selectedSlidesIndex:[],dialogForExport:"",databaseId:ie}},getters:{activeElementList:function(e){var t=ae(),n=t.currentSlide;return n&&n.elements?n.elements.filter((function(t){return e.activeElementIdList.includes(t.id)})):[]},handleElement:function(e){var t=ae(),n=t.currentSlide;return n&&n.elements&&n.elements.find((function(t){return e.handleElementId===t.id}))||null}},actions:{setActiveElementIdList:function(e){1===e.length?this.handleElementId=e[0]:this.handleElementId="",this.activeElementIdList=e},setHandleElementId:function(e){this.handleElementId=e},setActiveGroupElementId:function(e){this.activeGroupElementId=e},setCanvasPercentage:function(e){this.canvasPercentage=e},setCanvasScale:function(e){this.canvasScale=e},setCanvasDragged:function(e){this.canvasDragged=e},setThumbnailsFocus:function(e){this.thumbnailsFocus=e},setEditorareaFocus:function(e){this.editorAreaFocus=e},setDisableHotkeysState:function(e){this.disableHotkeys=e},setGridLinesState:function(e){this.showGridLines=e},setRulerState:function(e){this.showRuler=e},setCreatingElement:function(e){this.creatingElement=e},setAvailableFonts:function(){this.availableFonts=S.filter((function(e){return Q(e.value)}))},setToolbarState:function(e){this.toolbarState=e},setClipingImageElementId:function(e){this.clipingImageElementId=e},setRichtextAttrs:function(e){this.richTextAttrs=e},setSelectedTableCells:function(e){this.selectedTableCells=e},setScalingState:function(e){this.isScaling=e},updateSelectedSlidesIndex:function(e){this.selectedSlidesIndex=e},setDialogForExport:function(e){this.dialogForExport=e}}}),de=n("1da1"),se=(n("ddb0"),n("96cf"),n("d4ec")),fe=n("257e"),be=n("262e"),me=n("2caf"),pe=n("ade3"),ve=n("3835"),Oe=(n("1276"),n("4dec")),he="PPTIST_DISCARDED_DB",je="PPTist",ye=function(){var e=Object(de["a"])(regeneratorRuntime.mark((function e(){var t,n,o,c,l,a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=(new Date).getTime(),n=localStorage.getItem(he),o=n?JSON.parse(n):[],e.next=5,Oe["a"].getDatabaseNames();case 5:c=e.sent,l=c.filter((function(e){if(-1===e.indexOf(je))return!1;var n=e.split("_"),c=Object(ve["a"])(n,3),l=c[0],a=c[1],r=c[2];return l!==je||!a||!r||(!!o.includes(a)||t-+r>=432e5)})),a=Object(T["a"])(l);try{for(a.s();!(r=a.n()).done;)i=r.value,Oe["a"].delete(i)}catch(u){a.e(u)}finally{a.f()}localStorage.removeItem(he);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(e){Object(be["a"])(n,e);var t=Object(me["a"])(n);function n(){var e;return Object(se["a"])(this,n),e=t.call(this,"".concat(je,"_").concat(ie,"_").concat((new Date).getTime())),Object(pe["a"])(Object(fe["a"])(e),"snapshots",void 0),e.version(1).stores({snapshots:"++id"}),e.snapshots=e.table("snapshots"),e}return n}(Oe["a"]),xe=new ge,Ce=Object(y["b"])("snapshot",{state:function(){return{snapshotCursor:-1,snapshotLength:0}},getters:{canUndo:function(e){return e.snapshotCursor>0},canRedo:function(e){return e.snapshotCursor<e.snapshotLength-1}},actions:{setSnapshotCursor:function(e){this.snapshotCursor=e},setSnapshotLength:function(e){this.snapshotLength=e},initSnapshotDatabase:function(){var e=this;return Object(de["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=ae(),t.next=3,ye();case 3:return o={index:n.slideIndex,slides:n.slides},t.next=6,xe.snapshots.add(o);case 6:e.setSnapshotCursor(0),e.setSnapshotLength(1);case 8:case"end":return t.stop()}}),t)})))()},addSnapshot:function(){var e=this;return Object(de["a"])(regeneratorRuntime.mark((function t(){var n,o,c,l,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=ae(),t.next=3,xe.snapshots.orderBy("id").keys();case 3:return o=t.sent,c=[],e.snapshotCursor>=0&&e.snapshotCursor<o.length-1&&(c=o.slice(e.snapshotCursor+1)),l={index:n.slideIndex,slides:n.slides},t.next=9,xe.snapshots.add(l);case 9:return a=o.length-c.length+1,r=20,a>r&&(c.push(o[0]),a--),a>=2&&xe.snapshots.update(o[a-2],{index:n.slideIndex}),t.next=15,xe.snapshots.bulkDelete(c);case 15:e.setSnapshotCursor(a-1),e.setSnapshotLength(a);case 17:case"end":return t.stop()}}),t)})))()},unDo:function(){var e=this;return Object(de["a"])(regeneratorRuntime.mark((function t(){var n,o,c,l,a,r,i,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.snapshotCursor<=0)){t.next=2;break}return t.abrupt("return");case 2:return n=ae(),o=ue(),c=e.snapshotCursor-1,t.next=7,xe.snapshots.orderBy("id").toArray();case 7:l=t.sent,a=l[c],r=a.index,i=a.slides,u=r>i.length-1?i.length-1:r,n.setSlides(i),n.updateSlideIndex(u),e.setSnapshotCursor(c),o.setActiveElementIdList([]);case 15:case"end":return t.stop()}}),t)})))()},reDo:function(){var e=this;return Object(de["a"])(regeneratorRuntime.mark((function t(){var n,o,c,l,a,r,i,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.snapshotCursor>=e.snapshotLength-1)){t.next=2;break}return t.abrupt("return");case 2:return n=ae(),o=ue(),c=e.snapshotCursor+1,t.next=7,xe.snapshots.orderBy("id").toArray();case 7:l=t.sent,a=l[c],r=a.index,i=a.slides,u=r>i.length-1?i.length-1:r,n.setSlides(i),n.updateSlideIndex(u),e.setSnapshotCursor(c),o.setActiveElementIdList([]);case 15:case"end":return t.stop()}}),t)})))()}}}),ke=Object(y["b"])("keyboard",{state:function(){return{ctrlKeyState:!1,shiftKeyState:!1,spaceKeyState:!1}},getters:{ctrlOrShiftKeyActive:function(e){return e.ctrlKeyState||e.shiftKeyState}},actions:{setCtrlKeyState:function(e){this.ctrlKeyState=e},setShiftKeyState:function(e){this.shiftKeyState=e},setSpaceKeyState:function(e){this.spaceKeyState=e}}}),Ee=Object(y["b"])("screen",{state:function(){return{screening:!1}},actions:{setScreening:function(e){this.screening=e}}}),we=(n("466d"),function(e,t){return Object(ne["padStart"])(""+e,t,"0")}),Ne=function(){return!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|Mobile|BlackBerry|Symbian|Windows Phone)/i)},Ve={class:"pptist-editor"},Ie={class:"layout-content"},Se={class:"layout-content-center"};function Be(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("EditorHeader"),r=Object(j["resolveComponent"])("Thumbnails"),i=Object(j["resolveComponent"])("CanvasTool"),u=Object(j["resolveComponent"])("Canvas"),d=Object(j["resolveComponent"])("Remark"),s=Object(j["resolveComponent"])("Toolbar"),f=Object(j["resolveComponent"])("ExportDialog"),b=Object(j["resolveComponent"])("Modal");return Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],null,[Object(j["createElementVNode"])("div",Ve,[Object(j["createVNode"])(a,{class:"layout-header"}),Object(j["createElementVNode"])("div",Ie,[Object(j["createVNode"])(r,{class:"layout-content-left"}),Object(j["createElementVNode"])("div",Se,[Object(j["createVNode"])(i,{class:"center-top"}),Object(j["createVNode"])(u,{class:"center-body",style:Object(j["normalizeStyle"])({height:"calc(100% - ".concat(e.remarkHeight+40,"px)")})},null,8,["style"]),Object(j["createVNode"])(d,{class:"center-bottom",height:e.remarkHeight,"onUpdate:height":t[0]||(t[0]=function(t){return e.remarkHeight=t}),style:Object(j["normalizeStyle"])({height:"".concat(e.remarkHeight,"px")})},null,8,["height","style"])]),Object(j["createVNode"])(s,{class:"layout-content-right"})])]),Object(j["createVNode"])(b,{visible:!!e.dialogForExport,footer:null,centered:"",closable:!1,width:680,destroyOnClose:"",onCancel:t[1]||(t[1]=function(t){return e.closeExportDialog()})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f)]})),_:1},8,["visible"])],64)}(function(e){e["UP"]="up",e["DOWN"]="down",e["TOP"]="top",e["BOTTOM"]="bottom"})(k||(k={})),function(e){e["TOP"]="top",e["BOTTOM"]="bottom",e["LEFT"]="left",e["RIGHT"]="right",e["VERTICAL"]="vertical",e["HORIZONTAL"]="horizontal",e["CENTER"]="center"}(E||(E={})),function(e){e["T"]="top",e["B"]="bottom",e["L"]="left",e["R"]="right"}(w||(w={})),function(e){e["LEFT_TOP"]="left-top",e["TOP"]="top",e["RIGHT_TOP"]="right-top",e["LEFT"]="left",e["RIGHT"]="right",e["LEFT_BOTTOM"]="left-bottom",e["BOTTOM"]="bottom",e["RIGHT_BOTTOM"]="right-bottom"}(N||(N={})),function(e){e["START"]="start",e["END"]="end",e["C"]="ctrl",e["C1"]="ctrl1",e["C2"]="ctrl2"}(V||(V={})),function(e){e["C"]="C",e["X"]="X",e["Z"]="Z",e["Y"]="Y",e["A"]="A",e["G"]="G",e["L"]="L",e["F"]="F",e["D"]="D",e["B"]="B",e["P"]="P",e["MINUS"]="-",e["EQUAL"]="=",e["DIGIT_0"]="0",e["DELETE"]="DELETE",e["UP"]="ARROWUP",e["DOWN"]="ARROWDOWN",e["LEFT"]="ARROWLEFT",e["RIGHT"]="ARROWRIGHT",e["ENTER"]="ENTER",e["SPACE"]=" ",e["TAB"]="TAB",e["BACKSPACE"]="BACKSPACE",e["ESC"]="ESCAPE",e["PAGEUP"]="PAGEUP",e["PAGEDOWN"]="PAGEDOWN",e["F5"]="F5"}(I||(I={}));var Le,Te,_e,Me=[{type:"通用",children:[{label:"剪切",value:"Ctrl + X"},{label:"复制",value:"Ctrl + C"},{label:"粘贴",value:"Ctrl + V"},{label:"快速复制粘贴",value:"Ctrl + D"},{label:"全选",value:"Ctrl + A"},{label:"撤销",value:"Ctrl + Z"},{label:"恢复",value:"Ctrl + Y"},{label:"删除",value:"Delete / Backspace"},{label:"多选",value:"按住 Ctrl 或 Shift"},{label:"打印",value:"Ctrl + P"},{label:"关闭弹窗",value:"ESC"}]},{type:"幻灯片放映",children:[{label:"从头开始放映幻灯片",value:"F5"},{label:"从当前开始放映幻灯片",value:"Shift + F5"},{label:"切换上一页",value:"↑ / ← / PgUp"},{label:"切换下一页",value:"↓ / → / PgDown"},{label:"切换下一页",value:"Enter / Space"},{label:"退出放映",value:"ESC"},{label:"调整画笔笔触大小",value:"鼠标滚轮"}]},{type:"幻灯片编辑",children:[{label:"新建幻灯片",value:"Enter"},{label:"移动画布",value:"Space + 鼠标拖拽"},{label:"缩放画布",value:"Ctrl + 鼠标滚轮"},{label:"放大画布",value:"Ctrl + ="},{label:"缩小画布",value:"Ctrl + -"},{label:"使画布适应当前屏幕",value:"Ctrl + 0"},{label:"上一页（未选中元素）",value:"↑ / ←"},{label:"下一页（未选中元素）",value:"↓ / →"},{label:"上一页",value:"鼠标上滚 / PgUp"},{label:"下一页",value:"鼠标下滚 / PgDown"}]},{type:"元素操作",children:[{label:"移动",value:"↑ / ← / ↓ / →"},{label:"锁定",value:"Ctrl + L"},{label:"组合",value:"Ctrl + G"},{label:"取消组合",value:"Ctrl + Shift + G"},{label:"置顶层",value:"Alt + F"},{label:"置底层",value:"Alt + B"},{label:"锁定宽高比例",value:"按住 Ctrl 或 Shift"},{label:"创建水平 / 垂直线条",value:"按住 Ctrl 或 Shift"},{label:"切换焦点元素",value:"Tab"},{label:"确认图片裁剪",value:"Enter"}]},{type:"表格编辑",children:[{label:"聚焦到下一个单元格",value:"Tab"},{label:"在上方插入一行",value:"Ctrl + ↑"},{label:"在下方插入一行",value:"Ctrl + ↓"},{label:"在左侧插入一列",value:"Ctrl + ←"},{label:"在右侧插入一列",value:"Ctrl + →"}]},{type:"图表数据编辑",children:[{label:"聚焦到下一行",value:"Enter"}]},{type:"文本编辑",children:[{label:"加粗",value:"Ctrl + B"},{label:"斜体",value:"Ctrl + I"},{label:"下划线",value:"Ctrl + U"},{label:"删除线",value:"Ctrl + D"}]}],De=(n("3b18"),n("f64c")),ze=(n("a630"),n("3ca3"),n("b311")),Ae=n.n(ze),Fe=(n("25f0"),n("3452")),Re=n.n(Fe),Pe="pptist",He=function(e){return Re.a.AES.encrypt(e,Pe).toString()},qe=function(e){var t=Re.a.AES.decrypt(e,Pe);return t.toString(Re.a.enc.Utf8)},Ue=function(e){return new Promise((function(t,n){var o=document.createElement("button"),c=new Ae.a(o,{text:function(){return e},action:function(){return"copy"},container:document.body});c.on("success",(function(e){c.destroy(),t(e)})),c.on("error",(function(e){c.destroy(),n(e)})),document.body.appendChild(o),o.click(),document.body.removeChild(o)}))},We=function(){return new Promise((function(e,t){var n;null!==(n=navigator.clipboard)&&void 0!==n&&n.readText?navigator.clipboard.readText().then((function(n){return n||t("剪贴板为空或者不包含文本"),e(n)})):t("浏览器不支持或禁止访问剪贴板，请使用快捷键 Ctrl + V")}))},Ge=function(e){var t;try{t=JSON.parse(qe(e))}catch(n){t=e}return t},Xe=function(e){var t=e.split("\r\n");""===t[t.length-1]&&t.pop();var n=-1,o=[];for(var c in t){if(o[c]=t[c].split("\t"),1===o[c].length)return null;if(-1===n)n=o[c].length;else if(n!==o[c].length)return null}return o},Ye=(n("159b"),function(e){var t=e.left,n=e.top,o=e.width,c=e.height,l=e.rotate,a=void 0===l?0:l,r=Math.sqrt(Math.pow(o,2)+Math.pow(c,2))/2,i=180*Math.atan(c/o)/Math.PI,u=(180-a-i)*Math.PI/180,d=(i-a)*Math.PI/180,s=t+o/2,f=n+c/2,b=[s+r*Math.cos(u),s+r*Math.cos(d),s-r*Math.cos(u),s-r*Math.cos(d)],m=[f-r*Math.sin(u),f-r*Math.sin(d),f+r*Math.sin(u),f+r*Math.sin(d)];return{xRange:[Math.min.apply(Math,b),Math.max.apply(Math,b)],yRange:[Math.min.apply(Math,m),Math.max.apply(Math,m)]}}),Ze=function(e){var t=Ye({left:e.left,top:e.top,width:e.width,height:e.height,rotate:0}),n=t.xRange,o=t.yRange,c=Ye({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate}),l=c.xRange,a=c.yRange;return{offsetX:l[0]-n[0],offsetY:a[0]-o[0]}},Je=function(e){var t,n,o,c;if("line"===e.type)t=e.left,n=e.left+Math.max(e.start[0],e.end[0]),o=e.top,c=e.top+Math.max(e.start[1],e.end[1]);else if("rotate"in e&&e.rotate){var l=e.left,a=e.top,r=e.width,i=e.height,u=e.rotate,d=Ye({left:l,top:a,width:r,height:i,rotate:u}),s=d.xRange,f=d.yRange;t=s[0],n=s[1],o=f[0],c=f[1]}else t=e.left,n=e.left+e.width,o=e.top,c=e.top+e.height;return{minX:t,maxX:n,minY:o,maxY:c}},Ke=function(e){var t=[],n=[],o=[],c=[];e.forEach((function(e){var l=Je(e),a=l.minX,r=l.maxX,i=l.minY,u=l.maxY;t.push(a),n.push(i),o.push(r),c.push(u)}));var l=Math.min.apply(Math,t),a=Math.max.apply(Math,o),r=Math.min.apply(Math,n),i=Math.max.apply(Math,c);return{minX:l,maxX:a,minY:r,maxY:i}},Qe=function(e){var t=[];return e.forEach((function(e){var n=t.findIndex((function(t){return t.value===e.value}));if(-1===n)t.push(e);else{var o=t[n],c=Math.min(o.range[0],e.range[0]),l=Math.max(o.range[1],e.range[1]),a=[c,l],r={value:e.value,range:a};t[n]=r}})),t},$e=function(e){var t,n={},o={},c=Object(T["a"])(e);try{for(c.s();!(t=c.n()).done;){var l=t.value,a=l.groupId;a&&!n[a]&&(n[a]=Object(C["b"])(10)),o[l.id]=Object(C["b"])(10)}}catch(r){c.e(r)}finally{c.f()}return{groupIdMap:n,elIdMap:o}},et=function(e){var t=te()(e);return[t.setAlpha(.3).toRgbString(),t.setAlpha(.1).toRgbString()]},tt=function(e){var t=e.start.join(","),n=e.end.join(",");if(e.broken){var o=e.broken.join(",");return"M".concat(t," L").concat(o," L").concat(n)}if(e.curve){var c=e.curve.join(",");return"M".concat(t," Q").concat(c," ").concat(n)}if(e.cubic){var l=Object(ve["a"])(e.cubic,2),a=l[0],r=l[1],i=a.join(","),u=r.join(",");return"M".concat(t," C").concat(i," ").concat(u," ").concat(n)}return"M".concat(t," L").concat(n)},nt=n("53ca"),ot=function(e){var t,n=e.replace(/[\n\r]+/g,"<br>"),o=n.split("<br>"),c="",l=Object(T["a"])(o);try{for(l.s();!(t=l.n()).done;){var a=t.value;a&&(c+="<div>".concat(a,"</div>"))}}catch(r){l.e(r)}finally{l.f()}return c},ct=(n("cb29"),function(e){return new Promise((function(t){var n=document.createElement("img");n.src=e,n.style.opacity="0",document.body.appendChild(n),n.onload=function(){var e=n.clientWidth,o=n.clientHeight;n.onload=null,n.onerror=null,document.body.removeChild(n),t({width:e,height:o})},n.onerror=function(){n.onload=null,n.onerror=null}}))}),lt=function(e){return new Promise((function(t){var n=new FileReader;n.addEventListener("load",(function(){t(n.result)})),n.readAsDataURL(e)}))},at=1e3;(function(e){e["ROUND_RECT"]="roundRect",e["ROUND_RECT_DIAGONAL"]="roundRectDiagonal",e["ROUND_RECT_SINGLE"]="roundRectSingle",e["ROUND_RECT_SAMESIDE"]="roundRectSameSide",e["CUT_RECT_DIAGONAL"]="cutRectDiagonal",e["CUT_RECT_SINGLE"]="cutRectSingle",e["CUT_RECT_SAMESIDE"]="cutRectSameSide",e["MESSAGE"]="message",e["ROUND_MESSAGE"]="roundMessage",e["L"]="L",e["RING_RECT"]="ringRect",e["PLUS"]="plus"})(Le||(Le={})),function(e){e["TEXT"]="text",e["IMAGE"]="image",e["SHAPE"]="shape",e["LINE"]="line",e["CHART"]="chart",e["TABLE"]="table",e["LATEX"]="latex",e["VIDEO"]="video",e["AUDIO"]="audio"}(Te||(Te={}));var rt=(_e={},Object(pe["a"])(_e,Le.ROUND_RECT,(function(e,t){var n=Math.min(e,t)/8;return"M ".concat(n," 0 L ").concat(e-n," 0 Q ").concat(e," 0 ").concat(e," ").concat(n," L ").concat(e," ").concat(t-n," Q ").concat(e," ").concat(t," ").concat(e-n," ").concat(t," L ").concat(n," ").concat(t," Q 0 ").concat(t," 0 ").concat(t-n," L 0 ").concat(n," Q 0 0 ").concat(n," 0 Z")})),Object(pe["a"])(_e,Le.CUT_RECT_DIAGONAL,(function(e,t){var n=Math.min(e,t)/5;return"M 0 ".concat(t-n," L 0 0 L ").concat(e-n," 0 L ").concat(e," ").concat(n," L ").concat(e," ").concat(t," L ").concat(n," ").concat(t," Z")})),Object(pe["a"])(_e,Le.CUT_RECT_SINGLE,(function(e,t){var n=Math.min(e,t)/5;return"M 0 ".concat(t," L 0 0 L ").concat(e-n," 0 L ").concat(e," ").concat(n," L ").concat(e," ").concat(t," Z")})),Object(pe["a"])(_e,Le.CUT_RECT_SAMESIDE,(function(e,t){var n=Math.min(e,t)/5;return"M 0 ".concat(n," L ").concat(n," 0 L ").concat(e-n," 0 L ").concat(e," ").concat(n," L ").concat(e," ").concat(t," L 0 ").concat(t," Z")})),Object(pe["a"])(_e,Le.ROUND_RECT_DIAGONAL,(function(e,t){var n=Math.min(e,t)/8;return"M 0 0 L ".concat(e-n," 0 Q ").concat(e," 0 ").concat(e," ").concat(n," L ").concat(e," ").concat(t," L ").concat(n," ").concat(t," Q 0 ").concat(t," 0 ").concat(t-n," L 0 0 Z")})),Object(pe["a"])(_e,Le.ROUND_RECT_SINGLE,(function(e,t){var n=Math.min(e,t)/8;return"M 0 0 L ".concat(e-n," 0 Q ").concat(e," 0 ").concat(e," ").concat(n," L ").concat(e," ").concat(t," L 0 ").concat(t," L 0 0 Z")})),Object(pe["a"])(_e,Le.ROUND_RECT_SAMESIDE,(function(e,t){var n=Math.min(e,t)/8;return"M 0 ".concat(n," Q 0 0 ").concat(n," 0 L ").concat(e-n," 0 Q ").concat(e," 0 ").concat(e," ").concat(n," L ").concat(e," ").concat(t," L 0 ").concat(t," Z")})),Object(pe["a"])(_e,Le.MESSAGE,(function(e,t){var n=e/5,o=t/5;return"M 0 0 L ".concat(e," 0 L ").concat(e," ").concat(t-o," L ").concat(e/2," ").concat(t-o," L ").concat(e/2-n," ").concat(t," L ").concat(e/2-n," ").concat(t-o," L 0 ").concat(t-o," Z")})),Object(pe["a"])(_e,Le.ROUND_MESSAGE,(function(e,t){var n=Math.min(e,t)/8,o=e/5,c=t/5;return"M 0 ".concat(n," Q 0 0 ").concat(n," 0 L ").concat(e-n," 0 Q ").concat(e," 0 ").concat(e," ").concat(n," L ").concat(e," ").concat(t-n-c," Q ").concat(e," ").concat(t-c," ").concat(e-n," ").concat(t-c," L ").concat(e/2," ").concat(t-c," L ").concat(e/2-o," ").concat(t," L ").concat(e/2-o," ").concat(t-c," L ").concat(n," ").concat(t-c," Q 0 ").concat(t-c," 0 ").concat(t-n-c," L 0 ").concat(n," Z")})),Object(pe["a"])(_e,Le.L,(function(e,t){var n=Math.min(e,t)/4;return"M 0 0 L 0 ".concat(t," L ").concat(e," ").concat(t," L ").concat(e," ").concat(t-n," L ").concat(n," ").concat(t-n," L ").concat(n," 0 Z")})),Object(pe["a"])(_e,Le.RING_RECT,(function(e,t){var n=Math.min(e,t)/4;return"M 0 0 ".concat(e," 0 ").concat(e," ").concat(t," L 0 ").concat(t," L 0 0 Z M ").concat(n," ").concat(n," L ").concat(n," ").concat(t-n," L ").concat(e-n," ").concat(t-n," L ").concat(e-n," ").concat(n," Z")})),Object(pe["a"])(_e,Le.PLUS,(function(e,t){var n=Math.min(e,t)/4;return"M ".concat(e/2-n/2," 0 L ").concat(e/2-n/2," ").concat(t/2-n/2," L 0 ").concat(t/2-n/2," L 0 ").concat(t/2+n/2," L ").concat(e/2-n/2," ").concat(t/2+n/2," L ").concat(e/2-n/2," ").concat(t," L ").concat(e/2+n/2," ").concat(t," L ").concat(e/2+n/2," ").concat(t/2+n/2," L ").concat(e," ").concat(t/2+n/2," L ").concat(e," ").concat(t/2-n/2," L ").concat(e/2+n/2," ").concat(t/2-n/2," L ").concat(e/2+n/2," 0 Z")})),_e),it=[{type:"矩形",children:[{viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z"},{viewBox:[200,200],path:"M 50 0 L 150 0 Q 200 0 200 50 L 200 150 Q 200 200 150 200 L 50 200 Q 0 200 0 150 L 0 50 Q 0 0 50 0 Z",pathFormula:Le.ROUND_RECT},{viewBox:[200,200],path:"M 0 150 L 0 0 L 150 0 L 200 50 L 200 200 L 50 200 Z",pathFormula:Le.CUT_RECT_DIAGONAL},{viewBox:[200,200],path:"M 0 200 L 0 0 L 150 0 L 200 50 L 200 200 Z",pathFormula:Le.CUT_RECT_SINGLE},{viewBox:[200,200],path:"M 0 50 L 50 0 L 150 0 L 200 50 L 200 200 L 0 200 Z",pathFormula:Le.CUT_RECT_SAMESIDE},{viewBox:[200,200],path:"M 0 0 L 150 0 Q 200 0 200 50 L 200 200 L 50 200 Q 0 200 0 150 L 0 0 Z",pathFormula:Le.ROUND_RECT_DIAGONAL},{viewBox:[200,200],path:"M 0 0 L 150 0 Q 200 0 200 50 L 200 200 L 0 200 L 0 0 Z",pathFormula:Le.ROUND_RECT_SINGLE},{viewBox:[200,200],path:"M 0 50 Q 0 0 50 0 L 150 0 Q 200 0 200 50 L 200 200 L 0 200 Z",pathFormula:Le.ROUND_RECT_SAMESIDE}]},{type:"常用形状",children:[{viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z"},{viewBox:[200,200],path:"M 0 200 A 50 100 0 1 1 200 200 L 0 200 Z"},{viewBox:[200,200],path:"M 40 20 A 100 100 0 1 0 200 100 L 100 100 L 40 20 Z"},{viewBox:[200,200],path:"M 100 0 A 100 100 102 1 0 200 100 L 100 100 L 100 0 Z"},{viewBox:[200,200],path:"M 160 20 A 100 100 0 1 0 200 100 L 100 100 L 160 20 Z"},{viewBox:[200,200],path:"M 100 0 A 100 100 102 1 0 200 100 L 100 0 Z"},{viewBox:[200,200],path:"M 100 0 A 100 100 102 1 0 200 100 L 200 0 L 100 0 Z"},{viewBox:[200,200],path:"M 0 0 L 200 0 Q 200 200 0 200 L 0 0 Z"},{viewBox:[200,200],path:"M 100 0 L 0 200 L 200 200 L 100 0 Z"},{viewBox:[200,200],path:"M 0 0 L 0 200 L 200 200 Z"},{viewBox:[200,200],path:"M 50 0 L 200 0 L 150 200 L 0 200 L 50 0 Z"},{viewBox:[200,200],path:"M 0 0 L 150 0 L 200 200 L 50 200 L 0 0 Z"},{viewBox:[200,200],path:"M 50 0 L 150 0 L 200 200 L 0 200 L 50 0 Z"},{viewBox:[200,200],path:"M 100 0 L 0 100 L 100 200 L 200 100 L 100 0 Z"},{viewBox:[200,200],path:"M 100 0 L 0 90 L 50 200 L 150 200 L 200 90 L 100 0 Z"},{viewBox:[200,200],path:"M 100 0 L 0 60 L 0 140 L 100 200 L 200 140 L 200 60 L 100 0 Z"},{viewBox:[200,200],path:"M 60 0 L 140 0 L 200 60 L 200 140 L 140 200 L 60 200 L 0 140 L 0 60 L 60 0 Z"},{viewBox:[200,200],path:"M 75 0 L 125 0 L 175 25 L 200 75 L 200 125 L 175 175 L 125 200 L 75 200 L 25 175 L 0 125 L 0 75 L 25 25 L 75 0 Z"},{viewBox:[200,200],path:"M 100 0 L 0 50 L 0 200 L 200 200 L 200 50 L 100 0 Z"},{viewBox:[200,200],path:"M 150 0 A 50 100 0 1 1 150 200 L 0 200 L 0 0 L 150 0 Z"},{viewBox:[200,200],path:"M 50 0 A 25 50 0 1 0 50 200 L 150 200 A 25 50 0 1 0 150 0 L 50 0 Z"},{viewBox:[200,200],path:"M 150 0 A 50 100 0 1 1 150 200 L 0 200 A 50 100 0 0 0 0 0 L 150 0 Z"},{viewBox:[200,200],path:"M 200 100 L 150 0 L 0 0 L 50 100 L 0 200 L 150 200 L 200 100 Z"},{viewBox:[200,200],path:"M 200 0 L 200 200 L 0 200 L 0 100 L 200 0 Z"},{viewBox:[200,200],path:"M 0 0 L 200 100 L 200 200 L 0 200 L 0 0 Z"},{viewBox:[200,200],path:"M 200 0 L 100 0 L 0 100 L 0 200 L 200 0 Z"},{viewBox:[200,200],path:"M 50 0 L 150 0 L 150 50 L 200 50 L 200 150 L 150 150 L 150 200 L 50 200 L 50 150 L 0 150 L 0 50 L 50 50 L 50 0 Z"},{viewBox:[200,200],path:"M 0 0 L 0 200 L 200 200 L 200 140 L 60 140 L 60 0 L 0 0 Z",pathFormula:Le.L},{viewBox:[200,200],path:"M0 0 L200 0 L200 200 L0 200 L0 0 Z M50 50 L50 150 L150 150 L150 50 Z",pathFormula:Le.RING_RECT},{viewBox:[200,200],path:"M0 100 A100 100 0 1 1 0 101 Z M150 100 A50 50 0 1 0 150 101 Z"},{viewBox:[200,200],path:"M 70 0 L 70 70 L 0 70 L 0 130 L 70 130 L 70 200 L 130 200 L 130 130 L 200 130 L 200 70 L 130 70 L 130 0 L 70 0 Z",pathFormula:Le.PLUS},{viewBox:[200,200],path:"M 40 0 L 0 40 L 60 100 L 0 160 L 40 200 L 100 140 L 160 200 L 200 160 L 140 100 L 200 40 L 160 0 L 100 60 L 40 0 Z"},{viewBox:[200,200],path:"M 0 0 L 200 0 L 200 160 L 100 160 L 60 200 L 60 160 L 0 160 Z",pathFormula:Le.MESSAGE},{viewBox:[200,200],path:"M 0 40 Q 0 0 40 0 L 160 0 Q 200 0 200 40 L 200 120 Q 200 160 160 160 L 100 160 L 60 200 L 60 160 L 40 160 Q 0 160 0 120 L 0 40 Z",pathFormula:Le.ROUND_MESSAGE},{viewBox:[200,200],path:"M 180 160 A 100 100 0 1 0 100 200 L 200 200 L 200 160 L 180 160 Z"},{viewBox:[200,200],path:"M 200 0 L 0 0 L 200 200 L 0 200 L 200 0 Z"},{viewBox:[200,200],path:"M 0 20 C 60 60 140 -40 200 20 L 200 180 C 140 140 60 240 0 180 L 0 20 Z"},{viewBox:[200,200],path:"M 0 20 C 40 -40 60 60 100 20 C 140 -40 160 60 200 20 L 200 180 C 140 240 160 140 100 180 C 40 240 60 140 0 180 L 0 20 Z"},{viewBox:[200,200],path:"M 100 0 Q 0 50 0 175 Q 100 225 200 175 Q 200 50 100 0 Z"},{viewBox:[200,200],path:"M 0 100 A 50 50 0 1 1 200 100 L 100 200 L 0 100 Z"},{viewBox:[200,200],path:"M 100 0 L 60 60 L 0 100 L 60 140 L 100 200 L 140 140 L 200 100 L 140 60 L 100 0 Z"},{viewBox:[200,200],path:"M 100 0 L 80 40 L 20 20 L 40 80 L 0 100 L 40 120 L 20 180 L 80 160 L 100 200 L 120 160 L 180 180 L 160 120 L 200 100 L 160 80 L 180 20 L 120 40 L 100 0 Z"}]},{type:"箭头",children:[{viewBox:[200,200],path:"M 100 0 L 0 100 L 50 100 L 50 200 L 150 200 L 150 100 L 200 100 L 100 0 Z"},{viewBox:[200,200],path:"M 100 200 L 200 100 L 150 100 L 150 0 L 50 0 L 50 100 L 0 100 L 100 200 Z"},{viewBox:[200,200],path:"M 0 100 L 100 0 L 100 50 L 200 50 L 200 150 L 100 150 L 100 200 L 0 100 Z"},{viewBox:[200,200],path:"M 200 100 L 100 0 L 100 50 L 0 50 L 0 150 L 100 150 L 100 200 L 200 100 Z"},{viewBox:[200,200],path:"M 100 0 L 0 60 L 60 60 L 60 140 L 0 140 L 100 200 L 200 140 L 140 140 L 140 60 L 200 60 L 100 0 Z"},{viewBox:[200,200],path:"M 0 100 L 60 0 L 60 60 L 140 60 L 140 0 L 200 100 L 140 200 L 140 140 L 60 140 L 60 200 L 0 100 Z"},{viewBox:[200,200],path:"M 100 0 L 60 40 L 80 40 L 80 80 L 40 80 L 40 60 L 0 100 L 40 140 L 40 120 L 80 120 L 80 160 L 60 160 L 100 200 L 140 160 L 120 160 L 120 120 L 160 120 L 160 140 L 200 100 L 160 60 L 160 80 L 120 80 L 120 40 L 140 40 L 100 0 Z"},{viewBox:[200,200],path:"M 0 100 L 100 0 L 100 50 L 200 50 L 150 100 L 200 150 L 100 150 L 100 200 L 0 100 Z"},{viewBox:[200,200],path:"M 200 100 L 100 0 L 100 50 L 0 50 L 50 100 L 0 150 L 100 150 L 100 200 L 200 100 Z"},{viewBox:[200,200],path:"M 0 100 L 80 20 L 80 80 L 120 80 L 120 0 L 200 0 L 200 200 L 120 200 L 120 120 L 80 120 L 80 180 L 0 100 Z"},{viewBox:[200,200],path:"M 200 100 L 120 20 L 120 80 L 80 80 L 80 0 L 0 0 L 0 200 L 80 200 L 80 120 L 120 120 L 120 180 L 200 100 Z"},{viewBox:[200,200],path:"M 0 0 L 120 0 L 200 100 L 120 200 L 0 200 L 80 100 L 0 0 Z"},{viewBox:[200,200],path:"M 80 0 L 200 0 L 120 100 L 200 200 L 80 200 L 0 100 L 80 0 Z"},{viewBox:[200,200],path:"M 0 0 L 140 0 L 200 100 L 140 200 L 0 200 L 0 100 L 0 0 Z"},{viewBox:[200,200],path:"M 60 0 L 200 0 L 200 100 L 200 200 L 60 200 L 0 100 L 60 0 Z"},{viewBox:[200,200],path:"M 0 0 L 200 100 L 0 200 L 60 100 L 0 0 Z"},{viewBox:[200,200],path:"M 200 0 L 0 100 L 200 200 L 140 100 L 200 0 Z"},{viewBox:[200,200],path:"M 0 0 L 80 0 L 200 100 L 80 200 L 0 200 L 120 100 L 0 0 Z"},{viewBox:[200,200],path:"M 200 0 L 120 0 L 0 100 L 120 200 L 200 200 L 80 100 L 200 0 Z"},{viewBox:[200,200],path:"M 0 200 L 180 200 L 180 40 L 200 40 L 160 0 L 120 40 L 140 40 L 140 160 L 0 160 L 0 200 Z"},{viewBox:[200,200],path:"M 0 200 L 0 20 L 160 20 L 160 0 L 200 40 L 160 80 L 160 60 L 40 60 L 40 200 L 0 200 Z"},{viewBox:[200,200],path:"M 40 180 L 180 180 L 180 40 L 200 40 L 160 0 L 120 40 L 140 40 L 140 140 L 40 140 L 40 120 L 0 160 L 40 200 L 40 180 Z"},{viewBox:[1024,1024],path:"M398.208 302.912V64L0 482.112l398.208 418.176V655.36c284.48 0 483.584 95.552 625.792 304.64-56.896-298.688-227.584-597.312-625.792-657.088z",special:!0},{viewBox:[1024,1024],path:"M625.792 302.912V64L1024 482.112l-398.208 418.176V655.36C341.312 655.36 142.208 750.912 0 960c56.896-298.688 227.584-597.312 625.792-657.088z",special:!0}]},{type:"其他形状",children:[{viewBox:[1024,1024],path:"M995.336 243.4016c-15.7584-36.5736-38.3376-69.26639999-66.91440001-97.37280001-28.5768-27.98879999-61.73999999-49.8624-98.78399999-65.26799998-38.22-15.876-78.6744-23.8728-120.4224-23.87280001-57.97680001 0-114.5424 15.876-163.69919999 45.864-11.76 7.17360001-22.932 15.05279999-33.51600001 23.63760001-10.584-8.5848-21.75600001-16.46400001-33.51600001-23.63760001-49.1568-29.98799999-105.7224-45.86399999-163.69919999-45.864-41.74799999 0-82.2024 7.9968-120.4224 23.87280001-36.9264 15.28799999-70.2072 37.27919999-98.78399999 65.26799998-28.6944 28.10640001-51.156 60.79919999-66.91440001 97.37280001-16.34639999 37.9848-24.696 78.3216-24.696 119.83439999 0 39.1608 7.9968 79.96800001 23.8728 121.48080001 13.28880001 34.692 32.34000001 70.67760001 56.6832 107.016 38.57279999 57.5064 91.61040001 117.4824 157.4664 178.28160001 109.1328 100.78319999 217.2072 170.4024 221.79359999 173.22479998l27.87120001 17.8752c12.348 7.8792 28.224 7.8792 40.572 0l27.87119999-17.8752c4.58639999-2.94 112.54319999-72.44159999 221.79360001-173.22479998 65.85599999-60.79919999 118.89359999-120.7752 157.4664-178.28160001 24.3432-36.33839999 43.512-72.324 56.68319999-107.016 15.876-41.5128 23.8728-82.32 23.87280001-121.48080001 0.1176-41.5128-8.232-81.8496-24.5784-119.83439999z",special:!0},{viewBox:[1024,1024],path:"M985.20746667 343.50079998l-303.32586667-44.08319999L546.28693333 24.5248c-3.70346666-7.5264-9.79626667-13.6192-17.32266665-17.32266668-18.87573334-9.3184-41.81333333-1.55306667-51.25120001 17.32266668L342.1184 299.41759999l-303.32586667 44.08319999c-8.36266667 1.19466667-16.00853333 5.13706667-21.8624 11.11040001-14.69440001 15.17226667-14.45546667 39.30453334 0.71679999 54.1184l219.46026668 213.9648-51.84853333 302.1312c-1.43359999 8.24320001-0.11946667 16.8448 3.82293333 24.25173333 9.79626667 18.6368 32.9728 25.92426667 51.6096 16.00853334L512 822.44266665l271.3088 142.64320001c7.40693333 3.9424 16.00853333 5.25653333 24.25173333 3.82293333 20.78719999-3.584 34.7648-23.296 31.1808-44.0832l-51.84853333-302.1312 219.46026668-213.9648c5.97333334-5.85386666 9.91573333-13.49973334 11.11039999-21.8624 3.2256-20.90666667-11.34933333-40.26026667-32.256-43.36640001z",special:!0},{viewBox:[1024,1024],path:"M852.65066667 405.84533333C800.54044445 268.40177778 667.76177778 170.66666667 512.22755555 170.66666667S223.91466667 268.288 171.80444445 405.73155555C74.29688889 431.33155555 2.27555555 520.07822222 2.27555555 625.77777778c0 125.72444445 101.83111111 227.55555555 227.44177778 227.55555555h564.56533334C919.89333333 853.33333333 1021.72444445 751.50222222 1021.72444445 625.77777778c0-105.472-71.79377778-194.21866667-169.07377778-219.93244445z",special:!0},{viewBox:[1024,1024],path:"M926.25224691 323.7371485H654.6457886L898.88200917 15.14388241c5.05486373-6.53433603 0.49315743-16.02761669-7.76722963-16.02761668H418.30008701c-3.45210206 0-6.78091476 1.84934039-8.50696579 4.93157436L90.35039154 555.76772251c-3.82197013 6.53433603 0.86302552 14.7947231 8.50696578 14.79472311h215.01664245l-110.22068713 440.88274851c-2.34249783 9.61657002 9.24670194 16.39748478 16.39748477 9.49328065L933.03316167 340.62779071c6.41104668-6.0411786 2.09591911-16.8906422-6.78091476-16.89064221z",special:!0},{viewBox:[1024,1024],path:"M878.47822222 463.30311111c-22.18666667-49.83466667-53.93066667-93.98044445-94.32177777-131.072l-33.10933334-30.37866666c-4.89244445-4.32355555-12.62933333-2.38933333-14.79111111 3.75466666l-14.79111111 42.43911111c-9.216 26.624-26.16888889 53.81688889-50.176 80.55466667-1.59288889 1.70666667-3.41333333 2.16177778-4.66488889 2.27555556-1.25155555 0.11377778-3.18577778-0.11377778-4.89244445-1.70666667-1.59288889-1.36533333-2.38933333-3.41333333-2.27555555-5.46133333 4.20977778-68.49422222-16.27022222-145.74933333-61.09866667-229.83111112C561.26577778 124.01777778 509.72444445 69.51822222 445.32622222 31.51644445l-46.99022222-27.648c-6.144-3.64088889-13.99466667 1.13777778-13.65333333 8.30577777l2.50311111 54.61333333c1.70666667 37.31911111-2.61688889 70.31466667-12.85688889 97.73511112-12.51555555 33.56444445-30.49244445 64.73955555-53.47555556 92.72888888-16.15644445 19.56977778-34.24711111 37.20533333-54.04444444 52.45155556-47.90044445 36.75022222-87.38133333 84.65066667-114.11911111 138.24C125.72444445 502.10133333 111.50222222 562.74488889 111.50222222 623.50222222c0 53.70311111 10.58133333 105.69955555 31.51644445 154.73777778 20.25244445 47.21777778 49.152 89.77066667 85.90222222 126.17955555 36.864 36.40888889 79.64444445 65.08088889 127.31733333 84.992C405.61777778 1010.11911111 457.95555555 1020.58666667 512 1020.58666667s106.38222222-10.46755555 155.76177778-31.06133334c47.67288889-19.91111111 90.56711111-48.46933333 127.31733333-84.992 36.864-36.40888889 65.76355555-78.96177778 85.90222222-126.17955555 20.93511111-49.03822222 31.51644445-101.03466667 31.51644445-154.73777778 0-55.52355555-11.37777778-109.45422222-34.01955556-160.31288889z",special:!0},{viewBox:[1024,1024],path:"M968.20337778 20.11591112H705.44042667c-22.17301333 0-41.92483556 15.16430222-47.14951111 37.33731555C642.36202666 124.73685332 582.08711111 173.03324444 512 173.03324444s-130.36202666-48.29639112-146.29091556-115.58001777c-5.22467555-22.17301333-24.84906667-37.33731556-47.14951111-37.33731555H55.79662222c-30.96576 0-56.06968889 25.10392889-56.06968888 56.06968888v321.12639999c0 30.96576 25.10392889 56.06968889 56.06968888 56.06968889h95.57333334v494.43271112c0 30.96576 25.10392889 56.06968889 56.06968889 56.06968888h609.1207111c30.96576 0 56.06968889-25.10392889 56.06968889-56.06968888V453.38168888h95.57333334c30.96576 0 56.06968889-25.10392889 56.06968888-56.06968889V76.1856c0-30.96576-25.10392889-56.06968889-56.06968888-56.06968888z",special:!0},{viewBox:[1024,1024],path:"M980.94648889 239.80714666H523.46880001L373.99210666 96.82944c-1.91146667-1.78403556-4.46008889-2.80348444-7.00871111-2.80348445H43.05351111c-22.55530667 0-40.77795555 18.22264888-40.77795555 40.77795557v754.39217776c0 22.55530667 18.22264888 40.77795555 40.77795555 40.77795557h937.89297778c22.55530667 0 40.77795555-18.22264888 40.77795555-40.77795557V280.58510222c0-22.55530667-18.22264888-40.77795555-40.77795555-40.77795556z",special:!0},{viewBox:[1024,1024],path:"M972.60904597 164.57058577L841.30587843 33.39070759c-18.86327195-18.86327195-44.1375906-29.34286748-70.64480282-29.3428675-26.75379095 0-51.90482023 10.47959553-70.76809219 29.3428675L558.60337778 174.68031322c-18.86327195 18.86327195-29.34286748 44.1375906-29.34286749 70.64480283 0 26.75379095 10.47959553 51.90482023 29.34286749 70.76809218l103.31648301 103.31648302c-24.28800376 53.50758189-57.69942011 101.59043198-99.24793416 143.13894603-41.42522469 41.67180341-89.63136414 75.08321976-143.13894603 99.61780223L316.21649759 558.84995649c-18.86327195-18.86327195-44.1375906-29.34286748-70.64480283-29.34286747-26.75379095 0-51.90482023 10.47959553-70.76809217 29.34286747L33.39070759 700.01627278c-18.86327195 18.86327195-29.34286748 44.1375906-29.3428675 70.76809217 0 26.75379095 10.47959553 51.90482023 29.3428675 70.76809219l131.05658883 131.05658883c30.08260365 30.205893 71.63111769 47.34311394 114.28923598 47.34311394 9.00012323 0 17.63037836-0.73973616 26.13734414-2.21920846 166.19405621-27.37023774 331.03192945-115.76870829 464.06114804-248.67463751C901.84095379 636.27567408 990.11613498 471.56109018 1017.85624079 304.87387654c8.38367642-50.91850535-8.50696579-103.31648302-45.24719482-140.30329077z",special:!0},{viewBox:[1024,1024],path:"M910.60451556 640.96028445c-20.38897778-65.49959112-43.83630221-120.54983112-79.89930667-210.64362666C836.31217778 193.67708444 737.93535999 2.27555556 511.36284444 2.27555556 282.24170667 2.27555556 186.03121778 197.50001778 192.14791111 430.31665779c-36.19043555 90.22122667-59.51032888 144.88917333-79.89930667 210.64362666-43.32657778 139.53706668-29.30915556 197.26336001-18.60494222 198.53767111 22.9376 2.80348444 89.32920888-105.00323556 89.32920889-105.00323556 0 62.44124445 32.11264001 143.86972444 101.69002667 202.61546667-33.64181333 10.32192-109.20846222 38.10190221-91.24067556 68.55793777 14.52714667 24.59420444 250.01984 15.67402668 317.94062222 8.02816 67.92078222 7.64586667 303.41347556 16.56604444 317.94062223-8.02816 17.96778667-30.32860444-57.72629333-58.23601779-91.24067555-68.55793777 69.57738667-58.87317334 101.69002667-140.30165333 101.69002667-202.61546667 0 0 66.39160889 107.80672 89.32920888 105.00323556 10.83164445-1.40174222 24.84906667-59.12803556-18.47751111-198.53767111z",special:!0},{viewBox:[1024,1024],path:"M1016.86992592 199.24764445c-37.13706667 16.01991111-77.55093333 27.54939259-119.17842962 32.03982222 42.96248889-25.60758518 75.60912592-66.02145185 91.02222222-114.08118519-39.68568889 23.66577778-84.58998518 41.02068148-131.31472593 50.00154074C819.53374815 126.79395555 765.76995555 101.79318518 706.18074075 101.79318518c-114.688 0-206.92385185 92.96402963-206.92385186 207.04521482 0 16.01991111 1.94180741 32.03982222 5.09724444 47.45291852-171.72859259-8.98085925-324.88865185-91.02222222-426.71217778-216.63288889-17.96171852 30.82619259-28.15620741 66.02145185-28.1562074 104.49351112 0 71.84687408 36.53025185 135.19834075 92.23585185 172.45677036-33.98162963-1.33499259-66.02145185-10.92266667-93.57084445-26.33576296v2.54862222c0 100.6098963 71.1186963 183.98625185 165.90317037 203.1616-17.3549037 4.49042963-35.92343703 7.03905185-54.49197037 7.03905185-13.47128889 0-26.2144-1.33499259-39.07887407-3.15543704C146.69748148 681.90814815 223.03478518 741.49736297 313.93564445 743.43917037c-71.1186963 55.7056-160.19911111 88.4736-256.9253926 88.4736-17.3549037 0-33.37481482-0.60681482-50.00154074-2.54862222C98.75911111 888.22518518 207.62168889 922.20681482 324.85831111 922.20681482 705.45256297 922.20681482 913.71140741 606.90583703 913.71140741 333.23235555c0-8.98085925 0-17.96171852-0.60681482-26.94257777 40.2925037-29.4912 75.60912592-66.02145185 103.76533333-107.04213333z",special:!0},{viewBox:[1024,1024],path:"M917.96720197 1.08889505H106.03279803C53.56084718 1.08889505 9.37393998 45.27580225 9.37393998 97.74775309v5.52336372c0 19.33177108 8.28504494 41.42522469 22.0934536 55.23363205l331.40179753 392.15879462v325.87843379c0 16.57008987 8.28504494 30.37849854 22.09345359 35.90186098l209.88780469 104.94390299 2.76168121 2.76168121c27.61681602 11.04672615 55.23363335-8.28504494 55.23363335-38.66354218V550.66354348l331.40179753-392.15879462c35.90186097-41.42522469 30.37849854-102.18222047-11.04672616-135.32240022-11.04672615-13.80840865-33.14017975-22.0934536-55.23363335-22.09345359z",special:!0},{viewBox:[1024,1024],path:"M491.70164031 97.48884502a25.89076502 25.89076502 0 0 1 40.59671938 0L745.66415762 367.01171317a25.89076502 25.89076502 0 0 0 30.49932208 7.72839349l208.00640948-89.14190458a25.89076502 25.89076502 0 0 1 35.56096592 29.06238339l-115.18801541 554.96855704A103.56306132 103.56306132 0 0 1 803.14165689 952.14301275H220.85834311a103.56306132 103.56306132 0 0 1-101.4011828-82.51387024l-115.18801541-554.96855704a25.89076502 25.89076502 0 0 1 35.54802012-29.06238339l208.01935528 89.14190458a25.89076502 25.89076502 0 0 0 30.49932208-7.72839349l213.36579793-269.52286815z",special:!0},{viewBox:[1024,1024],path:"M643.02466884 387.7801525c19.85376751-88.69205333 33.718272-152.84087467 41.61900049-192.57389433C704.52292267 95.17283515 652.90057916 2.27555515 550.58614084 2.27555515c-92.26012484 0-138.59407685 45.84971417-165.91530666 137.49816969l-0.70087152 2.67605334c-16.40038399 74.13942085-41.47882668 131.61085116-74.6746315 172.73287031a189.06953915 189.06953915 0 0 1-143.04142182 70.44391902l-26.17434983 0.5606965C77.66380049 387.52529067 27.76177817 438.90551468 27.76177817 501.84374084V881.55022182c0 77.4144 62.25009818 140.17422182 139.05282766 140.17422303h492.82707951c101.23127467 0 191.59267516-63.995904 225.93535999-159.98976l102.37815468-286.22301868c26.04691951-72.82688-11.39234134-153.15945284-83.63303784-179.42300483a138.04612267 138.04612267 0 0 0-47.17499733-8.30850884H643.02466884z",special:!0},{viewBox:[1024,1024],path:"M512 512c140.82958222 0 254.86222222-114.03264 254.86222222-254.86222222S652.82958222 2.27555555 512 2.27555555a254.78940445 254.78940445 0 0 0-254.86222222 254.86222223C257.13777778 397.96736 371.17041778 512 512 512z m0 72.81777778c-170.10232889 0-509.72444445 97.57582222-509.72444445 291.27111111v145.63555556h1019.4488889v-145.63555556c0-193.69528889-339.62211555-291.27111111-509.72444445-291.27111111z",special:!0},{viewBox:[1024,1024],path:"M1019.81297778 564.50161779l-138.89991111-472.51456c-8.66531556-25.99594668-29.43658667-43.45400889-57.21656889-43.45400891s-50.33528889 15.67402668-59.00060446 41.66997334l-92.00526221 274.48661334H351.69166222L259.6864 90.33045333c-8.66531556-25.99594668-31.22062222-41.66997333-59.00060444-41.66997332s-50.33528889 17.33063112-57.2165689 43.45400887L4.69674667 564.50161779c-5.22467555 17.33063112 1.78403556 36.44529778 15.67402667 46.89464887l491.11950221 368.27591113 492.77610666-368.27591113c13.76256-10.32192 20.77127111-29.43658667 15.54659557-46.89464887z",special:!0},{viewBox:[1024,1024],path:"M927.78951111 340.39277037c-12.01493333-47.81700741 12.01493333-124.03294815 89.08041481-150.97552592l-82.40545184-4.36906667s-31.19028148-109.22666667-174.27721483-118.9357037c-143.08693333-9.8304-236.65777778-3.64088889-236.65777777-3.6408889s106.07122963 67.47780741 63.5941926 187.74850371c-31.06891852 63.71555555-79.85682963 116.02299259-132.04290371 175.61220741-1.57771852 1.57771852-3.03407408 3.15543703-4.2477037 4.49042962C278.25493333 624.86755555 7.13007408 934.34311111 7.13007408 934.34311111c298.43152592 78.15774815 498.43768889-7.64586667 616.76657777-110.56165926 24.87940741-0.24272592 43.5693037-0.36408889 56.19105185-0.36408888 164.8109037 0 304.13558518-142.72284445 298.43152593-301.4656-3.88361482-109.1053037-38.71478518-133.74198518-50.72971852-181.5589926z",special:!0},{viewBox:[1024,1024],path:"M997.8886764 504.17210418L537.2729208 43.89182982c-13.97838539-13.97838539-36.56745619-13.97838539-50.5458416 0L26.1113236 504.17210418c-13.41924998 13.41924998-21.02349164 31.64706454-21.02349163 50.65766867 0 39.47496036 32.09437288 71.56933323 71.56933324 71.56933323h48.53295408V954.83524937c0 19.79339373 15.99127289 35.78466661 35.78466663 35.78466662H440.43066677V740.12724968h125.24633315v250.49266631h297.34821416c19.79339373 0 35.78466661-15.99127289 35.78466663-35.78466662V626.39910608h48.53295408c19.01060414 0 37.23841869-7.49241457 50.65766869-21.02349163 27.84494371-27.95677079 27.84494371-73.24673948-0.11182708-101.20351027z",special:!0},{viewBox:[1024,1024],path:"M1009.13013121 349.27572283L674.72427717 14.86986879c-8.82158299-8.82158299-20.35749924-13.16451618-31.89341544-13.16451618s-23.07183245 4.34293316-31.89341547 13.16451618L392.29790453 233.6451272c-16.5574327-1.90003326-33.25058207-2.71433322-49.94373146-2.71433324-99.34459624 0-198.68919249 32.70771543-280.25490606 98.12314628-20.90036589 16.69314938-22.52896582 48.04369819-3.66434987 67.04403081l246.59717401 246.59717401-292.33368895 292.06225564c-3.52863319 3.52863319-5.83581644 8.27871636-6.24296642 13.30023282l-4.61436649 50.48659809c-1.22144996 12.75736619 8.95729967 23.6146991 21.57894918 23.6146991 0.6785833 0 1.35716662 0 2.03574992-0.13571666l50.48659809-4.61436649c5.02151649-0.40714999 9.77159962-2.71433322 13.30023282-6.24296643l292.33368896-292.33368896 246.59717402 246.59717401c8.82158299 8.82158299 20.35749924 13.16451618 31.89341544 13.16451618 13.16451618 0 26.19331567-5.70009979 35.15061536-16.82886604 76.40848044-95.40881307 108.16617924-214.83947521 95.27309638-330.33435417l218.63954175-218.63954173c17.50744934-17.37173267 17.50744934-45.8722316 0-63.51539759z",special:!0},{viewBox:[1024,1024],path:"M976.62005979 160.47737905c-0.39452595-0.39452595-80.35178503 78.64217259-239.47725131 237.50462156l-111.6508437-111.65084369 237.89914752-237.89914752c-125.19623464-75.35445635-286.03131335-56.02268482-390.31767264 48.26367449-81.92988882 81.92988882-112.57140424 200.15616502-83.37648398 310.09739626l2.36715569 8.81107954-372.82702222 372.69551356c-8.15353628 8.15353628-8.15353628 21.56741857 0 29.72095487l185.95323084 185.95323084c8.15353628 8.15353628 21.56741857 8.15353628 29.72095485 0l372.56400493-372.56400493 8.81107953 2.3671557c110.07273989 29.32642892 228.29901608-1.18357785 310.36041356-83.24497533 104.41786795-104.2863593 123.74963948-265.12143802 49.97328693-390.05465535z",special:!0}]},{type:"线性",children:[{viewBox:[1024,1024],path:"M953.5488 832.61667556c-24.08448-57.08913778-58.74574221-108.31644445-102.70947556-152.28017777-43.96373333-43.96373333-95.19104-78.49756444-152.28017777-102.70947558-0.50972445-0.25486222-1.01944888-0.38229333-1.52917334-0.63715555C776.41955556 519.64586667 828.02915556 426.23886221 828.02915556 320.85333332c0-174.58062221-141.44853334-316.02915556-316.02915556-316.02915554S195.97084444 146.27271111 195.97084444 320.85333332c0 105.38552889 51.6096 198.79253333 130.99918223 256.26396447-0.50972445 0.25486222-1.01944888 0.38229333-1.52917334 0.63715555-57.08913778 24.08448-108.31644445 58.61831112-152.28017777 102.70947554-43.96373333 43.96373333-78.49756444 95.19104-102.70947556 152.28017779C46.74901333 888.55893332 34.13333334 947.8144 32.85902222 1008.72647111c-0.12743111 5.7344 4.46008889 10.44935111 10.19448889 10.44935111h76.45866667c5.60696888 0 10.06705778-4.46008889 10.19448889-9.93962666 2.54862221-98.37681778 42.05226667-190.50951112 111.88451555-260.34176001 72.25344-72.25344 168.20906666-112.01194667 270.40881778-112.01194667s198.15537778 39.75850667 270.40881778 112.01194667C852.24106667 818.72668444 891.74471111 910.85937779 894.29333333 1009.23619556c0.12743111 5.60696888 4.58752 9.93962667 10.19448889 9.93962666h76.45866667c5.7344 0 10.32192-4.71495112 10.19448889-10.44935111-1.27431111-60.91207112-13.88999112-120.16753779-37.59217778-176.10979555zM512 540.03484444c-58.49088 0-113.54112-22.81016889-154.95623111-64.22527999S292.81848888 379.34421333 292.81848888 320.85333332c0-58.49088 22.81016889-113.54112 64.22528001-154.9562311S453.50912 101.67182221 512 101.67182221s113.54112 22.81016889 154.95623111 64.22528001S731.18151112 262.36245333 731.18151112 320.85333332c0 58.49088-22.81016889 113.54112-64.22528001 154.95623113S570.49088 540.03484444 512 540.03484444z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M985.31555555 111.50222222H38.68444445c-20.13866667 0-36.40888889 16.27022222-36.4088889 36.40888889v728.17777778c0 20.13866667 16.27022222 36.40888889 36.4088889 36.40888889h946.6311111c20.13866667 0 36.40888889-16.27022222 36.4088889-36.40888889V147.91111111c0-20.13866667-16.27022222-36.40888889-36.4088889-36.40888889z m-45.5111111 126.06577778V830.57777778H84.19555555V237.568l-31.40266666-24.46222222 44.71466666-57.45777778 48.6968889 37.888h731.70488888l48.69688889-37.888 44.71466667 57.45777778-31.51644444 24.46222222z M877.90933333 193.42222222L512 477.86666667 146.09066667 193.42222222l-48.69688889-37.888-44.71466667 57.45777778 31.40266667 24.46222222 388.66488889 302.19377778c22.98311111 17.86311111 55.18222222 17.86311111 78.16533333 0L939.80444445 237.568l31.40266666-24.46222222-44.71466666-57.45777778-48.58311112 37.77422222z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M985.31555555 88.74666667H38.68444445c-20.13866667 0-36.40888889 16.27022222-36.4088889 36.40888888v564.33777778c0 20.13866667 16.27022222 36.40888889 36.4088889 36.40888889h432.35555555v127.43111111H275.34222222c-10.01244445 0-18.20444445 8.192-18.20444444 18.20444445v54.61333333c0 5.00622222 4.096 9.10222222 9.10222222 9.10222222h491.52c5.00622222 0 9.10222222-4.096 9.10222222-9.10222222v-54.61333333c0-10.01244445-8.192-18.20444445-18.20444444-18.20444445H552.96V725.90222222h432.35555555c20.13866667 0 36.40888889-16.27022222 36.4088889-36.40888889V125.15555555c0-20.13866667-16.27022222-36.40888889-36.4088889-36.40888888z m-45.5111111 555.23555555H84.19555555V170.66666667h855.6088889v473.31555555z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M512 2.27555555C230.51377778 2.27555555 2.27555555 230.51377778 2.27555555 512s228.23822222 509.72444445 509.72444445 509.72444445 509.72444445-228.23822222 509.72444445-509.72444445S793.48622222 2.27555555 512 2.27555555z m0 932.97777778c-233.69955555 0-423.25333333-189.55377778-423.25333333-423.25333333 0-101.26222222 35.61244445-194.33244445 95.00444444-267.15022222l595.39911111 595.39911111C706.33244445 899.64088889 613.26222222 935.25333333 512 935.25333333z m328.24888889-156.10311111L244.84977778 183.75111111C317.66755555 124.35911111 410.73777778 88.74666667 512 88.74666667c233.69955555 0 423.25333333 189.55377778 423.25333333 423.25333333 0 101.26222222-35.61244445 194.33244445-95.00444444 267.15022222z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M901.80266667 257.82044445L656.95288889 12.97066667c-6.82666667-6.82666667-16.04266667-10.69511111-25.71377778-10.69511112H147.91111111c-20.13866667 0-36.40888889 16.27022222-36.40888889 36.4088889v946.6311111c0 20.13866667 16.27022222 36.40888889 36.40888889 36.4088889h728.17777778c20.13866667 0 36.40888889-16.27022222 36.40888889-36.4088889V283.648c0-9.67111111-3.86844445-19.00088889-10.69511111-25.82755555zM828.52977778 300.37333333H614.4V86.24355555L828.52977778 300.37333333z m2.048 639.43111112H193.42222222V84.19555555h343.60888889v245.76c0 26.39644445 21.39022222 47.78666667 47.78666667 47.78666667h245.76v562.06222223z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M981.07392 55.79662222H42.92608c-31.22062222 0-50.71758221 34.02410666-35.04355556 61.16693334L304.28728889 620.82616888V927.42542221c0 22.55530667 18.09521779 40.77795555 40.52309333 40.77795557h334.37923556c22.42787556 0 40.52309333-18.22264888 40.52309333-40.77795557V620.82616888L1016.24490667 116.96355556c15.54659555-27.14282666-3.95036444-61.16693333-35.17098667-61.16693334zM628.47203556 876.45297779H395.52796444V677.66044445h233.07150222v198.79253334z m12.23338666-301.50200891l-12.10595556 21.15356445h-233.19893332l-12.10595556-21.15356445L130.59868445 147.54702221h762.8026311L640.70542222 574.95096888z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M980.62285431 4.54099753H654.39920987c-4.2719763 0-7.76722963 3.49525333-7.76722962 7.76722964v72.4941432c0 4.2719763 3.49525333 7.76722963 7.76722962 7.76722963h207.64393877L604.04167111 350.57107753c-64.72691358-49.83972347-143.69374815-76.7661195-226.67365136-76.7661195-99.54999309 0-193.27456395 38.83614815-263.5679921 109.25903012S4.54099753 547.08198717 4.54099753 646.63198025s38.83614815 193.27456395 109.25903012 263.5679921C184.09345581 980.62285431 277.81802667 1019.45900247 377.36801975 1019.45900247s193.27456395-38.83614815 263.5679921-109.25903012C711.35889383 839.90654419 750.19504197 746.18197333 750.19504197 646.63198025c0-82.9799032-26.92639605-161.68783013-76.63666567-226.41474372L931.4304 162.34521283V369.60079013c0 4.2719763 3.49525333 7.76722963 7.76722963 7.76722962h72.4941432c4.2719763 0 7.76722963-3.49525333 7.76722964-7.76722962V43.37714569c0-21.35988148-17.47626667-38.83614815-38.83614816-38.83614816zM377.36801975 921.07409383c-151.33152395 0-274.44211358-123.11058963-274.44211358-274.44211358s123.11058963-274.44211358 274.44211358-274.44211358 274.44211358 123.11058963 274.44211358 274.44211358-123.11058963 274.44211358-274.44211358 274.44211358z",special:!0,outlined:!0},{viewBox:[1024,1024],path:"M591.98717801 512l405.34042913-483.16579151c6.79427767-8.02960089 1.08090782-20.22841761-9.41933951-20.2284176h-123.22349044c-7.25752386 0-14.20621693 3.24272343-18.99309439 8.80167789L511.38233839 415.95362022 177.07299399 17.40746878c-4.63246205-5.55895447-11.58115512-8.80167789-18.99309439-8.80167789H34.85640916c-10.50024731 0-16.21361717 12.19881672-9.41933952 20.2284176L430.77749876 512 25.43706964 995.16579151c-6.79427767 8.02960089-1.08090782 20.22841761 9.41933952 20.2284176h123.22349044c7.25752386 0 14.20621693-3.24272343 18.99309439-8.80167789l334.3093444-398.54615144 334.30934441 398.54615144c4.63246205 5.55895447 11.58115512 8.80167789 18.99309439 8.80167789h123.22349044c10.50024731 0 16.21361717-12.19881672 9.41933951-20.2284176L591.98717801 512z",special:!0,outlined:!0}]}],ut={bar:"bar",horizontalBar:"bar",line:"line",area:"line",scatter:"line",pie:"pie",ring:"pie"},dt=function(){var e=Ce(),t=Object(ne["debounce"])((function(){e.addSnapshot()}),300,{trailing:!0}),n=Object(ne["throttle"])((function(){e.reDo()}),100,{leading:!0,trailing:!1}),o=Object(ne["throttle"])((function(){e.unDo()}),100,{leading:!0,trailing:!1});return{addHistorySnapshot:t,redo:n,undo:o}},st=function(){var e=ue(),t=ae(),n=Object(y["c"])(e),o=n.creatingElement,c=Object(y["c"])(t),l=c.theme,a=c.viewportRatio,r=dt(),i=r.addHistorySnapshot,u=function(n,c){t.addElement(n),e.setActiveElementIdList([n.id]),o.value&&e.setCreatingElement(null),setTimeout((function(){e.setEditorareaFocus(!0)}),0),c&&c(),i()},d=function(e){ct(e).then((function(t){var n=t.width,o=t.height,c=o/n;c<a.value&&n>at?(n=at,o=n*c):o>at*a.value&&(o=at*a.value,n=o/c),u({type:"image",id:Object(C["b"])(10),src:e,width:n,height:o,left:(at-n)/2,top:(at*a.value-o)/2,fixedRatio:!0,rotate:0})}))},s=function(e){var t={type:"chart",id:Object(C["b"])(10),chartType:ut[e],left:300,top:81.25,width:400,height:400,rotate:0,themeColor:[l.value.themeColor],gridColor:l.value.fontColor,data:{labels:["类别1","类别2","类别3","类别4","类别5"],legends:["系列1"],series:[[12,19,5,2,18]]}},n={};"horizontalBar"===e?n={horizontalBars:!0}:"area"===e?n={showArea:!0}:"scatter"===e?n={showLine:!1}:"ring"===e&&(n={donut:!0}),u(Object(L["a"])(Object(L["a"])({},t),{},{options:n}))},f=function(e,t){for(var n={fontname:l.value.fontName,color:l.value.fontColor},o=[],c=0;c<e;c++){for(var r=[],i=0;i<t;i++)r.push({id:Object(C["b"])(10),colspan:1,rowspan:1,text:"",style:n});o.push(r)}var d=100,s=36,f=new Array(t).fill(1/t),b=t*d,m=e*s;u({type:"table",id:Object(C["b"])(10),width:b,height:m,colWidths:f,rotate:0,data:o,left:(at-b)/2,top:(at*a.value-m)/2,outline:{width:2,style:"solid",color:"#eeece1"},theme:{color:l.value.themeColor,rowHeader:!0,rowFooter:!1,colHeader:!1,colFooter:!1}})},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.left,o=e.top,c=e.width,a=e.height,r=Object(C["b"])(10);u({type:"text",id:r,left:n,top:o,width:c,height:a,content:t,rotate:0,defaultFontName:l.value.fontName,defaultColor:l.value.fontColor},(function(){setTimeout((function(){var e=document.querySelector("#editable-element-".concat(r," .ProseMirror"));e&&e.focus()}),0)}))},m=function(e,t){var n=e.left,o=e.top,c=e.width,a=e.height,r={type:"shape",id:Object(C["b"])(10),left:n,top:o,width:c,height:a,viewBox:t.viewBox,path:t.path,fill:l.value.themeColor,fixedRatio:!1,rotate:0};t.special&&(r.special=!0),t.pathFormula&&(r.pathFormula=t.pathFormula,r.viewBox=[c,a],r.path=rt[t.pathFormula](c,a)),u(r)},p=function(e,t){var n=e.left,o=e.top,c=e.start,a=e.end,r={type:"line",id:Object(C["b"])(10),left:n,top:o,start:c,end:a,points:t.points,color:l.value.themeColor,style:t.style,width:2};t.isBroken&&(r.broken=[(c[0]+a[0])/2,(c[1]+a[1])/2]),t.isCurve&&(r.curve=[(c[0]+a[0])/2,(c[1]+a[1])/2]),t.isCubic&&(r.cubic=[[(c[0]+a[0])/2,(c[1]+a[1])/2],[(c[0]+a[0])/2,(c[1]+a[1])/2]]),u(r)},v=function(e){u({type:"latex",id:Object(C["b"])(10),width:e.w,height:e.h,rotate:0,left:(at-e.w)/2,top:(at*a.value-e.h)/2,path:e.path,latex:e.latex,color:l.value.fontColor,strokeWidth:2,viewBox:[e.w,e.h],fixedRatio:!0})},O=function(e){u({type:"video",id:Object(C["b"])(10),width:500,height:300,rotate:0,left:(at-500)/2,top:(at*a.value-300)/2,src:e})},h=function(e){u({type:"audio",id:Object(C["b"])(10),width:50,height:50,rotate:0,left:(at-50)/2,top:(at*a.value-50)/2,loop:!1,autoplay:!1,fixedRatio:!0,color:l.value.themeColor,src:e})};return{createImageElement:d,createChartElement:s,createTableElement:f,createTextElement:b,createShapeElement:m,createLineElement:p,createLatexElement:v,createVideoElement:O,createAudioElement:h}},ft=(n("07ac"),function(){var e=ue(),t=ae(),n=Object(y["c"])(t),o=n.currentSlide,c=dt(),l=c.addHistorySnapshot,a=function(n){var c,a=$e(n),r=a.groupIdMap,i=a.elIdMap,u=o.value.elements.map((function(e){return e.id})),d=Object(T["a"])(n);try{for(d.s();!(c=d.n()).done;){var s=c.value,f=u.includes(s.id);s.id=i[s.id],f&&(s.left=s.left+10,s.top=s.top+10),s.groupId&&(s.groupId=r[s.groupId])}}catch(b){d.e(b)}finally{d.f()}t.addElement(n),e.setActiveElementIdList(Object.values(i)),l()},r=function(e){var n=e.map((function(e){var t,n=$e(e.elements),o=n.groupIdMap,c=n.elIdMap,l=Object(T["a"])(e.elements);try{for(l.s();!(t=l.n()).done;){var a=t.value;a.id=c[a.id],a.groupId&&(a.groupId=o[a.groupId])}}catch(d){l.e(d)}finally{l.f()}if(e.animations){var r,i=Object(T["a"])(e.animations);try{for(i.s();!(r=i.n()).done;){var u=r.value;u.id=Object(C["b"])(10),u.elId=c[u.elId]}}catch(d){i.e(d)}finally{i.f()}}return Object(L["a"])(Object(L["a"])({},e),{},{id:Object(C["b"])(10)})}));t.addSlide(n),l()};return{addElementsFromData:a,addSlidesFromData:r}}),bt=function(){var e=st(),t=e.createTextElement,n=ft(),o=n.addElementsFromData,c=n.addSlidesFromData,l=function(e){t({left:0,top:0,width:600,height:50},e)},a=function(e,t){var n=(null===t||void 0===t?void 0:t.onlySlide)||!1,a=(null===t||void 0===t?void 0:t.onlyElements)||!1,r=Ge(e);if("object"===Object(nt["a"])(r)){var i=r.type,u=r.data;"elements"!==i||n?"slides"!==i||a||c(u):o(u)}else if(!a&&!n){var d=ot(r);l(d)}};return{pasteTextClipboardData:a}},mt=function(){var e=ue(),t=ae(),n=Object(y["c"])(e),o=n.selectedSlidesIndex,c=n.activeElementIdList,l=Object(y["c"])(t),a=l.currentSlide,r=l.slides,i=l.theme,u=l.slideIndex,d=Object(j["computed"])((function(){return[].concat(Object($["a"])(o.value),[u.value])})),s=Object(j["computed"])((function(){return r.value.filter((function(e,t){return d.value.includes(t)}))})),f=Object(j["computed"])((function(){return s.value.map((function(e){return e.id}))})),b=bt(),m=b.pasteTextClipboardData,p=ft(),v=p.addSlidesFromData,O=dt(),h=O.addHistorySnapshot,g=function(){var n={id:Object(C["b"])(10),elements:[],background:{type:"solid",color:i.value.backgroundColor}};t.updateSlideIndex(0),e.setActiveElementIdList([]),t.setSlides([n])},x=function(n){n===I.UP&&u.value>0?(c.value.length&&e.setActiveElementIdList([]),t.updateSlideIndex(u.value-1)):n===I.DOWN&&u.value<r.value.length-1&&(c.value.length&&e.setActiveElementIdList([]),t.updateSlideIndex(u.value+1))},k=function(){var t=He(JSON.stringify({type:"slides",data:s.value}));Ue(t).then((function(){e.setThumbnailsFocus(!0)}))},E=function(){We().then((function(e){m(e,{onlySlide:!0})})).catch((function(e){return De["a"].warning(e)}))},w=function(){var n={id:Object(C["b"])(10),elements:[],background:{type:"solid",color:i.value.backgroundColor}};e.setActiveElementIdList([]),t.addSlide(n),h()},N=function(n){var o,c=$e(n.elements),l=c.groupIdMap,a=c.elIdMap,r=Object(T["a"])(n.elements);try{for(r.s();!(o=r.n()).done;){var i=o.value;i.id=a[i.id],i.groupId&&(i.groupId=l[i.groupId])}}catch(d){r.e(d)}finally{r.f()}var u=Object(L["a"])(Object(L["a"])({},n),{},{id:Object(C["b"])(10)});e.setActiveElementIdList([]),t.addSlide(u),h()},V=function(){var e=JSON.parse(JSON.stringify(a.value));v([e])},S=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.value;r.value.length===n.length?g():t.deleteSlide(n),e.updateSelectedSlidesIndex([]),h()},B=function(){var e=Object($["a"])(f.value);k(),S(e)},_=function(){var t=Array.from(Array(r.value.length),(function(e,t){return t}));e.setActiveElementIdList([]),e.updateSelectedSlidesIndex(t)};return{resetSlides:g,updateSlideIndex:x,copySlide:k,pasteSlide:E,createSlide:w,createSlideByTemplate:N,copyAndPasteSlide:V,deleteSlide:S,cutSlide:B,selectAllSlide:_}},pt=function(){var e=ue(),t=ae(),n=Object(y["c"])(e),o=n.activeElementIdList,c=Object(y["c"])(t),l=c.currentSlide,a=dt(),r=a.addHistorySnapshot,i=function(){var n,c=JSON.parse(JSON.stringify(l.value.elements)),a=Object(T["a"])(c);try{for(a.s();!(n=a.n()).done;){var i=n.value;o.value.includes(i.id)&&(i.lock=!0)}}catch(u){a.e(u)}finally{a.f()}t.updateSlide({elements:c}),e.setActiveElementIdList([]),r()},u=function(n){var o=JSON.parse(JSON.stringify(l.value.elements));if(n.groupId){var c,a=[],i=Object(T["a"])(o);try{for(i.s();!(c=i.n()).done;){var u=c.value;u.groupId===n.groupId&&(u.lock=!1,a.push(u.id))}}catch(b){i.e(b)}finally{i.f()}t.updateSlide({elements:o}),e.setActiveElementIdList(a)}else{var d,s=Object(T["a"])(o);try{for(s.s();!(d=s.n()).done;){var f=d.value;if(f.id===n.id){f.lock=!1;break}}}catch(b){s.e(b)}finally{s.f()}t.updateSlide({elements:o}),e.setActiveElementIdList([n.id])}r()};return{lockElement:i,unlockElement:u}},vt=function(){var e=ue(),t=ae(),n=Object(y["c"])(e),o=n.activeElementIdList,c=n.activeGroupElementId,l=Object(y["c"])(t),a=l.currentSlide,r=dt(),i=r.addHistorySnapshot,u=function(){if(o.value.length){var n=[];n=c.value?a.value.elements.filter((function(e){return e.id!==c.value})):a.value.elements.filter((function(e){return!o.value.includes(e.id)})),e.setActiveElementIdList([]),t.updateSlide({elements:n}),i()}},d=function(){a.value.elements.length&&(e.setActiveElementIdList([]),t.updateSlide({elements:[]}),i())};return{deleteElement:u,deleteAllElements:d}},Ot=function(){var e=ue(),t=ae(),n=Object(y["c"])(e),o=n.activeElementIdList,c=n.activeElementList,l=n.handleElementId,a=Object(y["c"])(t),r=a.currentSlide,i=dt(),u=i.addHistorySnapshot,d=Object(j["computed"])((function(){if(c.value.length<2)return!1;var e=c.value[0].groupId;if(!e)return!0;var t=c.value.every((function(t){return(t.groupId&&t.groupId)===e}));return!t})),s=function(){var e;if(c.value.length){var n,l=JSON.parse(JSON.stringify(r.value.elements)),a=Object(C["b"])(10),i=[],d=Object(T["a"])(l);try{for(d.s();!(n=d.n()).done;){var s=n.value;o.value.includes(s.id)&&(s.groupId=a,i.push(s))}}catch(p){d.e(p)}finally{d.f()}var f=l.findIndex((function(e){return e.id===i[i.length-1].id})),b=i.map((function(e){return e.id}));l=l.filter((function(e){return!b.includes(e.id)}));var m=f-i.length+1;(e=l).splice.apply(e,[m,0].concat(i)),t.updateSlide({elements:l}),u()}},f=function(){if(c.value.length){var n=c.value.some((function(e){return e.groupId}));if(n){var a,i=JSON.parse(JSON.stringify(r.value.elements)),d=Object(T["a"])(i);try{for(d.s();!(a=d.n()).done;){var s=a.value;o.value.includes(s.id)&&s.groupId&&delete s.groupId}}catch(b){d.e(b)}finally{d.f()}t.updateSlide({elements:i});var f=l.value?[l.value]:[];e.setActiveElementIdList(f),u()}}};return{canCombine:d,combineElements:s,uncombineElements:f}},ht=function(){var e=ue(),t=Object(y["c"])(e),n=t.activeElementIdList,o=t.activeElementList,c=bt(),l=c.pasteTextClipboardData,a=vt(),r=a.deleteElement,i=function(){if(n.value.length){var t=He(JSON.stringify({type:"elements",data:o.value}));Ue(t).then((function(){e.setEditorareaFocus(!0)}))}},u=function(){i(),r()},d=function(){We().then((function(e){l(e)})).catch((function(e){return De["a"].warning(e)}))},s=function(){i(),d()};return{copyElement:i,cutElement:u,pasteElement:d,quickCopyElement:s}},jt=function(){var e=ue(),t=Object(y["c"])(ae()),n=t.currentSlide,o=function(){var t=n.value.elements.filter((function(e){return!e.lock})),o=t.map((function(e){return e.id}));e.setActiveElementIdList(o)};return{selectAllElement:o}},yt=function(){var e=ae(),t=Object(y["c"])(ue()),n=t.activeElementIdList,o=t.activeGroupElementId,c=Object(y["c"])(e),l=c.currentSlide,a=dt(),r=a.addHistorySnapshot,i=function(t){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=[],i=function(e){var n=e.left,o=e.top;switch(t){case I.LEFT:n-=c;break;case I.RIGHT:n+=c;break;case I.UP:o-=c;break;case I.DOWN:o+=c;break;default:break}return Object(L["a"])(Object(L["a"])({},e),{},{left:n,top:o})};a=o.value?l.value.elements.map((function(e){return o.value===e.id?i(e):e})):l.value.elements.map((function(e){return n.value.includes(e.id)?i(e):e})),e.updateSlide({elements:a}),r()};return{moveElement:i}},gt=function(){var e=ae(),t=Object(y["c"])(e),n=t.currentSlide,o=dt(),c=o.addHistorySnapshot,l=function(e,t){return{minLevel:e.findIndex((function(e){return e.id===t[0].id})),maxLevel:e.findIndex((function(e){return e.id===t[t.length-1].id}))}},a=function(e,t){var n=JSON.parse(JSON.stringify(e));if(t.groupId){var o=n.filter((function(e){return e.groupId===t.groupId})),c=l(e,o),a=c.minLevel,r=c.maxLevel;if(r===e.length-1)return;var i=n[r+1],u=n.splice(a,o.length);if(i.groupId){var d=n.filter((function(e){return e.groupId===i.groupId}));n.splice.apply(n,[a+d.length,0].concat(Object($["a"])(u)))}else n.splice.apply(n,[a+1,0].concat(Object($["a"])(u)))}else{var s=e.findIndex((function(e){return e.id===t.id}));if(s===e.length-1)return;var f=n[s+1],b=n.splice(s,1)[0];if(f.groupId){var m=n.filter((function(e){return e.groupId===f.groupId}));n.splice(s+m.length,0,b)}else n.splice(s+1,0,b)}return n},r=function(e,t){var n=JSON.parse(JSON.stringify(e));if(t.groupId){var o=n.filter((function(e){return e.groupId===t.groupId})),c=l(e,o),a=c.minLevel;if(0===a)return;var r=n[a-1],i=n.splice(a,o.length);if(r.groupId){var u=n.filter((function(e){return e.groupId===r.groupId}));n.splice.apply(n,[a-u.length,0].concat(Object($["a"])(i)))}else n.splice.apply(n,[a-1,0].concat(Object($["a"])(i)))}else{var d=e.findIndex((function(e){return e.id===t.id}));if(0===d)return;var s=n[d-1],f=n.splice(d,1)[0];if(s.groupId){var b=n.filter((function(e){return e.groupId===s.groupId}));n.splice(d-b.length,0,f)}else n.splice(d-1,0,f)}return n},i=function(e,t){var n=JSON.parse(JSON.stringify(e));if(t.groupId){var o=n.filter((function(e){return e.groupId===t.groupId})),c=l(e,o),a=c.minLevel,r=c.maxLevel;if(r===e.length-1)return null;var i=n.splice(a,o.length);n.push.apply(n,Object($["a"])(i))}else{var u=e.findIndex((function(e){return e.id===t.id}));if(u===e.length-1)return null;n.splice(u,1),n.push(t)}return n},u=function(e,t){var n=JSON.parse(JSON.stringify(e));if(t.groupId){var o=n.filter((function(e){return e.groupId===t.groupId})),c=l(e,o),a=c.minLevel;if(0===a)return;var r=n.splice(a,o.length);n.unshift.apply(n,Object($["a"])(r))}else{var i=e.findIndex((function(e){return e.id===t.id}));if(0===i)return;n.splice(i,1),n.unshift(t)}return n},d=function(t,o){var l;o===k.UP?l=a(n.value.elements,t):o===k.DOWN?l=r(n.value.elements,t):o===k.TOP?l=i(n.value.elements,t):o===k.BOTTOM&&(l=u(n.value.elements,t)),l&&(e.updateSlide({elements:l}),c())};return{orderElement:d}},xt=function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()},Ct=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},kt=function(){var e=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement;return!!e},Et=function(){var e=Ee(),t=ae(),n=function(){xt(),e.setScreening(!0)},o=function(){t.updateSlideIndex(0),n()},c=function(){e.setScreening(!1),kt()&&Ct()};return{enterScreening:n,enterScreeningFromStart:o,exitScreening:c}},wt=function(){var e=ue(),t=Object(y["c"])(e),n=t.canvasPercentage,o=t.canvasScale,c=t.canvasDragged,l=Object(j["computed"])((function(){return Math.round(100*o.value)+"%"})),a=function(t){var o=n.value,c=5,l=200,a=30;"+"===t&&o<=l&&(o+=c),"-"===t&&o>=a&&(o-=c),e.setCanvasPercentage(o)},r=function(t){var c=Math.round(t/o.value*n.value)/100;e.setCanvasPercentage(c)},i=function(){e.setCanvasPercentage(90),c&&e.setCanvasDragged(!1)};return{canvasScalePercentage:l,setCanvasScalePercentage:r,scaleCanvas:a,resetCanvas:i}},Nt=function(){var e=ue(),t=ke(),n=Object(y["c"])(e),o=n.activeElementIdList,c=n.disableHotkeys,l=n.handleElement,a=n.handleElementId,r=n.editorAreaFocus,i=n.thumbnailsFocus,u=Object(y["c"])(ae()),d=u.currentSlide,s=Object(y["c"])(t),f=s.ctrlKeyState,b=s.shiftKeyState,m=s.spaceKeyState,p=mt(),v=p.updateSlideIndex,O=p.copySlide,h=p.createSlide,g=p.deleteSlide,x=p.cutSlide,C=p.copyAndPasteSlide,E=p.selectAllSlide,w=Ot(),N=w.combineElements,V=w.uncombineElements,S=vt(),B=S.deleteElement,L=pt(),T=L.lockElement,_=ht(),M=_.copyElement,D=_.cutElement,z=_.quickCopyElement,A=jt(),F=A.selectAllElement,R=yt(),P=R.moveElement,H=gt(),q=H.orderElement,U=dt(),W=U.redo,G=U.undo,X=Et(),Y=X.enterScreening,Z=X.enterScreeningFromStart,J=wt(),K=J.scaleCanvas,Q=J.resetCanvas,$=function(){o.value.length?M():i.value&&O()},ee=function(){o.value.length?D():i.value&&x()},te=function(){o.value.length?z():i.value&&C()},ne=function(){r.value&&F(),i.value&&E()},oe=function(){r.value&&T()},ce=function(){r.value&&N()},le=function(){r.value&&V()},re=function(){o.value.length?B():i.value&&g()},ie=function(e){o.value.length?P(e):e!==I.UP&&e!==I.DOWN||v(e)},de=function(e){e===I.PAGEUP?v(I.UP):e===I.PAGEDOWN&&v(I.DOWN)},se=function(e){l.value&&q(l.value,e)},fe=function(){i.value&&h()},be=function(){if(d.value.elements.length)if(a.value){var t=d.value.elements.findIndex((function(e){return e.id===a.value})),n=t>=d.value.elements.length-1?0:t+1,o=d.value.elements[n].id;e.setActiveElementIdList([o])}else{var c=d.value.elements[0];e.setActiveElementIdList([c.id])}},me=function(n){var o=n.ctrlKey,l=n.shiftKey,a=n.altKey,u=n.metaKey,d=o||u,s=n.key.toUpperCase();if(d&&!f.value&&t.setCtrlKeyState(!0),l&&!b.value&&t.setShiftKeyState(!0),c.value||s!==I.SPACE||t.setSpaceKeyState(!0),d&&s===I.P)return n.preventDefault(),void e.setDialogForExport("pdf");if(l&&s===I.F5)return n.preventDefault(),Y(),void t.setShiftKeyState(!1);if(s===I.F5)return n.preventDefault(),void Z();if(r.value||i.value){if(d&&s===I.C){if(c.value)return;n.preventDefault(),$()}if(d&&s===I.X){if(c.value)return;n.preventDefault(),ee()}if(d&&s===I.D){if(c.value)return;n.preventDefault(),te()}if(d&&s===I.Z){if(c.value)return;n.preventDefault(),G()}if(d&&s===I.Y){if(c.value)return;n.preventDefault(),W()}if(d&&s===I.A){if(c.value)return;n.preventDefault(),ne()}if(d&&s===I.L){if(c.value)return;n.preventDefault(),oe()}if(!l&&d&&s===I.G){if(c.value)return;n.preventDefault(),ce()}if(l&&d&&s===I.G){if(c.value)return;n.preventDefault(),le()}if(a&&s===I.F){if(c.value)return;n.preventDefault(),se(k.TOP)}if(a&&s===I.B){if(c.value)return;n.preventDefault(),se(k.BOTTOM)}if(s===I.DELETE||s===I.BACKSPACE){if(c.value)return;n.preventDefault(),re()}if(s===I.UP){if(c.value)return;n.preventDefault(),ie(I.UP)}if(s===I.DOWN){if(c.value)return;n.preventDefault(),ie(I.DOWN)}if(s===I.LEFT){if(c.value)return;n.preventDefault(),ie(I.LEFT)}if(s===I.RIGHT){if(c.value)return;n.preventDefault(),ie(I.RIGHT)}if(s===I.PAGEUP){if(c.value)return;n.preventDefault(),de(I.PAGEUP)}if(s===I.PAGEDOWN){if(c.value)return;n.preventDefault(),de(I.PAGEDOWN)}if(s===I.ENTER){if(c.value)return;n.preventDefault(),fe()}if(s===I.MINUS){if(c.value)return;n.preventDefault(),K("-")}if(s===I.EQUAL){if(c.value)return;n.preventDefault(),K("+")}if(s===I.DIGIT_0){if(c.value)return;n.preventDefault(),Q()}if(s===I.TAB){if(c.value)return;n.preventDefault(),be()}}},pe=function(){f.value&&t.setCtrlKeyState(!1),b.value&&t.setShiftKeyState(!1),m.value&&t.setSpaceKeyState(!1)};Object(j["onMounted"])((function(){document.addEventListener("keydown",me),document.addEventListener("keyup",pe),window.addEventListener("blur",pe)})),Object(j["onUnmounted"])((function(){document.removeEventListener("keydown",me),document.removeEventListener("keyup",pe),window.removeEventListener("blur",pe)}))},Vt=function(){var e=Object(y["c"])(ue()),t=e.editorAreaFocus,n=e.thumbnailsFocus,o=e.disableHotkeys,c=bt(),l=c.pasteTextClipboardData,a=st(),r=a.createImageElement,i=function(e){lt(e).then((function(e){return r(e)}))},u=function(e){if((t.value||n.value)&&!o.value&&e.clipboardData){var c=e.clipboardData.items,a=c[0];if(a){var r,u=Object(T["a"])(c);try{for(u.s();!(r=u.n()).done;){var d=r.value;if("file"===d.kind&&-1!==d.type.indexOf("image")){var s=d.getAsFile();return void(s&&i(s))}}}catch(f){u.e(f)}finally{u.f()}"string"===a.kind&&"text/plain"===a.type&&a.getAsString((function(e){return l(e)}))}}};Object(j["onMounted"])((function(){document.addEventListener("paste",u)})),Object(j["onUnmounted"])((function(){document.removeEventListener("paste",u)}))},It=function(e){return Object(j["pushScopeId"])("data-v-fafbcb7e"),e=e(),Object(j["popScopeId"])(),e},St={class:"editor-header"},Bt={class:"left"},Lt={class:"menu-item"},Tt=Object(j["createTextVNode"])(),_t=It((function(){return Object(j["createElementVNode"])("span",{class:"text"},"文件",-1)})),Mt=Object(j["createTextVNode"])("导入 pptist 文件"),Dt=Object(j["createTextVNode"])("导出 pptist 文件"),zt=Object(j["createTextVNode"])("导出 PPTX"),At=Object(j["createTextVNode"])("导出图片"),Ft=Object(j["createTextVNode"])("导出 JSON"),Rt=Object(j["createTextVNode"])("打印 / 导出 PDF"),Pt={class:"menu-item"},Ht=Object(j["createTextVNode"])(),qt=It((function(){return Object(j["createElementVNode"])("span",{class:"text"},"编辑",-1)})),Ut=Object(j["createTextVNode"])("撤销"),Wt=Object(j["createTextVNode"])("重做"),Gt=Object(j["createTextVNode"])("添加页面"),Xt=Object(j["createTextVNode"])("删除页面"),Yt=Object(j["createTextVNode"])("重置幻灯片"),Zt={class:"menu-item"},Jt=Object(j["createTextVNode"])(),Kt=It((function(){return Object(j["createElementVNode"])("span",{class:"text"},"演示",-1)})),Qt=Object(j["createTextVNode"])("从头开始"),$t=Object(j["createTextVNode"])("从当前页开始"),en={class:"menu-item"},tn=Object(j["createTextVNode"])(),nn=It((function(){return Object(j["createElementVNode"])("span",{class:"text"},"帮助",-1)})),on=Object(j["createTextVNode"])("意见反馈"),cn=Object(j["createTextVNode"])("快捷键"),ln={class:"right"},an={href:"https://github.com/pipipi-pikachu/PPTist",target:"_blank"},rn={class:"menu-item"};function un(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconFolderClose"),r=Object(j["resolveComponent"])("MenuItem"),i=Object(j["resolveComponent"])("FileInput"),u=Object(j["resolveComponent"])("Menu"),d=Object(j["resolveComponent"])("Dropdown"),s=Object(j["resolveComponent"])("IconEdit"),f=Object(j["resolveComponent"])("IconPpt"),b=Object(j["resolveComponent"])("IconHelpcenter"),m=Object(j["resolveComponent"])("IconShare"),p=Object(j["resolveComponent"])("Tooltip"),v=Object(j["resolveComponent"])("IconGithub"),O=Object(j["resolveComponent"])("HotkeyDoc"),h=Object(j["resolveComponent"])("Drawer");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",St,[Object(j["createElementVNode"])("div",Bt,[Object(j["createVNode"])(d,{trigger:["click"]},{overlay:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,null,{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{accept:".pptist",onChange:t[0]||(t[0]=function(t){return e.importSpecificFile(t)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,null,{default:Object(j["withCtx"])((function(){return[Mt]})),_:1})]})),_:1}),Object(j["createVNode"])(r,{onClick:t[1]||(t[1]=function(t){return e.setDialogForExport("pptist")})},{default:Object(j["withCtx"])((function(){return[Dt]})),_:1}),Object(j["createVNode"])(r,{onClick:t[2]||(t[2]=function(t){return e.setDialogForExport("pptx")})},{default:Object(j["withCtx"])((function(){return[zt]})),_:1}),Object(j["createVNode"])(r,{onClick:t[3]||(t[3]=function(t){return e.setDialogForExport("image")})},{default:Object(j["withCtx"])((function(){return[At]})),_:1}),Object(j["createVNode"])(r,{onClick:t[4]||(t[4]=function(t){return e.setDialogForExport("json")})},{default:Object(j["withCtx"])((function(){return[Ft]})),_:1}),Object(j["createVNode"])(r,{onClick:t[5]||(t[5]=function(t){return e.setDialogForExport("pdf")})},{default:Object(j["withCtx"])((function(){return[Rt]})),_:1})]})),_:1})]})),default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",Lt,[Object(j["createVNode"])(a),Tt,_t])]})),_:1}),Object(j["createVNode"])(d,{trigger:["click"]},{overlay:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,null,{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{onClick:t[6]||(t[6]=function(t){return e.undo()})},{default:Object(j["withCtx"])((function(){return[Ut]})),_:1}),Object(j["createVNode"])(r,{onClick:t[7]||(t[7]=function(t){return e.redo()})},{default:Object(j["withCtx"])((function(){return[Wt]})),_:1}),Object(j["createVNode"])(r,{onClick:t[8]||(t[8]=function(t){return e.createSlide()})},{default:Object(j["withCtx"])((function(){return[Gt]})),_:1}),Object(j["createVNode"])(r,{onClick:t[9]||(t[9]=function(t){return e.deleteSlide()})},{default:Object(j["withCtx"])((function(){return[Xt]})),_:1}),Object(j["createVNode"])(r,{onClick:t[10]||(t[10]=function(t){return e.toggleGridLines()})},{default:Object(j["withCtx"])((function(){return[Object(j["createTextVNode"])(Object(j["toDisplayString"])(e.showGridLines?"关闭网格线":"打开网格线"),1)]})),_:1}),Object(j["createVNode"])(r,{onClick:t[11]||(t[11]=function(t){return e.toggleRuler()})},{default:Object(j["withCtx"])((function(){return[Object(j["createTextVNode"])(Object(j["toDisplayString"])(e.showRuler?"关闭标尺":"打开标尺"),1)]})),_:1}),Object(j["createVNode"])(r,{onClick:t[12]||(t[12]=function(t){return e.resetSlides()})},{default:Object(j["withCtx"])((function(){return[Yt]})),_:1})]})),_:1})]})),default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",Pt,[Object(j["createVNode"])(s),Ht,qt])]})),_:1}),Object(j["createVNode"])(d,{trigger:["click"]},{overlay:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,null,{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{onClick:t[13]||(t[13]=function(t){return e.enterScreeningFromStart()})},{default:Object(j["withCtx"])((function(){return[Qt]})),_:1}),Object(j["createVNode"])(r,{onClick:t[14]||(t[14]=function(t){return e.enterScreening()})},{default:Object(j["withCtx"])((function(){return[$t]})),_:1})]})),_:1})]})),default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",Zt,[Object(j["createVNode"])(f),Jt,Kt])]})),_:1}),Object(j["createVNode"])(d,{trigger:["click"]},{overlay:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,null,{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{onClick:t[15]||(t[15]=function(t){return e.goIssues()})},{default:Object(j["withCtx"])((function(){return[on]})),_:1}),Object(j["createVNode"])(r,{onClick:t[16]||(t[16]=function(t){return e.hotkeyDrawerVisible=!0})},{default:Object(j["withCtx"])((function(){return[cn]})),_:1})]})),_:1})]})),default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",en,[Object(j["createVNode"])(b),tn,nn])]})),_:1})]),Object(j["createElementVNode"])("div",ln,[Object(j["createVNode"])(p,{mouseLeaveDelay:0,title:"导出"},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",{class:"menu-item",onClick:t[17]||(t[17]=function(t){return e.setDialogForExport("pptx")})},[Object(j["createVNode"])(m,{size:"18",fill:"#666"})])]})),_:1}),Object(j["createVNode"])(p,{mouseLeaveDelay:0,title:"幻灯片放映"},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",{class:"menu-item",onClick:t[18]||(t[18]=function(t){return e.enterScreening()})},[Object(j["createVNode"])(f,{size:"19",fill:"#666",style:{"margin-top":"1px"}})])]})),_:1}),Object(j["createElementVNode"])("a",an,[Object(j["createElementVNode"])("div",rn,[Object(j["createVNode"])(v,{size:"18",fill:"#666"})])])]),Object(j["createVNode"])(h,{width:"320",placement:"right",visible:e.hotkeyDrawerVisible,onClose:t[19]||(t[19]=function(t){return e.hotkeyDrawerVisible=!1})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(O)]})),_:1},8,["visible"])])}n("9911"),n("cc71");var dn=n("21a6"),sn=n("8f74"),fn=n("e774"),bn=(n("00b4"),["style","script","template"]),mn=["html","head","body","p","dt","dd","li","option","thead","th","tbody","tr","td","tfoot","colgroup"],pn={li:["ul","ol","menu"],dt:["dl"],dd:["dl"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table"],td:["table"]},vn=["!doctype","area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],On=function(e,t){var n=t-e.position;hn(e,n)},hn=function(e,t){e.position=e.position+t},jn=function(e,t){var n=!1;while(!n){var o=e.indexOf("<",t);if(-1===o)return o;var c=e.charAt(o+1);if("/"===c||"!"===c||/[A-Za-z0-9]/.test(c))return o;t=o+1}return-1},yn=function(e){var t=e.str,n=jn(t,e.position);if(n!==e.position){-1===n&&(n=t.length);var o=t.slice(e.position,n);On(e,n),e.tokens.push({type:"text",content:o})}},gn=function(e){var t=e.str;hn(e,4);var n=t.indexOf("--\x3e",e.position),o=n+3;-1===n&&(n=o=t.length);var c=t.slice(e.position,n);On(e,o),e.tokens.push({type:"comment",content:c})},xn=function(e){var t=e.str,n=t.length,o=e.position;while(o<n){var c=t.charAt(o),l=!(/\s/.test(c)||"/"===c||">"===c);if(l)break;o++}var a=o+1;while(a<n){var r=t.charAt(a),i=!(/\s/.test(r)||"/"===r||">"===r);if(!i)break;a++}On(e,a);var u=t.slice(o,a);return e.tokens.push({type:"tag",content:u}),u},Cn=function(e){var t=e.str,n=e.tokens,o=e.position,c=null,l=o,a=[],r=t.length;while(o<r){var i=t.charAt(o);if(c){var u=i===c;u&&(c=null),o++}else{var d="/"===i||">"===i;if(d){o!==l&&a.push(t.slice(l,o));break}var s=/\s/.test(i);if(s)o!==l&&a.push(t.slice(l,o)),l=o+1,o++;else{var f="'"===i||'"'===i;f?(c=i,o++):o++}}}On(e,o);for(var b="attribute",m=0;m<a.length;m++){var p=a[m],v=-1===p.indexOf("=");if(v){var O=a[m+1];if(O&&Object(ne["startsWith"])(O,"=")){if(O.length>1){var h=p+O;n.push({type:b,content:h}),m+=1;continue}var j=a[m+2];if(m+=1,j){var y=p+"="+j;n.push({type:b,content:y}),m+=1;continue}}}if(Object(ne["endsWith"])(p,"=")){var g=a[m+1];if(g&&-1===g.indexOf("=")){var x=p+g;n.push({type:b,content:x}),m+=1;continue}var C=p.slice(0,-1);n.push({type:b,content:C})}else n.push({type:b,content:p})}},kn=function(e,t){var n=t.str,o=t.tokens,c=e.toLowerCase(),l=n.length,a=t.position;while(a<l){var r=n.indexOf("</",a);if(-1===r){yn(t);break}var i={str:n,position:t.position,tokens:[]};On(i,r);var u=En(i);if(c===u.toLowerCase()){if(r!==t.position){var d=t.position;On(t,r),o.push({type:"text",content:n.slice(d,r)})}o.push.apply(o,Object($["a"])(i.tokens)),On(t,i.position);break}a=i.position}},En=function(e){var t=e.str,n=t.charAt(e.position+1),o="/"===n;hn(e,o?2:1),e.tokens.push({type:"tag-start",close:o});var c=xn(e);Cn(e);var l=t.charAt(e.position),a="/"===l;return hn(e,a?2:1),e.tokens.push({type:"tag-end",close:a}),c},wn=function(e){var t=e.str,n=t.length;while(e.position<n){var o=e.position;if(yn(e),e.position===o){var c=Object(ne["startsWith"])(t,"!--",o+1);if(c)gn(e);else{var l=En(e),a=l.toLowerCase();bn.includes(a)&&kn(l,e)}}}},Nn=function(e){var t={str:e,position:0,tokens:[]};return wn(t),t.tokens},Vn=function(e){var t={tagName:null,children:[]},n={tokens:e,cursor:0,stack:[t]};return Bn(n),t.children},In=function(e,t){var n=pn[e];if(n){var o=t.length-1;while(o>=0){var c=t[o].tagName;if(c===e)break;if(n.includes(c))return!0;o--}}return!1},Sn=function(e,t){e.splice(t)},Bn=function e(t){var n=t.stack,o=t.tokens,c=t.cursor,l=n[n.length-1].children,a=o.length;while(c<a){var r=o[c];if("tag-start"===r.type){var i=o[++c];c++;var u=i.content.toLowerCase();if(r.close){var d=n.length,s=!1;while(--d>-1)if(n[d].tagName===u){s=!0;break}while(c<a){if("tag-end"!==o[c].type)break;c++}if(s){Sn(n,d);break}}else{var f=mn.includes(u),b=f;if(b&&(b=!In(u,n)),b){var m=n.length-1;while(m>0){if(u===n[m].tagName){Sn(n,m);var p=m-1;l=n[p].children;break}m-=1}}var v=[],O=void 0;while(c<a){var h=o[c];if("tag-end"===h.type){O=h;break}v.push(h.content),c++}if(!O)break;c++;var j=[],y={type:"element",tagName:i.content,attributes:v,children:j};l.push(y);var g=!(O.close||vn.includes(u));if(g){n.push({tagName:u,children:j});var x={tokens:o,cursor:c,stack:n};e(x),c=x.cursor}}}else l.push(r),c++}t.cursor=c},Ln=(n("498a"),function(e,t){var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}),Tn=function(e){var t=e.charAt(0),n=e.length-1,o='"'===t||"'"===t;return o&&t===e.charAt(n)?e.slice(1,n):e},_n=function(e){return e.map((function(e){var t=Ln(e.trim(),"="),n=t[0],o="string"===typeof t[1]?Tn(t[1]):null;return{key:n,value:o}}))},Mn=function e(t){return t.map((function(t){if("element"===t.type){var n=e(t.children),o={type:"element",tagName:t.tagName.toLowerCase(),attributes:_n(t.attributes),children:n};return o}var c={type:t.type,content:t.content};return c}))},Dn=function(e){var t=Nn(e),n=Vn(t);return Mn(n)},zn=n("d01f"),An=n("0b89"),Fn={1:"Z",2:"M",4:"H",8:"V",16:"L",32:"C",64:"S",128:"Q",256:"T",512:"A"},Rn=function(e){var t,n=new zn["a"](e),o=[],c=Object(T["a"])(n.commands);try{for(c.s();!(t=c.n()).done;){var l=t.value,a=Fn[l.type];if(2!==l.type&&16!==l.type||o.push({x:l.x,y:l.y,relative:l.relative,type:a}),32===l.type)o.push({x:l.x,y:l.y,curve:{type:"cubic",x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2},relative:l.relative,type:a});else if(128===l.type)o.push({x:l.x,y:l.y,curve:{type:"quadratic",x1:l.x1,y1:l.y1},relative:l.relative,type:a});else if(512===l.type){var r=o[o.length-1];if(!["M","L","Q","C"].includes(r.type))continue;var i,u=Object(An["a"])({px:r.x,py:r.y,cx:l.x,cy:l.y,rx:l.rX,ry:l.rY,xAxisRotation:l.xRot,largeArcFlag:l.lArcFlag,sweepFlag:l.sweepFlag}),d=Object(T["a"])(u);try{for(d.s();!(i=d.n()).done;){var s=i.value;o.push({x:s.x,y:s.y,curve:{type:"cubic",x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2},relative:!1,type:"C"})}}catch(f){d.e(f)}finally{d.f()}}else{if(1!==l.type)continue;o.push({close:!0,type:a})}}}catch(f){c.e(f)}finally{c.f()}return o},Pn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Hn="data:image/svg+xml;base64,",qn=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},Un=function(e){var t,n,o,c,l,a,r,i="",u=0;e=qn(e);while(u<e.length)t=e.charCodeAt(u++),n=e.charCodeAt(u++),o=e.charCodeAt(u++),c=t>>2,l=(3&t)<<4|n>>4,a=(15&n)<<2|o>>6,r=63&o,isNaN(n)?a=r=64:isNaN(o)&&(r=64),i=i+Pn.charAt(c)+Pn.charAt(l)+Pn.charAt(a)+Pn.charAt(r);return i},Wn=function(e){var t=new XMLSerializer,n=t.serializeToString(e);return Hn+Un(n)},Gn=function(){var e=ae(),t=Object(y["c"])(e),n=t.slides,o=t.theme,c=t.viewportRatio,l=ft(),a=l.addSlidesFromData,r=Object(j["ref"])(!1),i=function(e,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];r.value=!0;var c="png"===t?fn["c"]:fn["b"],l=e.querySelectorAll("foreignObject [xmlns]");l.forEach((function(e){return e.removeAttribute("xmlns")})),setTimeout((function(){var l={quality:n,width:1600};o&&(l.fontEmbedCSS=""),c(e,l).then((function(e){r.value=!1,Object(dn["saveAs"])(e,"pptist_slides.".concat(t))})).catch((function(){r.value=!1,De["a"].error("导出图片失败")}))}),200)},u=function(e){var t=new Blob([He(JSON.stringify(e))],{type:""});Object(dn["saveAs"])(t,"pptist_slides.pptist")},d=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=t[0],c=new FileReader;c.addEventListener("load",(function(){try{var t=JSON.parse(qe(c.result));n?e.setSlides(t):a(t)}catch(o){De["a"].error("无法正确读取 / 解析该文件")}})),c.readAsText(o)},s=function(){var e=new Blob([JSON.stringify(n.value)],{type:""});Object(dn["saveAs"])(e,"pptist_slides.json")},f=function(e){var t=te()(e),n=t.getAlpha(),o=0===n?"#ffffff":t.setAlpha(1).toHexString();return{alpha:n,color:o}},b=function(e){var t=Dn(e),n=!1,o=0,c=[],l=function e(t){var l,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object(T["a"])(t);try{for(r.s();!(l=r.n()).done;){var i=l.value,u="tagName"in i&&["div","li","p"].includes(i.tagName);if(u&&c.length){var d=c[c.length-1];d.options||(d.options={}),d.options.breakLine=!0}var s=Object(L["a"])({},a),b="attributes"in i?i.attributes.find((function(e){return"style"===e.key})):null;if(b&&b.value){var m,p=b.value.split(";"),v=Object(T["a"])(p);try{for(v.s();!(m=v.n()).done;){var O=m.value,h=O.split(": "),j=Object(ve["a"])(h,2),y=j[0],g=j[1],x=[Object(ne["trim"])(y),Object(ne["trim"])(g)],C=x[0],k=x[1];C&&k&&(s[C]=k)}}catch(I){v.e(I)}finally{v.f()}}if("tagName"in i){if("em"===i.tagName&&(s["font-style"]="italic"),"strong"===i.tagName&&(s["font-weight"]="bold"),"sup"===i.tagName&&(s["vertical-align"]="super"),"sub"===i.tagName&&(s["vertical-align"]="sub"),"a"===i.tagName){var E=i.attributes.find((function(e){return"href"===e.key}));s["href"]=(null===E||void 0===E?void 0:E.value)||""}if("ul"===i.tagName&&(s["list-type"]="ul"),"ol"===i.tagName&&(s["list-type"]="ol"),"li"===i.tagName&&(n=!0),"p"===i.tagName&&"attributes"in i){var w=i.attributes.find((function(e){return"data-indent"===e.key}));w&&w.value&&(o=+w.value)}}if("tagName"in i&&"br"===i.tagName)c.push({text:"",options:{breakLine:!0}});else if("content"in i){var N=i.content.replace(/&nbsp;/g," ").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/\n/g,""),V={};s["font-size"]&&(V.fontSize=.75*parseInt(s["font-size"])),s["color"]&&(V.color=f(s["color"]).color),s["background-color"]&&(V.highlight=f(s["background-color"]).color),s["text-decoration-line"]&&(-1!==s["text-decoration-line"].indexOf("underline")&&(V.underline={color:V.color||"#000000",style:"sng"}),-1!==s["text-decoration-line"].indexOf("line-through")&&(V.strike="sngStrike")),s["text-decoration"]&&(-1!==s["text-decoration"].indexOf("underline")&&(V.underline={color:V.color||"#000000",style:"sng"}),-1!==s["text-decoration"].indexOf("line-through")&&(V.strike="sngStrike")),s["vertical-align"]&&("super"===s["vertical-align"]&&(V.superscript=!0),"sub"===s["vertical-align"]&&(V.subscript=!0)),s["text-align"]&&(V.align=s["text-align"]),s["font-weight"]&&(V.bold="bold"===s["font-weight"]),s["font-style"]&&(V.italic="italic"===s["font-style"]),s["font-family"]&&(V.fontFace=s["font-family"]),s["href"]&&(V.hyperlink={url:s["href"]}),n&&"ol"===s["list-type"]&&(V.bullet={type:"number",indent:15},V.paraSpaceBefore=.1,n=!1),n&&"ul"===s["list-type"]&&(V.bullet={indent:15},V.paraSpaceBefore=.1,n=!1),o&&(V.indentLevel=o,o=0),c.push({text:N,options:V})}else"children"in i&&e(i.children,s)}}catch(I){r.e(I)}finally{r.f()}};return l(t),c},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:1,y:1};return e.map((function(e){if(void 0!==e.close)return{close:!0};if("M"===e.type)return{x:e.x/100*t.x,y:e.y/100*t.y,moveTo:!0};if(e.curve){if("cubic"===e.curve.type)return{x:e.x/100*t.x,y:e.y/100*t.y,curve:{type:"cubic",x1:e.curve.x1/100*t.x,y1:e.curve.y1/100*t.y,x2:e.curve.x2/100*t.x,y2:e.curve.y2/100*t.y}};if("quadratic"===e.curve.type)return{x:e.x/100*t.x,y:e.y/100*t.y,curve:{type:"quadratic",x1:e.curve.x1/100*t.x,y1:e.curve.y1/100*t.y}}}return{x:e.x/100*t.x,y:e.y/100*t.y}}))},p=function(e){var t=f(e.color),n=e.h,o=e.v,c=4,l=45;return 0===n&&0===o?(c=4,l=45):0===n?o>0?(c=o,l=90):(c=-o,l=270):0===o?n>0?(c=n,l=1):(c=-n,l=180):n>0&&o>0?(c=Math.max(n,o),l=45):n>0&&o<0?(c=Math.max(n,-o),l=315):n<0&&o>0?(c=Math.max(-n,o),l=135):n<0&&o<0&&(c=Math.max(-n,-o),l=225),{type:"outer",color:t.color.replace("#",""),opacity:t.alpha,blur:.75*e.blur,offset:c,angle:l}},v=function(e){var t=f((null===e||void 0===e?void 0:e.color)||"#000000");return{color:t.color,transparency:100*(1-t.alpha),width:.75*(e.width||1),dashType:"solid"===e.style?"solid":"dash"}},O=function(e){var t=e.type,o=e.target;if("web"===t)return{url:o};if("slide"===t){var c=n.value.findIndex((function(e){return e.id===o}));if(-1!==c)return{slide:c+1}}return null},h=function(e,t){r.value=!0;var n=new sn["a"];if(.625===c.value?n.layout="LAYOUT_16x10":.75===c.value?n.layout="LAYOUT_4x3":n.layout="LAYOUT_16x9",t){var l=f(o.value.backgroundColor),a=l.color,i=l.alpha;n.defineSlideMaster({title:"PPTIST_MASTER",background:{color:a,transparency:100*(1-i)}})}var u,d=Object(T["a"])(e);try{for(d.s();!(u=d.n()).done;){var s=u.value,h=n.addSlide();if(s.background){var j=s.background;if("image"===j.type&&j.image)h.background={data:j.image};else if("solid"===j.type&&j.color){var y=f(j.color);h.background={color:y.color,transparency:100*(1-y.alpha)}}else if("gradient"===j.type&&j.gradientColor){var g=Object(ve["a"])(j.gradientColor,2),x=g[0],C=g[1],k=te.a.mix(x,C).toHexString(),E=f(k);h.background={color:E.color,transparency:100*(1-E.alpha)}}}if(s.remark&&h.addNotes(s.remark),s.elements){var w,N=Object(T["a"])(s.elements);try{var V=function(){var e=w.value;if("text"===e.type){var t,o=b(e.content),c={x:e.left/100,y:e.top/100,w:e.width/100,h:e.height/100,fontSize:15,fontFace:"微软雅黑",color:"#000000",valign:"top",margin:7.5,paraSpaceBefore:3.75,lineSpacingMultiple:1.2,autoFit:!0};if(e.rotate&&(c.rotate=e.rotate),e.wordSpace&&(c.charSpacing=.75*e.wordSpace),e.lineHeight&&(c.lineSpacingMultiple=e.lineHeight/1.25),e.fill){var l=f(e.fill),a=void 0===e.opacity?1:e.opacity;c.fill={color:l.color,transparency:100*(1-l.alpha*a)}}e.defaultColor&&(c.color=f(e.defaultColor).color),e.defaultFontName&&(c.fontFace=e.defaultFontName),e.shadow&&(c.shadow=p(e.shadow)),null!==(t=e.outline)&&void 0!==t&&t.width&&(c.line=v(e.outline)),void 0!==e.opacity&&(c.transparency=100*(1-e.opacity)),void 0!==e.paragraphSpace&&(c.paraSpaceBefore=.75*e.paragraphSpace),h.addText(o,c)}else if("image"===e.type){var r,i,u={path:e.src,x:e.left/100,y:e.top/100,w:e.width/100,h:e.height/100};if(e.flipH&&(u.flipH=e.flipH),e.flipV&&(u.flipV=e.flipV),e.rotate&&(u.rotate=e.rotate),e.link){var d=O(e.link);d&&(u.hyperlink=d)}if(null!==(r=e.filters)&&void 0!==r&&r.opacity&&(u.transparency=100-parseInt(null===(i=e.filters)||void 0===i?void 0:i.opacity)),e.clip){"ellipse"===e.clip.shape&&(u.rounding=!0);var s=Object(ve["a"])(e.clip.range,2),j=s[0],y=s[1],g=Object(ve["a"])(j,2),x=g[0],C=g[1],k=Object(ve["a"])(y,2),E=k[0],N=k[1],V=e.width/((E-x)/100),I=e.height/((N-C)/100);u.w=V/100,u.h=I/100,u.sizing={type:"crop",x:x/100*V/100,y:C/100*I/100,w:(E-x)/100*V/100,h:(N-C)/100*I/100}}h.addImage(u)}else if("shape"===e.type){if(e.special){var S=document.querySelector(".thumbnail-list .base-element-".concat(e.id," svg")),B=Wn(S),L={data:B,x:e.left/100,y:e.top/100,w:e.width/100,h:e.height/100};if(e.rotate&&(L.rotate=e.rotate),e.link){var T=O(e.link);T&&(L.hyperlink=T)}h.addImage(L)}else{var _,M={x:e.width/e.viewBox[0],y:e.height/e.viewBox[1]},D=m(Rn(e.path),M),z=f(e.fill),A=void 0===e.opacity?1:e.opacity,F={x:e.left/100,y:e.top/100,w:e.width/100,h:e.height/100,fill:{color:z.color,transparency:100*(1-z.alpha*A)},points:D};if(e.flipH&&(F.flipH=e.flipH),e.flipV&&(F.flipV=e.flipV),e.shadow&&(F.shadow=p(e.shadow)),null!==(_=e.outline)&&void 0!==_&&_.width&&(F.line=v(e.outline)),e.link){var R=O(e.link);R&&(F.hyperlink=R)}h.addShape("custGeom",F)}if(e.text){var P=b(e.text.content),H={x:e.left/100,y:e.top/100,w:e.width/100,h:e.height/100,fontSize:15,fontFace:"微软雅黑",color:"#000000",paraSpaceBefore:3.75,valign:e.text.align};e.rotate&&(H.rotate=e.rotate),e.text.defaultColor&&(H.color=f(e.text.defaultColor).color),e.text.defaultFontName&&(H.fontFace=e.text.defaultFontName),h.addText(P,H)}}else if("line"===e.type){var q=tt(e),U=m(Rn(q)),W=Je(e),G=W.minX,X=W.maxX,Y=W.minY,Z=W.maxY,J=f(e.color),K={x:e.left/100,y:e.top/100,w:(X-G)/100,h:(Z-Y)/100,line:{color:J.color,transparency:100*(1-J.alpha),width:.75*e.width,dashType:"solid"===e.style?"solid":"dash",beginArrowType:e.points[0]?"arrow":"none",endArrowType:e.points[1]?"arrow":"none"},points:U};e.shadow&&(K.shadow=p(e.shadow)),h.addShape("custGeom",K)}else if("chart"===e.type){for(var Q=[],ee=0;ee<e.data.series.length;ee++){var ne=e.data.series[ee];Q.push({name:"系列".concat(ee+1),labels:e.data.labels,values:ne})}var oe=[];if(10===e.themeColor.length)oe=e.themeColor.map((function(e){return f(e).color}));else if(1===e.themeColor.length)oe=te()(e.themeColor[0]).analogous(10).map((function(e){return f(e.toHexString()).color}));else{var ce=e.themeColor.length,le=te()(e.themeColor[ce-1]).analogous(11-ce).map((function(e){return e.toHexString()}));oe=[].concat(Object($["a"])(e.themeColor.slice(0,ce-1)),Object($["a"])(le)).map((function(e){return f(e).color}))}var ae={x:e.left/100,y:e.top/100,w:e.width/100,h:e.height/100,chartColors:"pie"===e.chartType?oe:oe.slice(0,e.data.series.length)};e.fill&&(ae.fill=f(e.fill).color),e.legend&&(ae.showLegend=!0,ae.legendPos="top"===e.legend?"t":"b",ae.legendColor=f(e.gridColor||"#000000").color,ae.legendFontSize=10.5);var re,ie=n.ChartType.bar;if("bar"===e.chartType)ie=n.ChartType.bar,ae.barDir=null!==(re=e.options)&&void 0!==re&&re.horizontalBars?"bar":"col";else if("line"===e.chartType){var ue,de,se;null!==(ue=e.options)&&void 0!==ue&&ue.showArea?ie=n.ChartType.area:!1===(null===(de=e.options)||void 0===de?void 0:de.showLine)?(ie=n.ChartType.scatter,Q.unshift({name:"X-Axis",values:Array(e.data.series[0].length).fill(0).map((function(e,t){return t}))}),ae.lineSize=0):ie=n.ChartType.line,null!==(se=e.options)&&void 0!==se&&se.lineSmooth&&(ae.lineSmooth=!0)}else if("pie"===e.chartType){var fe;null!==(fe=e.options)&&void 0!==fe&&fe.donut?(ie=n.ChartType.doughnut,ae.holeSize=75):ie=n.ChartType.pie}h.addChart(ie,Q,ae)}else if("table"===e.type){for(var be=[],me=0;me<e.data.length;me++)for(var pe=e.data[me],Oe=0;Oe<pe.length;Oe++){var he=pe[Oe];if(he.colspan>1||he.rowspan>1)for(var je=me;je<me+he.rowspan;je++)for(var ye=je===me?Oe+1:Oe;ye<Oe+he.colspan;ye++)be.push("".concat(je,"_").concat(ye))}var ge=[],xe=e.theme,Ce=null,ke=[];xe&&(Ce=f(xe.color),ke=et(xe.color).map((function(e){return f(e)})));for(var Ee=0;Ee<e.data.length;Ee++){for(var we=e.data[Ee],Ne=[],Ve=0;Ve<we.length;Ve++){var Ie,Se,Be,Le,Te,_e,Me,De,ze,Ae=we[Ve],Fe={colspan:Ae.colspan,rowspan:Ae.rowspan,bold:(null===(Ie=Ae.style)||void 0===Ie?void 0:Ie.bold)||!1,italic:(null===(Se=Ae.style)||void 0===Se?void 0:Se.em)||!1,underline:{style:null!==(Be=Ae.style)&&void 0!==Be&&Be.underline?"sng":"none"},align:(null===(Le=Ae.style)||void 0===Le?void 0:Le.align)||"left",valign:"middle",fontFace:(null===(Te=Ae.style)||void 0===Te?void 0:Te.fontname)||"微软雅黑",fontSize:.75*(null!==(_e=Ae.style)&&void 0!==_e&&_e.fontsize?parseInt(null===(Me=Ae.style)||void 0===Me?void 0:Me.fontsize):14)};if(xe&&Ce){var Re=void 0;Re=Ee%2===0?ke[1]:ke[0],(xe.rowHeader&&0===Ee||xe.rowFooter&&Ee===e.data.length-1||xe.colHeader&&0===Ve||xe.colFooter&&Ve===we.length-1)&&(Re=Ce),Fe.fill={color:Re.color,transparency:100*(1-Re.alpha)}}if(null!==(De=Ae.style)&&void 0!==De&&De.backcolor){var Pe=f(Ae.style.backcolor);Fe.fill={color:Pe.color,transparency:100*(1-Pe.alpha)}}null!==(ze=Ae.style)&&void 0!==ze&&ze.color&&(Fe.color=f(Ae.style.color).color),be.includes("".concat(Ee,"_").concat(Ve))||Ne.push({text:Ae.text,options:Fe})}Ne.length&&ge.push(Ne)}var He={x:e.left/100,y:e.top/100,w:e.width/100,h:e.height/100,colW:e.colWidths.map((function(t){return e.width*t/100}))};e.theme&&(He.fill={color:"#ffffff"}),e.outline.width&&e.outline.color&&(He.border={type:"solid"===e.outline.style?"solid":"dash",pt:.75*e.outline.width,color:f(e.outline.color).color}),h.addTable(ge,He)}else if("latex"===e.type){var qe=document.querySelector(".thumbnail-list .base-element-".concat(e.id," svg")),Ue=Wn(qe),We={data:Ue,x:e.left/100,y:e.top/100,w:e.width/100,h:e.height/100};if(e.link){var Ge=O(e.link);Ge&&(We.hyperlink=Ge)}h.addImage(We)}};for(N.s();!(w=N.n()).done;)V()}catch(I){N.e(I)}finally{N.f()}}}}catch(I){d.e(I)}finally{d.f()}n.writeFile({fileName:"pptist.pptx"}).then((function(){return r.value=!1})).catch((function(){r.value=!1,De["a"].error("导出失败")}))};return{exporting:r,exportImage:i,exportJSON:s,importSpecificFile:d,exportSpecificFile:u,exportPPTX:h}},Xn={class:"hotkey-doc"},Yn={class:"title"},Zn={class:"label"},Jn={class:"value"};function Kn(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Xn,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.hotkeys,(function(e){return Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:e.type},[Object(j["createElementVNode"])("div",Yn,Object(j["toDisplayString"])(e.type),1),(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.children,(function(e){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"hotkey-item",key:e.label},[Object(j["createElementVNode"])("div",Zn,Object(j["toDisplayString"])(e.label),1),Object(j["createElementVNode"])("div",Jn,Object(j["toDisplayString"])(e.value),1)])})),128))],64)})),128))])}var Qn=Object(j["defineComponent"])({name:"hotkey-doc",setup:function(){return{hotkeys:Me}}}),$n=(n("161f"),n("d959")),eo=n.n($n);const to=eo()(Qn,[["render",Kn],["__scopeId","data-v-b6d79f64"]]);var no=to,oo=Object(j["defineComponent"])({name:"editor-header",components:{HotkeyDoc:no},setup:function(){var e=ue(),t=Object(y["c"])(e),n=t.showGridLines,o=t.showRuler,c=Et(),l=c.enterScreening,a=c.enterScreeningFromStart,r=mt(),i=r.createSlide,u=r.deleteSlide,d=r.resetSlides,s=dt(),f=s.redo,b=s.undo,m=Gn(),p=m.importSpecificFile,v=e.setDialogForExport,O=function(){e.setGridLinesState(!n.value)},h=function(){e.setRulerState(!o.value)},g=Object(j["ref"])(!1),x=function(){window.open("https://github.com/pipipi-pikachu/PPTist/issues")};return{redo:f,undo:b,showGridLines:n,showRuler:o,hotkeyDrawerVisible:g,importSpecificFile:p,setDialogForExport:v,enterScreening:l,enterScreeningFromStart:a,createSlide:i,deleteSlide:u,toggleGridLines:O,toggleRuler:h,resetSlides:d,goIssues:x}}});n("81a4");const co=eo()(oo,[["render",un],["__scopeId","data-v-fafbcb7e"]]);var lo=co,ao={class:"operates"},ro={key:1,class:"drag-mask"};function io(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("ElementCreateSelection"),r=Object(j["resolveComponent"])("AlignmentLine"),i=Object(j["resolveComponent"])("MultiSelectOperate"),u=Object(j["resolveComponent"])("Operate"),d=Object(j["resolveComponent"])("ViewportBackground"),s=Object(j["resolveComponent"])("MouseSelection"),f=Object(j["resolveComponent"])("EditableElement"),b=Object(j["resolveComponent"])("Ruler"),m=Object(j["resolveComponent"])("LinkDialog"),p=Object(j["resolveComponent"])("Modal"),v=Object(j["resolveDirective"])("contextmenu"),O=Object(j["resolveDirective"])("click-outside");return Object(j["withDirectives"])((Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"canvas",ref:"canvasRef",onWheel:t[3]||(t[3]=function(t){return e.handleMousewheelCanvas(t)}),onMousedown:t[4]||(t[4]=function(t){return e.handleClickBlankArea(t)})},[e.creatingElement?(Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:0,onCreated:t[0]||(t[0]=function(t){return e.insertElementFromCreateSelection(t)})})):Object(j["createCommentVNode"])("",!0),Object(j["createElementVNode"])("div",{class:"viewport-wrapper",style:Object(j["normalizeStyle"])({width:e.viewportStyles.width*e.canvasScale+"px",height:e.viewportStyles.height*e.canvasScale+"px",left:e.viewportStyles.left+"px",top:e.viewportStyles.top+"px"})},[Object(j["createElementVNode"])("div",ao,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.alignmentLines,(function(t,n){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:n,type:t.type,axis:t.axis,length:t.length,canvasScale:e.canvasScale},null,8,["type","axis","length","canvasScale"])})),128)),e.activeElementIdList.length>1?(Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:0,elementList:e.elementList,scaleMultiElement:e.scaleMultiElement},null,8,["elementList","scaleMultiElement"])):Object(j["createCommentVNode"])("",!0),(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.elementList,(function(t){return Object(j["openBlock"])(),Object(j["createBlock"])(u,{key:t.id,elementInfo:t,isSelected:e.activeElementIdList.includes(t.id),isActive:e.handleElementId===t.id,isActiveGroupElement:e.activeGroupElementId===t.id,isMultiSelect:e.activeElementIdList.length>1,rotateElement:e.rotateElement,scaleElement:e.scaleElement,openLinkDialog:e.openLinkDialog,dragLineElement:e.dragLineElement},null,8,["elementInfo","isSelected","isActive","isActiveGroupElement","isMultiSelect","rotateElement","scaleElement","openLinkDialog","dragLineElement"])})),128)),Object(j["createVNode"])(d)]),Object(j["createElementVNode"])("div",{class:"viewport",ref:"viewportRef",style:Object(j["normalizeStyle"])({transform:"scale(".concat(e.canvasScale,")")})},[e.mouseSelectionVisible?(Object(j["openBlock"])(),Object(j["createBlock"])(s,{key:0,top:e.mouseSelection.top,left:e.mouseSelection.left,width:e.mouseSelection.width,height:e.mouseSelection.height,quadrant:e.mouseSelectionQuadrant},null,8,["top","left","width","height","quadrant"])):Object(j["createCommentVNode"])("",!0),(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.elementList,(function(t,n){return Object(j["openBlock"])(),Object(j["createBlock"])(f,{key:t.id,elementInfo:t,elementIndex:n+1,isMultiSelect:e.activeElementIdList.length>1,selectElement:e.selectElement,openLinkDialog:e.openLinkDialog},null,8,["elementInfo","elementIndex","isMultiSelect","selectElement","openLinkDialog"])})),128))],4)],4),e.spaceKeyState?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",ro)):Object(j["createCommentVNode"])("",!0),e.showRuler?(Object(j["openBlock"])(),Object(j["createBlock"])(b,{key:2,viewportStyles:e.viewportStyles},null,8,["viewportStyles"])):Object(j["createCommentVNode"])("",!0),Object(j["createVNode"])(p,{visible:e.linkDialogVisible,"onUpdate:visible":t[2]||(t[2]=function(t){return e.linkDialogVisible=t}),footer:null,centered:"",width:540,destroyOnClose:""},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(m,{onClose:t[1]||(t[1]=function(t){return e.linkDialogVisible=!1})})]})),_:1},8,["visible"])],32)),[[v,e.contextmenus],[O,e.removeEditorAreaFocus]])}n("a4d3"),n("e01a");var uo=Symbol(),so=Symbol(),fo=function(){var e=window.getSelection();e&&e.removeAllRanges()},bo=function(e){var t=Object(j["ref"])(0),n=Object(j["ref"])(0),o=ue(),c=Object(y["c"])(o),l=c.canvasPercentage,a=c.canvasDragged,r=Object(y["c"])(ae()),i=r.viewportRatio,u=function(){if(e.value){var c=e.value.clientWidth,a=e.value.clientHeight;if(a/c>i.value){var r=c*(l.value/100);o.setCanvasScale(r/at),t.value=(c-r)/2,n.value=(a-r*i.value)/2}else{var u=a*(l.value/100);o.setCanvasScale(u/(at*i.value)),t.value=(c-u/i.value)/2,n.value=(a-u)/2}}};Object(j["watch"])([l,i],u),Object(j["watch"])(a,(function(){a.value||u()}));var d=Object(j["computed"])((function(){return{width:at,height:at*i.value,left:t.value,top:n.value}})),s=new ResizeObserver(u);Object(j["onMounted"])((function(){e.value&&s.observe(e.value)})),Object(j["onUnmounted"])((function(){e.value&&s.unobserve(e.value)}));var f=function(e){var c=!0,l=e.pageX,a=e.pageY,r=t.value,i=n.value;document.onmousemove=function(e){if(c){var o=e.pageX,u=e.pageY;t.value=r+(o-l),n.value=i+(u-a)}},document.onmouseup=function(){c=!1,document.onmousemove=null,document.onmouseup=null,o.setCanvasDragged(!0)}};return{viewportStyles:d,dragViewport:f}},mo=function(e,t){var n=ue(),o=Object(y["c"])(n),c=o.canvasScale,l=Object(j["ref"])(!1),a=Object(j["ref"])(1),r=Object(j["ref"])({top:0,left:0,width:0,height:0}),i=function(o){if(t.value){var i=!0,u=t.value.getBoundingClientRect(),d=5,s=o.pageX,f=o.pageY,b=(s-u.x)/c.value,m=(f-u.y)/c.value;r.value={top:m,left:b,width:0,height:0},l.value=!1,a.value=4,document.onmousemove=function(e){if(i){var t=e.pageX,n=e.pageY,o=(t-s)/c.value,u=(n-f)/c.value,b=Math.abs(o),m=Math.abs(u);if(!(b<d||m<d)){var p=0;o>0&&u>0?p=4:o<0&&u<0?p=1:o>0&&u<0?p=2:o<0&&u>0&&(p=3),r.value=Object(L["a"])(Object(L["a"])({},r.value),{},{width:b,height:m}),l.value=!0,a.value=p}}},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null,i=!1;for(var t=[],o=0;o<e.value.length;o++){var c=e.value[o],u=r.value.left,d=r.value.top,s=r.value.width,f=r.value.height,b=Je(c),m=b.minX,p=b.maxX,v=b.minY,O=b.maxY,h=!1;4===a.value?h=m>u&&p<u+s&&v>d&&O<d+f:1===a.value?h=m>u-s&&p<u-s+s&&v>d-f&&O<d-f+f:2===a.value?h=m>u&&p<u+s&&v>d-f&&O<d-f+f:3===a.value&&(h=m>u-s&&p<u-s+s&&v>d&&O<d+f),h&&!c.lock&&t.push(c)}t=t.filter((function(n){if(n.groupId){var o=t.map((function(e){return e.id})),c=e.value.filter((function(e){return e.groupId===n.groupId}));return c.every((function(e){return o.includes(e.id)}))}return!0}));var j=t.map((function(e){return e.id}));n.setActiveElementIdList(j),l.value=!1}}};return{mouseSelection:r,mouseSelectionVisible:l,mouseSelectionQuadrant:a,updateMouseSelection:i}},po=function(e){var t=Object(y["c"])(ue()),n=t.disableHotkeys,o=st(),c=o.createImageElement,l=o.createTextElement,a=function(e){if(e.dataTransfer&&0!==e.dataTransfer.items.length){var t=e.dataTransfer.items[0];if("file"===t.kind&&-1!==t.type.indexOf("image")){var o=t.getAsFile();o&&lt(o).then((function(e){return c(e)}))}else"string"===t.kind&&"text/plain"===t.type&&t.getAsString((function(e){if(!n.value){var t=ot(e);l({left:0,top:0,width:600,height:50},t)}}))}};Object(j["onMounted"])((function(){e.value&&e.value.addEventListener("drop",a),document.ondragleave=function(e){return e.preventDefault()},document.ondrop=function(e){return e.preventDefault()},document.ondragenter=function(e){return e.preventDefault()},document.ondragover=function(e){return e.preventDefault()}})),Object(j["onUnmounted"])((function(){e.value&&e.value.removeEventListener("drop",a),document.ondragleave=null,document.ondrop=null,document.ondragenter=null,document.ondragover=null}))},vo=function(e,t){var n=Math.atan2(e,t),o=180/Math.PI*n;return o},Oo=function(e,t){var n=ae(),o=Object(y["c"])(ue()),c=o.canvasScale,l=dt(),a=l.addHistorySnapshot,r=function(o){var l=!0,r=0,i=o.rotate||0,u=o.left,d=o.top,s=o.width,f=o.height,b=u+s/2,m=d+f/2;if(t.value){var p=t.value.getBoundingClientRect();document.onmousemove=function(t){if(l){var n=(t.pageX-p.left)/c.value,a=(t.pageY-p.top)/c.value,i=n-b,u=m-a;r=vo(i,u);var d=5;Math.abs(r)<=d?r=0:r>0&&Math.abs(r-45)<=d?r-=r-45:r<0&&Math.abs(r+45)<=d?r-=r+45:r>0&&Math.abs(r-90)<=d?r-=r-90:r<0&&Math.abs(r+90)<=d?r-=r+90:r>0&&Math.abs(r-135)<=d?r-=r-135:r<0&&Math.abs(r+135)<=d?r-=r+135:r>0&&Math.abs(r-180)<=d?r-=r-180:r<0&&Math.abs(r+180)<=d&&(r-=r+180),e.value=e.value.map((function(e){return o.id===e.id?Object(L["a"])(Object(L["a"])({},e),{},{rotate:r}):e}))}},document.onmouseup=function(){l=!1,document.onmousemove=null,document.onmouseup=null,i!==r&&(n.updateSlide({elements:e.value}),a())}}};return{rotateElement:r}},ho={text:"文本",image:"图片",shape:"形状",line:"线条",chart:"图表",table:"表格",video:"视频",audio:"音频"},jo={text:20,image:20,shape:15,chart:200,table:20,video:250,audio:20},yo=function(e,t){var n=e.left,o=e.top,c=e.width,l=e.height,a=Math.sqrt(Math.pow(c,2)+Math.pow(l,2))/2,r=180*Math.atan(l/c)/Math.PI,i=(180-t-r)*Math.PI/180,u=(r-t)*Math.PI/180,d=(90-t)*Math.PI/180,s=t*Math.PI/180,f=c/2,b=l/2,m=n+f,p=o+b,v={left:m+a*Math.cos(i),top:p-a*Math.sin(i)},O={left:m+b*Math.cos(d),top:p-b*Math.sin(d)},h={left:m+a*Math.cos(u),top:p-a*Math.sin(u)},j={left:m+f*Math.cos(s),top:p+f*Math.sin(s)},y={left:m-a*Math.cos(i),top:p+a*Math.sin(i)},g={left:m-b*Math.sin(s),top:p+b*Math.cos(s)},x={left:m-a*Math.cos(u),top:p+a*Math.sin(u)},C={left:m-f*Math.cos(s),top:p-f*Math.sin(s)};return{leftTopPoint:v,topPoint:O,rightTopPoint:h,rightPoint:j,rightBottomPoint:y,bottomPoint:g,leftBottomPoint:x,leftPoint:C}},go=function(e,t){var n,o=(n={},Object(pe["a"])(n,N.RIGHT_BOTTOM,t.leftTopPoint),Object(pe["a"])(n,N.LEFT_BOTTOM,t.rightTopPoint),Object(pe["a"])(n,N.LEFT_TOP,t.rightBottomPoint),Object(pe["a"])(n,N.RIGHT_TOP,t.leftBottomPoint),Object(pe["a"])(n,N.TOP,t.bottomPoint),Object(pe["a"])(n,N.BOTTOM,t.topPoint),Object(pe["a"])(n,N.LEFT,t.rightPoint),Object(pe["a"])(n,N.RIGHT,t.leftPoint),n);return o[e]},xo=function(e,t,n){var o=ue(),c=ae(),l=Object(y["c"])(o),a=l.activeElementIdList,r=l.activeGroupElementId,i=Object(y["c"])(c),u=i.viewportRatio,d=Object(y["c"])(ke()),s=d.ctrlOrShiftKeyActive,f=dt(),b=f.addHistorySnapshot,m=function(l,i,d){var f=!(l instanceof MouseEvent);if(!f||l.changedTouches&&l.changedTouches[0]){var m=!0;o.setScalingState(!0);var p,v=i.left,O=i.top,h=i.width,j=i.height,y="rotate"in i&&i.rotate?i.rotate:0,g=Math.PI*y/180,x=s.value||"fixedRatio"in i&&i.fixedRatio,C=h/j,k=f?l.changedTouches[0].pageX:l.pageX,E=f?l.changedTouches[0].pageY:l.pageY,w=jo[i.type]||20,V=function(e){return e<w?w:e},I=0,S=0,B=[],_=[];if("rotate"in i&&i.rotate){var M=i.left,D=i.top,z=i.width,A=i.height;p=yo({left:M,top:D,width:z,height:A},y);var F=go(d,p);I=F.left,S=F.top}else{var R,P=at,H=at*u.value,q=i.id===r.value,U=Object(T["a"])(e.value);try{for(U.s();!(R=U.n()).done;){var W=R.value;if((!("rotate"in W)||!W.rotate)&&("line"!==W.type&&(!q||W.id!==i.id)&&(q||!a.value.includes(W.id)))){var G=W.left,X=W.top,Y=W.width,Z=W.height,J=G+Y,K=X+Z,Q={value:X,range:[G,J]},ee={value:K,range:[G,J]},te={value:G,range:[X,K]},ne={value:J,range:[X,K]};B.push(Q,ee),_.push(te,ne)}}}catch(fe){U.e(fe)}finally{U.f()}var oe={value:0,range:[0,P]},ce={value:H,range:[0,P]},le={value:H/2,range:[0,P]},ae={value:0,range:[0,H]},re={value:P,range:[0,H]},ie={value:P/2,range:[0,H]};B.push(oe,ce,le),_.push(ae,re,ie),B=Qe(B),_=Qe(_)}var ue=function(e,n){var o=5,c=[],l=!1,a=!1,r={offsetX:0,offsetY:0};if(n||0===n)for(var i=0;i<B.length;i++){var u=B[i],d=u.value,s=u.range,f=Math.min.apply(Math,Object($["a"])(s).concat([e||0])),b=Math.max.apply(Math,Object($["a"])(s).concat([e||0]));Math.abs(n-d)<o&&!a&&(r.offsetY=n-d,a=!0,c.push({type:"horizontal",axis:{x:f-50,y:d},length:b-f+100}))}if(e||0===e)for(var m=0;m<_.length;m++){var p=_[m],v=p.value,O=p.range,h=Math.min.apply(Math,Object($["a"])(O).concat([n||0])),j=Math.max.apply(Math,Object($["a"])(O).concat([n||0]));Math.abs(e-v)<o&&!l&&(r.offsetX=e-v,l=!0,c.push({type:"vertical",axis:{x:v,y:h-50},length:j-h+100}))}return t.value=c,r},de=function(t){if(m){var o=t instanceof MouseEvent?t.pageX:t.changedTouches[0].pageX,c=t instanceof MouseEvent?t.pageY:t.changedTouches[0].pageY,l=o-k,a=c-E,r=h,u=j,s=v,f=O;if(y){var b=(Math.cos(g)*l+Math.sin(g)*a)/n.value,p=(Math.cos(g)*a-Math.sin(g)*l)/n.value;x&&(d!==N.RIGHT_BOTTOM&&d!==N.LEFT_TOP||(p=b/C),d!==N.LEFT_BOTTOM&&d!==N.RIGHT_TOP||(p=-b/C)),d===N.RIGHT_BOTTOM?(r=V(h+b),u=V(j+p)):d===N.LEFT_BOTTOM?(r=V(h-b),u=V(j+p),s=v-(r-h)):d===N.LEFT_TOP?(r=V(h-b),u=V(j-p),s=v-(r-h),f=O-(u-j)):d===N.RIGHT_TOP?(r=V(h+b),u=V(j-p),f=O-(u-j)):d===N.TOP?(u=V(j-p),f=O-(u-j)):d===N.BOTTOM?u=V(j+p):d===N.LEFT?(r=V(h-b),s=v-(r-h)):d===N.RIGHT&&(r=V(h+b));var w=yo({width:r,height:u,left:s,top:f},y),B=go(d,w),T=B.left,_=B.top,M=T-I,D=_-S;s-=M,f-=D}else{var z=l/n.value,A=a/n.value;if(x&&(d!==N.RIGHT_BOTTOM&&d!==N.LEFT_TOP||(A=z/C),d!==N.LEFT_BOTTOM&&d!==N.RIGHT_TOP||(A=-z/C)),d===N.RIGHT_BOTTOM){var F=ue(v+h+z,O+j+A),R=F.offsetX,P=F.offsetY;z-=R,A-=P,x&&(P?z=A*C:A=z/C),r=V(h+z),u=V(j+A)}else if(d===N.LEFT_BOTTOM){var H=ue(v+z,O+j+A),q=H.offsetX,U=H.offsetY;z-=q,A-=U,x&&(U?z=-A*C:A=-z/C),r=V(h-z),u=V(j+A),s=v-(r-h)}else if(d===N.LEFT_TOP){var W=ue(v+z,O+A),G=W.offsetX,X=W.offsetY;z-=G,A-=X,x&&(X?z=A*C:A=z/C),r=V(h-z),u=V(j-A),s=v-(r-h),f=O-(u-j)}else if(d===N.RIGHT_TOP){var Y=ue(v+h+z,O+A),Z=Y.offsetX,J=Y.offsetY;z-=Z,A-=J,x&&(J?z=-A*C:A=-z/C),r=V(h+z),u=V(j-A),f=O-(u-j)}else if(d===N.LEFT){var K=ue(v+z,null),Q=K.offsetX;z-=Q,r=V(h-z),s=v-(r-h)}else if(d===N.RIGHT){var $=ue(v+h+z,null),ee=$.offsetX;z-=ee,r=V(h+z)}else if(d===N.TOP){var te=ue(null,O+A),ne=te.offsetY;A-=ne,u=V(j-A),f=O-(u-j)}else if(d===N.BOTTOM){var oe=ue(null,O+j+A),ce=oe.offsetY;A-=ce,u=V(j+A)}}e.value=e.value.map((function(e){return i.id!==e.id?e:"shape"===e.type&&"pathFormula"in e&&e.pathFormula?Object(L["a"])(Object(L["a"])({},e),{},{left:s,top:f,width:r,height:u,viewBox:[r,u],path:rt[e.pathFormula](r,u)}):Object(L["a"])(Object(L["a"])({},e),{},{left:s,top:f,width:r,height:u})}))}},se=function(n){m=!1,document.ontouchmove=null,document.ontouchend=null,document.onmousemove=null,document.onmouseup=null,t.value=[];var l=n instanceof MouseEvent?n.pageX:n.changedTouches[0].pageX,a=n instanceof MouseEvent?n.pageY:n.changedTouches[0].pageY;k===l&&E===a||(c.updateSlide({elements:e.value}),o.setScalingState(!1),b())};f?(document.ontouchmove=de,document.ontouchend=se):(document.onmousemove=de,document.onmouseup=se)}},p=function(t,o,l){var r=!0,i=o.minX,u=o.maxX,d=o.minY,f=o.maxY,m=u-i,p=f-d,v=m/p,O=t.pageX,h=t.pageY,j=JSON.parse(JSON.stringify(e.value));document.onmousemove=function(t){if(r){var o=t.pageX,c=t.pageY,b=(o-O)/n.value,y=(c-h)/n.value;s.value&&(l!==N.RIGHT_BOTTOM&&l!==N.LEFT_TOP||(y=b/v),l!==N.LEFT_BOTTOM&&l!==N.RIGHT_TOP||(y=-b/v));var g=i,x=u,C=d,k=f;l===N.RIGHT_BOTTOM?(x=u+b,k=f+y):l===N.LEFT_BOTTOM?(g=i+b,k=f+y):l===N.LEFT_TOP?(g=i+b,C=d+y):l===N.RIGHT_TOP?(x=u+b,C=d+y):l===N.TOP?C=d+y:l===N.BOTTOM?k=f+y:l===N.LEFT?g=i+b:l===N.RIGHT&&(x=u+b);var E=x-g,w=k-C,V=E/m,I=w/p;V<=0&&(V=0),I<=0&&(I=0),e.value=e.value.map((function(e){if(("image"===e.type||"shape"===e.type)&&a.value.includes(e.id)){var t=j.find((function(t){return t.id===e.id}));return Object(L["a"])(Object(L["a"])({},e),{},{width:t.width*V,height:t.height*I,left:g+(t.left-i)*V,top:C+(t.top-d)*I})}return e}))}},document.onmouseup=function(t){r=!1,document.onmousemove=null,document.onmouseup=null,O===t.pageX&&h===t.pageY||(c.updateSlide({elements:e.value}),b())}};return{scaleElement:m,scaleMultiElement:p}},Co=function(e,t){var n=ue(),o=Object(y["c"])(n),c=o.activeElementIdList,l=o.activeGroupElementId,a=o.handleElementId,r=o.editorAreaFocus,i=Object(y["c"])(ke()),u=i.ctrlOrShiftKeyActive,d=function(o,i){var d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(r.value||n.setEditorareaFocus(!0),c.value.includes(i.id)){if(u.value){var s=[];if(i.groupId){var f=[];e.value.forEach((function(e){e.groupId===i.groupId&&f.push(e.id)})),s=c.value.filter((function(e){return!f.includes(e)}))}else s=c.value.filter((function(e){return e!==i.id}));s.length>0&&n.setActiveElementIdList(s)}else if(a.value!==i.id)n.setHandleElementId(i.id);else if(l.value!==i.id){var b=o instanceof MouseEvent?o.pageX:o.changedTouches[0].pageX,m=o instanceof MouseEvent?o.pageY:o.changedTouches[0].pageY;o.target.onmouseup=function(e){var t=e.pageX,o=e.pageY;b===t&&m===o&&(n.setActiveGroupElementId(i.id),e.target.onmouseup=null)}}}else{var p=[];if(p=u.value?[].concat(Object($["a"])(c.value),[i.id]):[i.id],i.groupId){var v=[];e.value.forEach((function(e){e.groupId===i.groupId&&v.push(e.id)})),p=[].concat(Object($["a"])(p),v)}n.setActiveElementIdList(Object(ne["uniq"])(p)),n.setHandleElementId(i.id)}d&&t(o,i)},s=function(){var t=e.value.filter((function(e){return!e.lock})),o=t.map((function(e){return e.id}));n.setActiveElementIdList(o)};return{selectElement:d,selectAllElement:s}},ko=function(e,t,n){var o=ae(),c=Object(y["c"])(ue()),l=c.activeElementIdList,a=c.activeGroupElementId,r=Object(y["c"])(o),i=r.viewportRatio,u=dt(),d=u.addHistorySnapshot,s=function(c,r){var u=!(c instanceof MouseEvent);if((!u||c.changedTouches&&c.changedTouches[0])&&l.value.includes(r.id)){var s,f=!0,b=at,m=at*i.value,p=5,v=JSON.parse(JSON.stringify(e.value)),O=v.filter((function(e){return l.value.includes(e.id)})),h=r.left,j=r.top,y=r.width,g="height"in r&&r.height?r.height:0,x="rotate"in r&&r.rotate?r.rotate:0,C=u?c.changedTouches[0].pageX:c.pageX,k=u?c.changedTouches[0].pageY:c.pageY,E=null,w=r.id===a.value,N=[],V=[],I=Object(T["a"])(e.value);try{for(I.s();!(s=I.n()).done;){var S=s.value;if("line"!==S.type&&((!w||S.id!==r.id)&&(w||!l.value.includes(S.id)))){var B=void 0,_=void 0,M=void 0,D=void 0;if("rotate"in S&&S.rotate){var z=Ye({left:S.left,top:S.top,width:S.width,height:S.height,rotate:S.rotate}),A=z.xRange,F=z.yRange;B=A[0],_=F[0],M=A[1]-A[0],D=F[1]-F[0]}else B=S.left,_=S.top,M=S.width,D=S.height;var R=B+M,P=_+D,H=_+D/2,q=B+M/2,U={value:_,range:[B,R]},W={value:P,range:[B,R]},G={value:H,range:[B,R]},X={value:B,range:[_,P]},Y={value:R,range:[_,P]},Z={value:q,range:[_,P]};N.push(U,W,G),V.push(X,Y,Z)}}}catch(le){I.e(le)}finally{I.f()}var J={value:0,range:[0,b]},K={value:m,range:[0,b]},Q={value:m/2,range:[0,b]},ee={value:0,range:[0,m]},te={value:b,range:[0,m]},ne={value:b/2,range:[0,m]};N.push(J,K,Q),V.push(ee,te,ne),N=Qe(N),V=Qe(V);var oe=function(o){var c=o instanceof MouseEvent?o.pageX:o.changedTouches[0].pageX,a=o instanceof MouseEvent?o.pageY:o.changedTouches[0].pageY;if(!1!==E&&(E=Math.abs(C-c)<p&&Math.abs(k-a)<p),f&&!E){var i,u,d,s,b=(c-C)/n.value,m=(a-k)/n.value,v=h+b,I=j+m;if(1===l.value.length||w)if(x){var S=Ye({left:v,top:I,width:y,height:g,rotate:x}),B=S.xRange,T=S.yRange;i=B[0],u=B[1],d=T[0],s=T[1]}else"line"===r.type?(i=v,u=v+Math.max(r.start[0],r.end[0]),d=I,s=I+Math.max(r.start[1],r.end[1])):(i=v,u=v+y,d=I,s=I+g);else{for(var _=[],M=[],D=[],z=[],A=0;A<O.length;A++){var F=O[A],R=F.left+b,P=F.top+m,H=F.width,q="height"in F&&F.height?F.height:0,U="rotate"in F&&F.rotate?F.rotate:0;if("rotate"in F&&F.rotate){var W=Ye({left:R,top:P,width:H,height:q,rotate:U}),G=W.xRange,X=W.yRange;_.push(G[0]),M.push(X[0]),D.push(G[1]),z.push(X[1])}else"line"===F.type?(_.push(R),M.push(P),D.push(R+Math.max(F.start[0],F.end[0])),z.push(P+Math.max(F.start[1],F.end[1]))):(_.push(R),M.push(P),D.push(R+H),z.push(P+q))}i=Math.min.apply(Math,_),u=Math.max.apply(Math,D),d=Math.min.apply(Math,M),s=Math.max.apply(Math,z)}for(var Y=i+(u-i)/2,Z=d+(s-d)/2,J=[],K=!1,Q=!1,ee=0;ee<N.length;ee++){var te=N[ee],ne=te.value,oe=te.range,ce=Math.min.apply(Math,Object($["a"])(oe).concat([i,u])),le=Math.max.apply(Math,Object($["a"])(oe).concat([i,u]));Math.abs(d-ne)<p&&!Q&&(I-=d-ne,Q=!0,J.push({type:"horizontal",axis:{x:ce-50,y:ne},length:le-ce+100})),Math.abs(s-ne)<p&&!Q&&(I-=s-ne,Q=!0,J.push({type:"horizontal",axis:{x:ce-50,y:ne},length:le-ce+100})),Math.abs(Z-ne)<p&&!Q&&(I-=Z-ne,Q=!0,J.push({type:"horizontal",axis:{x:ce-50,y:ne},length:le-ce+100}))}for(var ae=0;ae<V.length;ae++){var re=V[ae],ie=re.value,ue=re.range,de=Math.min.apply(Math,Object($["a"])(ue).concat([d,s])),se=Math.max.apply(Math,Object($["a"])(ue).concat([d,s]));Math.abs(i-ie)<p&&!K&&(v-=i-ie,K=!0,J.push({type:"vertical",axis:{x:ie,y:de-50},length:se-de+100})),Math.abs(u-ie)<p&&!K&&(v-=u-ie,K=!0,J.push({type:"vertical",axis:{x:ie,y:de-50},length:se-de+100})),Math.abs(Y-ie)<p&&!K&&(v-=Y-ie,K=!0,J.push({type:"vertical",axis:{x:ie,y:de-50},length:se-de+100}))}if(t.value=J,1===l.value.length||w)e.value=e.value.map((function(e){return e.id===r.id?Object(L["a"])(Object(L["a"])({},e),{},{left:v,top:I}):e}));else{var fe=e.value.find((function(e){return e.id===r.id}));if(!fe)return;e.value=e.value.map((function(e){return l.value.includes(e.id)?e.id===r.id?Object(L["a"])(Object(L["a"])({},e),{},{left:v,top:I}):Object(L["a"])(Object(L["a"])({},e),{},{left:e.left+(v-fe.left),top:e.top+(I-fe.top)}):e}))}}},ce=function(n){f=!1,document.ontouchmove=null,document.ontouchend=null,document.onmousemove=null,document.onmouseup=null,t.value=[];var c=n instanceof MouseEvent?n.pageX:n.changedTouches[0].pageX,l=n instanceof MouseEvent?n.pageY:n.changedTouches[0].pageY;C===c&&k===l||(o.updateSlide({elements:e.value}),d())};u?(document.ontouchmove=oe,document.ontouchend=ce):(document.onmousemove=oe,document.onmouseup=ce)}};return{dragElement:s}},Eo=function(e){var t=ae(),n=Object(y["c"])(ue()),o=n.canvasScale,c=dt(),l=c.addHistorySnapshot,a=function(n,c,a){for(var r=!0,i=8,u=n.pageX,d=n.pageY,s=[],f=0;f<e.value.length;f++){var b=e.value[f];if("line"!==b.type&&!b.rotate){var m=b.left,p=b.top,v=b.width,O=b.height,h=m+v,j=p+O,y=p+O/2,g=m+v/2,x={x:g,y:p},C={x:g,y:j},k={x:m,y:y},E={x:h,y:y},w={x:m,y:p},N={x:h,y:p},I={x:m,y:j},S={x:h,y:j};s.push(x,C,k,E,w,N,I,S)}}document.onmousemove=function(t){if(r){var n=t.pageX,l=t.pageY,f=(n-u)/o.value,b=(l-d)/o.value,m=c.left+c.start[0],p=c.top+c.start[1],v=c.left+c.end[0],O=c.top+c.end[1],h=c.broken||c.curve||[0,0],j=c.left+h[0],y=c.top+h[1],g=c.cubic||[[0,0],[0,0]],x=Object(ve["a"])(g,2),C=x[0],k=x[1],E=c.left+C[0],w=c.top+C[1],N=c.left+k[0],I=c.top+k[1];if(a===V.START){m+=f,p+=b,Math.abs(m-v)<i&&(m=v),Math.abs(p-O)<i&&(p=O);var S,B=Object(T["a"])(s);try{for(B.s();!(S=B.n()).done;){var _=S.value,M=_.x,D=_.y;if(Math.abs(M-m)<i&&Math.abs(D-p)<i){m=M,p=D;break}}}catch(Y){B.e(Y)}finally{B.f()}}else if(a===V.END){v+=f,O+=b,Math.abs(m-v)<i&&(v=m),Math.abs(p-O)<i&&(O=p);var z,A=Object(T["a"])(s);try{for(A.s();!(z=A.n()).done;){var F=z.value,R=F.x,P=F.y;if(Math.abs(R-v)<i&&Math.abs(P-O)<i){v=R,O=P;break}}}catch(Y){A.e(Y)}finally{A.f()}}else a===V.C?(j+=f,y+=b,Math.abs(j-m)<i&&(j=m),Math.abs(y-p)<i&&(y=p),Math.abs(j-v)<i&&(j=v),Math.abs(y-O)<i&&(y=O),Math.abs(j-(m+v)/2)<i&&Math.abs(y-(p+O)/2)<i&&(j=(m+v)/2,y=(p+O)/2)):a===V.C1?(E+=f,w+=b,Math.abs(E-m)<i&&(E=m),Math.abs(w-p)<i&&(w=p),Math.abs(E-v)<i&&(E=v),Math.abs(w-O)<i&&(w=O)):a===V.C2&&(N+=f,I+=b,Math.abs(N-m)<i&&(N=m),Math.abs(I-p)<i&&(I=p),Math.abs(N-v)<i&&(N=v),Math.abs(I-O)<i&&(I=O));var H=Math.min(m,v),q=Math.min(p,O),U=Math.max(m,v),W=Math.max(p,O),G=[0,0],X=[U-H,W-q];m>v&&(G[0]=U-H,X[0]=0),p>O&&(G[1]=W-q,X[1]=0),e.value=e.value.map((function(e){if(e.id===c.id){var t=Object(L["a"])(Object(L["a"])({},e),{},{left:H,top:q,start:G,end:X});return a===V.START||a===V.END?(c.broken&&(t.broken=[(G[0]+X[0])/2,(G[1]+X[1])/2]),c.curve&&(t.curve=[(G[0]+X[0])/2,(G[1]+X[1])/2]),c.cubic&&(t.cubic=[[(G[0]+X[0])/2,(G[1]+X[1])/2],[(G[0]+X[0])/2,(G[1]+X[1])/2]])):a===V.C?(c.broken&&(t.broken=[j-H,y-q]),c.curve&&(t.curve=[j-H,y-q])):c.cubic&&(t.cubic=[[E-H,w-q],[N-H,I-q]]),t}return e}))}},document.onmouseup=function(n){r=!1,document.onmousemove=null,document.onmouseup=null;var o=n.pageX,c=n.pageY;u===o&&d===c||(t.updateSlide({elements:e.value}),l())}};return{dragLineElement:a}},wo=function(e){var t=ue(),n=Object(y["c"])(t),o=n.canvasScale,c=n.creatingElement,l=function(t){var n=t.start,c=t.end;if(e.value){var l=e.value.getBoundingClientRect(),a=Object(ve["a"])(n,2),r=a[0],i=a[1],u=Object(ve["a"])(c,2),d=u[0],s=u[1],f=Math.min(r,d),b=Math.max(r,d),m=Math.min(i,s),p=Math.max(i,s),v=(f-l.x)/o.value,O=(m-l.y)/o.value,h=(b-f)/o.value,j=(p-m)/o.value;return{left:v,top:O,width:h,height:j}}},a=function(t){var n=t.start,c=t.end;if(e.value){var l=e.value.getBoundingClientRect(),a=Object(ve["a"])(n,2),r=a[0],i=a[1],u=Object(ve["a"])(c,2),d=u[0],s=u[1],f=Math.min(r,d),b=Math.max(r,d),m=Math.min(i,s),p=Math.max(i,s),v=(f-l.x)/o.value,O=(m-l.y)/o.value,h=(b-f)/o.value,j=(p-m)/o.value,y=[r===f?0:h,i===m?0:j],g=[d===f?0:h,s===m?0:j];return{left:v,top:O,start:y,end:g}}},r=st(),i=r.createTextElement,u=r.createShapeElement,d=r.createLineElement,s=function(e){if(c.value){var n=c.value.type;if("text"===n){var o=l(e);o&&i(o)}else if("shape"===n){var r=l(e);r&&u(r,c.value.data)}else if("line"===n){var s=a(e);s&&d(s,c.value.data)}t.setCreatingElement(null)}};return{insertElementFromCreateSelection:s}},No=["id"];function Vo(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"editable-element",ref:"elementRef",id:"editable-element-".concat(e.elementInfo.id),style:Object(j["normalizeStyle"])({zIndex:e.elementIndex})},[(Object(j["openBlock"])(),Object(j["createBlock"])(Object(j["resolveDynamicComponent"])(e.currentElementComponent),{elementInfo:e.elementInfo,selectElement:e.selectElement,contextmenus:e.contextmenus},null,8,["elementInfo","selectElement","contextmenus"]))],12,No)}n("a9e3");var Io=function(){var e=ae(),t=Object(y["c"])(ue()),n=t.activeElementIdList,o=t.activeElementList,c=Object(y["c"])(e),l=c.currentSlide,a=c.viewportRatio,r=dt(),i=r.addHistorySnapshot,u=function(t){var c,r=at,u=at*a.value,d=Ke(o.value),s=d.minX,f=d.maxX,b=d.minY,m=d.maxY,p=JSON.parse(JSON.stringify(l.value.elements)),v=Object(T["a"])(p);try{for(v.s();!(c=v.n()).done;){var O=c.value;if(n.value.includes(O.id)){if(t===E.CENTER){var h=b+(m-b)/2-u/2,j=s+(f-s)/2-r/2;O.top=O.top-h,O.left=O.left-j}if(t===E.TOP){var y=b-0;O.top=O.top-y}else if(t===E.VERTICAL){var g=b+(m-b)/2-u/2;O.top=O.top-g}else if(t===E.BOTTOM){var x=m-u;O.top=O.top-x}else if(t===E.LEFT){var C=s-0;O.left=O.left-C}else if(t===E.HORIZONTAL){var k=s+(f-s)/2-r/2;O.left=O.left-k}else if(t===E.RIGHT){var w=f-r;O.left=O.left-w}}}}catch(N){v.e(N)}finally{v.f()}e.updateSlide({elements:p}),i()};return{alignElementToCanvas:u}},So=["src"];function Bo(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("ImageClipHandler"),r=Object(j["resolveComponent"])("ImageOutline"),i=Object(j["resolveDirective"])("contextmenu");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["editable-element-image",{lock:e.elementInfo.lock}]),style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[e.isCliping?(Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:0,src:e.elementInfo.src,clipData:e.elementInfo.clip,width:e.elementInfo.width,height:e.elementInfo.height,top:e.elementInfo.top,left:e.elementInfo.left,rotate:e.elementInfo.rotate,clipPath:e.clipShape.style,onClip:t[0]||(t[0]=function(t){return e.handleClip(t)})},null,8,["src","clipData","width","height","top","left","rotate","clipPath"])):Object(j["withDirectives"])((Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:1,class:"element-content",style:Object(j["normalizeStyle"])({filter:e.shadowStyle?"drop-shadow(".concat(e.shadowStyle,")"):"",transform:e.flipStyle}),onMousedown:t[2]||(t[2]=function(t){return e.handleSelectElement(t)}),onTouchstart:t[3]||(t[3]=function(t){return e.handleSelectElement(t)})},[Object(j["createVNode"])(r,{elementInfo:e.elementInfo},null,8,["elementInfo"]),Object(j["createElementVNode"])("div",{class:"image-content",style:Object(j["normalizeStyle"])({clipPath:e.clipShape.style})},[Object(j["createElementVNode"])("img",{src:e.elementInfo.src,draggable:!1,style:Object(j["normalizeStyle"])({top:e.imgPosition.top,left:e.imgPosition.left,width:e.imgPosition.width,height:e.imgPosition.height,filter:e.filter}),onDragstart:t[1]||(t[1]=Object(j["withModifiers"])((function(){}),["prevent"])),alt:""},null,44,So)],4)],36)),[[i,e.contextmenus]])],4)],6)}var Lo,To,_o=function(e){var t=Object(j["computed"])((function(){if(e.value){var t=e.value,n=t.h,o=t.v,c=t.blur,l=t.color;return"".concat(n,"px ").concat(o,"px ").concat(c,"px ").concat(l)}return""}));return{shadowStyle:t}},Mo=function(e,t){var n=Object(j["computed"])((function(){var n="";return e.value&&t.value?n="rotateX(180deg) rotateY(180deg)":t.value?n="rotateX(180deg)":e.value&&(n="rotateY(180deg)"),n}));return{flipStyle:n}};(function(e){e["RECT"]="rect",e["ELLIPSE"]="ellipse",e["POLYGON"]="polygon"})(Lo||(Lo={})),function(e){e["RECT"]="rect",e["ROUNDRECT"]="roundRect",e["ELLIPSE"]="ellipse",e["TRIANGLE"]="triangle",e["PENTAGON"]="pentagon",e["RHOMBUS"]="rhombus",e["STAR"]="star"}(To||(To={}));var Do={rect:{name:"矩形",type:Lo.RECT,radius:"0",style:""},rect2:{name:"矩形2",type:Lo.POLYGON,style:"polygon(0% 0%, 80% 0%, 100% 20%, 100% 100%, 0 100%)",createPath:function(e,t){return"M 0 0 L ".concat(.8*e," 0 L ").concat(e," ").concat(.2*t," L ").concat(e," ").concat(t," L 0 ").concat(t," Z")}},rect3:{name:"矩形3",type:Lo.POLYGON,style:"polygon(0% 0%, 80% 0%, 100% 20%, 100% 100%, 20% 100%, 0% 80%)",createPath:function(e,t){return"M 0 0 L ".concat(.8*e," 0 L ").concat(e," ").concat(.2*t," L ").concat(e," ").concat(t," L ").concat(.2*e," ").concat(t," L 0 ").concat(.8*t," Z")}},roundRect:{name:"圆角矩形",type:Lo.RECT,radius:"10%",style:"inset(0 0 0 0 round 10% 10% 10% 10%)"},ellipse:{name:"圆形",type:Lo.ELLIPSE,style:"ellipse(50% 50% at 50% 50%)"},triangle:{name:"三角形",type:Lo.POLYGON,style:"polygon(50% 0%, 0% 100%, 100% 100%)",createPath:function(e,t){return"M ".concat(.5*e," 0 L 0 ").concat(t," L ").concat(e," ").concat(t," Z")}},triangle2:{name:"三角形2",type:Lo.POLYGON,style:"polygon(50% 100%, 0% 0%, 100% 0%)",createPath:function(e,t){return"M ".concat(.5*e," ").concat(t," L 0 0 L ").concat(e," 0 Z")}},triangle3:{name:"三角形3",type:Lo.POLYGON,style:"polygon(0% 0%, 0% 100%, 100% 100%)",createPath:function(e,t){return"M 0 0 L 0 ".concat(t," L ").concat(e," ").concat(t," Z")}},rhombus:{name:"菱形",type:Lo.POLYGON,style:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)",createPath:function(e,t){return"M ".concat(.5*e," 0 L ").concat(e," ").concat(.5*t," L ").concat(.5*e," ").concat(t," L 0 ").concat(.5*t," Z")}},hexagon:{name:"六边形",type:Lo.POLYGON,style:"polygon(20% 0%, 80% 0%, 100% 50%, 80% 100%, 20% 100%, 0% 50%)",createPath:function(e,t){return"M ".concat(.2*e," 0 L ").concat(.8*e," 0 L ").concat(e," ").concat(.5*t," L ").concat(.8*e," ").concat(t," L ").concat(.2*e," ").concat(t," L 0 ").concat(.5*t," Z")}},pentagon:{name:"五边形",type:Lo.POLYGON,style:"polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%)",createPath:function(e,t){return"M ".concat(.5*e," 0 L ").concat(e," ").concat(.38*t," L ").concat(.82*e," ").concat(t," L ").concat(.18*e," ").concat(t," L 0 ").concat(.38*t," Z")}},parallelogram:{name:"平行四边形",type:Lo.POLYGON,style:"polygon(30% 0%, 100% 0%, 70% 100%, 0% 100%)",createPath:function(e,t){return"M ".concat(.3*e," 0 L ").concat(e," 0 L ").concat(.7*e," ").concat(t," L 0 ").concat(t," Z")}},parallelogram2:{name:"平行四边形2",type:Lo.POLYGON,style:"polygon(30% 100%, 100% 100%, 70% 0%, 0% 0%)",createPath:function(e,t){return"M ".concat(.3*e," ").concat(t," L ").concat(e," ").concat(t," L ").concat(.7*e," 0 L 0 0 Z")}},trapezoid:{name:"梯形",type:Lo.POLYGON,style:"polygon(25% 0%, 75% 0%, 100% 100%, 0% 100%)",createPath:function(e,t){return"M ".concat(.25*e," 0 L ").concat(.75*e," 0 L ").concat(e," ").concat(t," L 0 ").concat(t," Z")}},trapezoid2:{name:"梯形2",type:Lo.POLYGON,style:"polygon(0% 0%, 100% 0%, 75% 100%, 25% 100%)",createPath:function(e,t){return"M 0 0 L ".concat(e," 0 L ").concat(.75*e," ").concat(t," L ").concat(.25*e," ").concat(t," Z")}}},zo=function(e){var t=Object(j["computed"])((function(){if(!e.value)return Do.rect;var t=e.value.shape||Lo.RECT;return Do[t]})),n=Object(j["computed"])((function(){if(!e.value)return{top:"0",left:"0",width:"100%",height:"100%"};var t=Object(ve["a"])(e.value.range,2),n=t[0],o=t[1],c=(o[0]-n[0])/100,l=(o[1]-n[1])/100,a=n[0]/c,r=n[1]/l;return{left:-a+"%",top:-r+"%",width:100/c+"%",height:100/l+"%"}}));return{clipShape:t,imgPosition:n}},Ao=(n("b64b"),function(e){var t=Object(j["computed"])((function(){if(!e.value)return"";for(var t="",n=0,o=Object.keys(e.value);n<o.length;n++){var c=o[n];t+="".concat(c,"(").concat(e.value[c],") ")}return t}));return{filter:t}}),Fo={class:"image-outline"};function Ro(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("ImageRectOutline"),r=Object(j["resolveComponent"])("ImageEllipseOutline"),i=Object(j["resolveComponent"])("ImagePolygonOutline");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Fo,["rect"===e.clipShape.type?(Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:0,width:e.elementInfo.width,height:e.elementInfo.height,radius:e.clipShape.radius,outline:e.elementInfo.outline},null,8,["width","height","radius","outline"])):"ellipse"===e.clipShape.type?(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:1,width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"])):"polygon"===e.clipShape.type?(Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:2,width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline,createPath:e.clipShape.createPath},null,8,["width","height","outline","createPath"])):Object(j["createCommentVNode"])("",!0)])}var Po=["width","height"],Ho=["rx","ry","width","height","stroke","stroke-width","stroke-dasharray"];function qo(e,t,n,o,c,l){return e.outline?(Object(j["openBlock"])(),Object(j["createElementBlock"])("svg",{key:0,class:"image-rect-outline",overflow:"visible",width:e.width,height:e.height},[Object(j["createElementVNode"])("rect",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",fill:"transparent",rx:e.radius,ry:e.radius,width:e.width,height:e.height,stroke:e.outlineColor,"stroke-width":e.outlineWidth,"stroke-dasharray":"dashed"===e.outlineStyle?"10 6":"0 0"},null,8,Ho)],8,Po)):Object(j["createCommentVNode"])("",!0)}var Uo=function(e){var t=Object(j["computed"])((function(){var t,n;return null!==(t=null===(n=e.value)||void 0===n?void 0:n.width)&&void 0!==t?t:0})),n=Object(j["computed"])((function(){var t;return(null===(t=e.value)||void 0===t?void 0:t.style)||"solid"})),o=Object(j["computed"])((function(){var t;return(null===(t=e.value)||void 0===t?void 0:t.color)||"#d14424"}));return{outlineWidth:t,outlineStyle:n,outlineColor:o}},Wo=Object(j["defineComponent"])({name:"image-rect-outline",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},outline:{type:Object},radius:{type:String,default:"0"}},setup:function(e){var t=Uo(Object(j["toRef"])(e,"outline")),n=t.outlineWidth,o=t.outlineStyle,c=t.outlineColor;return{outlineWidth:n,outlineStyle:o,outlineColor:c}}});n("3ea9");const Go=eo()(Wo,[["render",qo],["__scopeId","data-v-74cf8d68"]]);var Xo=Go,Yo=["width","height"],Zo=["cx","cy","rx","ry","stroke","stroke-width","stroke-dasharray"];function Jo(e,t,n,o,c,l){return e.outline?(Object(j["openBlock"])(),Object(j["createElementBlock"])("svg",{key:0,class:"image-ellipse-outline",overflow:"visible",width:e.width,height:e.height},[Object(j["createElementVNode"])("ellipse",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",fill:"transparent",cx:e.width/2,cy:e.height/2,rx:e.width/2,ry:e.height/2,stroke:e.outlineColor,"stroke-width":e.outlineWidth,"stroke-dasharray":"dashed"===e.outlineStyle?"10 6":"0 0"},null,8,Zo)],8,Yo)):Object(j["createCommentVNode"])("",!0)}var Ko=Object(j["defineComponent"])({name:"image-ellipse-outline",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},outline:{type:Object}},setup:function(e){var t=Uo(Object(j["toRef"])(e,"outline")),n=t.outlineWidth,o=t.outlineStyle,c=t.outlineColor;return{outlineWidth:n,outlineStyle:o,outlineColor:c}}});n("dfed");const Qo=eo()(Ko,[["render",Jo],["__scopeId","data-v-b701edc6"]]);var $o=Qo,ec=["width","height"],tc=["d","stroke","stroke-width","stroke-dasharray"];function nc(e,t,n,o,c,l){return e.outline?(Object(j["openBlock"])(),Object(j["createElementBlock"])("svg",{key:0,class:"image-polygon-outline",overflow:"visible",width:e.width,height:e.height},[Object(j["createElementVNode"])("path",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",fill:"transparent",d:e.createPath(e.width,e.height),stroke:e.outlineColor,"stroke-width":e.outlineWidth,"stroke-dasharray":"dashed"===e.outlineStyle?"10 6":"0 0"},null,8,tc)],8,ec)):Object(j["createCommentVNode"])("",!0)}var oc=Object(j["defineComponent"])({name:"image-polygon-outline",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},outline:{type:Object},createPath:{type:Function,required:!0}},setup:function(e){var t=Uo(Object(j["toRef"])(e,"outline")),n=t.outlineWidth,o=t.outlineStyle,c=t.outlineColor;return{outlineWidth:n,outlineStyle:o,outlineColor:c}}});n("7335");const cc=eo()(oc,[["render",nc],["__scopeId","data-v-4c746203"]]);var lc=cc,ac=Object(j["defineComponent"])({name:"image-outline",components:{ImageRectOutline:Xo,ImageEllipseOutline:$o,ImagePolygonOutline:lc},props:{elementInfo:{type:Object,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){return e.elementInfo.clip})),n=zo(t),o=n.clipShape;return{clipShape:o}}});const rc=eo()(ac,[["render",Ro]]);var ic=rc,uc=function(e){return Object(j["pushScopeId"])("data-v-2ec16714"),e=e(),Object(j["popScopeId"])(),e},dc=["src"],sc=["src"],fc=["onMousedown"],bc=uc((function(){return Object(j["createElementVNode"])("svg",{width:"16",height:"16",fill:"#fff",stroke:"#333"},[Object(j["createElementVNode"])("path",{"stroke-width":"0.3","shape-rendering":"crispEdges",d:"M 16 0 L 0 0 L 0 16 L 4 16 L 4 4 L 16 4 L 16 0 Z"})],-1)})),mc=[bc],pc=["onMousedown"],vc=uc((function(){return Object(j["createElementVNode"])("svg",{width:"16",height:"16",fill:"#fff",stroke:"#333"},[Object(j["createElementVNode"])("path",{"stroke-width":"0.3","shape-rendering":"crispEdges",d:"M 16 0 L 0 0 L 0 4 L 16 4 Z"})],-1)})),Oc=[vc];function hc(e,t,n,o,c,l){var a=Object(j["resolveDirective"])("click-outside");return Object(j["withDirectives"])((Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"image-clip-handler",style:Object(j["normalizeStyle"])(e.clipWrapperPositionStyle)},[Object(j["createElementVNode"])("img",{class:"bottom-img",src:e.src,draggable:!1,alt:"",style:Object(j["normalizeStyle"])(e.bottomImgPositionStyle)},null,12,dc),Object(j["createElementVNode"])("div",{class:"top-image-content",style:Object(j["normalizeStyle"])(Object(L["a"])(Object(L["a"])({},e.topImgWrapperPositionStyle),{},{clipPath:e.clipPath}))},[Object(j["createElementVNode"])("img",{class:"top-img",src:e.src,draggable:!1,alt:"",style:Object(j["normalizeStyle"])(e.topImgPositionStyle)},null,12,sc)],4),Object(j["createElementVNode"])("div",{class:"operate",style:Object(j["normalizeStyle"])(e.topImgWrapperPositionStyle),onMousedown:t[0]||(t[0]=Object(j["withModifiers"])((function(t){return e.moveClipRange(t)}),["stop"]))},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.cornerPoint,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["clip-point",t,e.rotateClassName]),key:t,onMousedown:Object(j["withModifiers"])((function(n){return e.scaleClipRange(n,t)}),["stop"])},mc,42,fc)})),128)),(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.edgePoints,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["clip-point",t,e.rotateClassName]),key:t,onMousedown:Object(j["withModifiers"])((function(n){return e.scaleClipRange(n,t)}),["stop"])},Oc,42,pc)})),128))],36)],4)),[[a,e.handleClip]])}var jc=Object(j["defineComponent"])({name:"image-clip-handler",emits:["clip"],props:{src:{type:String,required:!0},clipData:{type:Object},clipPath:{type:String,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},top:{type:Number,required:!0},left:{type:Number,required:!0},rotate:{type:Number,required:!0}},setup:function(e,t){var n=t.emit,o=Object(y["c"])(ue()),c=o.canvasScale,l=Object(y["c"])(ke()),a=l.ctrlOrShiftKeyActive,r=Object(j["ref"])({top:"0",left:"0"}),i=Object(j["ref"])(!1),u=Object(j["ref"])(null),d=function(){var t=e.clipData?e.clipData.range:[[0,0],[100,100]],n=Object(ve["a"])(t,2),o=n[0],c=n[1],l=(c[0]-o[0])/100,a=(c[1]-o[1])/100,r=o[0]/l,i=o[1]/a;return{widthScale:l,heightScale:a,left:r,top:i}},s=Object(j["computed"])((function(){var e=d(),t=e.widthScale,n=e.heightScale,o=e.left,c=e.top;return{left:-o,top:-c,width:100/t,height:100/n}})),f=Object(j["computed"])((function(){return{top:s.value.top+"%",left:s.value.left+"%",width:s.value.width+"%",height:s.value.height+"%"}})),b=Object(j["ref"])({top:0,left:0,width:0,height:0}),m=Object(j["computed"])((function(){var e=b.value,t=e.top,n=e.left,o=e.width,c=e.height;return{top:t+"%",left:n+"%",width:o+"%",height:c+"%"}})),p=Object(j["computed"])((function(){var e=s.value.width,t=s.value.height,n=b.value,o=n.top,c=n.left,l=n.width,a=n.height;return{left:100/l*-c+"%",top:100/a*-o+"%",width:e/l*100+"%",height:t/a*100+"%"}})),v=function(){var e=d(),t=e.left,n=e.top;b.value={left:t,top:n,width:100,height:100},r.value={top:-n+"%",left:-t+"%"}},O=function(){if(!i.value)if(u.value){var t=d(),o=t.left,c=t.top,l={left:(b.value.left-o)/100*e.width,top:(b.value.top-c)/100*e.height,width:(b.value.width-100)/100*e.width,height:(b.value.height-100)/100*e.height},a={range:u.value,position:l};n("clip",a)}else n("clip",null)},h=function(e){var t=e.key.toUpperCase();t===I.ENTER&&O()};Object(j["onMounted"])((function(){v(),document.addEventListener("keydown",h)})),Object(j["onUnmounted"])((function(){document.removeEventListener("keydown",h)}));var g=function(){var e={left:parseInt(p.value.left),top:parseInt(p.value.top),width:parseInt(p.value.width),height:parseInt(p.value.height)},t=100/e.width,n=100/e.height,o=[-e.left*t,-e.top*n],c=[100*t+o[0],100*n+o[1]];u.value=[o,c]},x=function(t){i.value=!0;var n=!0,o=t.pageX,l=t.pageY,a=s.value,r=Object(L["a"])({},b.value);document.onmousemove=function(t){if(n){var i=t.pageX,u=t.pageY,d=(i-o)/c.value/e.width*100,s=(u-l)/c.value/e.height*100;e.rotate>45&&e.rotate<135&&(d=(u-l)/c.value/e.width*100,s=-(i-o)/c.value/e.height*100),(e.rotate>=135&&e.rotate<=180||e.rotate>=-180&&e.rotate<=-135)&&(d=-d,s=-s),e.rotate>-135&&e.rotate<-45&&(d=-(u-l)/c.value/e.width*100,s=(i-o)/c.value/e.height*100);var f=r.left+d,m=r.top+s;f<0?f=0:f+r.width>a.width&&(f=a.width-r.width),m<0?m=0:m+r.height>a.height&&(m=a.height-r.height),b.value=Object(L["a"])(Object(L["a"])({},b.value),{},{left:f,top:m})}},document.onmouseup=function(){n=!1,document.onmousemove=null,document.onmouseup=null,g(),setTimeout((function(){i.value=!1}),0)}},C=function(t,n){i.value=!0;var o=!0,l=50/e.width*100,r=50/e.height*100,u=t.pageX,d=t.pageY,f=s.value,m=Object(L["a"])({},b.value),p=b.value.width/b.value.height;document.onmousemove=function(t){if(o){var i,s,v,O,h=t.pageX,j=t.pageY,y=(h-u)/c.value/e.width*100,g=(j-d)/c.value/e.height*100;e.rotate>45&&e.rotate<135&&(y=(j-d)/c.value/e.width*100,g=-(h-u)/c.value/e.height*100),(e.rotate>=135&&e.rotate<=180||e.rotate>=-180&&e.rotate<=-135)&&(y=-y,g=-g),e.rotate>-135&&e.rotate<-45&&(y=-(j-d)/c.value/e.width*100,g=(h-u)/c.value/e.height*100),a.value&&(n!==N.RIGHT_BOTTOM&&n!==N.LEFT_TOP||(g=y/p),n!==N.LEFT_BOTTOM&&n!==N.RIGHT_TOP||(g=-y/p)),n===N.LEFT_TOP?(m.left+y<0&&(y=-m.left),m.top+g<0&&(g=-m.top),m.width-y<l&&(y=m.width-l),m.height-g<r&&(g=m.height-r),v=m.width-y,O=m.height-g,i=m.left+y,s=m.top+g):n===N.RIGHT_TOP?(m.left+m.width+y>f.width&&(y=f.width-(m.left+m.width)),m.top+g<0&&(g=-m.top),m.width+y<l&&(y=l-m.width),m.height-g<r&&(g=m.height-r),v=m.width+y,O=m.height-g,i=m.left,s=m.top+g):n===N.LEFT_BOTTOM?(m.left+y<0&&(y=-m.left),m.top+m.height+g>f.height&&(g=f.height-(m.top+m.height)),m.width-y<l&&(y=m.width-l),m.height+g<r&&(g=r-m.height),v=m.width-y,O=m.height+g,i=m.left+y,s=m.top):n===N.RIGHT_BOTTOM?(m.left+m.width+y>f.width&&(y=f.width-(m.left+m.width)),m.top+m.height+g>f.height&&(g=f.height-(m.top+m.height)),m.width+y<l&&(y=l-m.width),m.height+g<r&&(g=r-m.height),v=m.width+y,O=m.height+g,i=m.left,s=m.top):n===N.TOP?(m.top+g<0&&(g=-m.top),m.height-g<r&&(g=m.height-r),v=m.width,O=m.height-g,i=m.left,s=m.top+g):n===N.BOTTOM?(m.top+m.height+g>f.height&&(g=f.height-(m.top+m.height)),m.height+g<r&&(g=r-m.height),v=m.width,O=m.height+g,i=m.left,s=m.top):n===N.LEFT?(m.left+y<0&&(y=-m.left),m.width-y<l&&(y=m.width-l),v=m.width-y,O=m.height,i=m.left+y,s=m.top):(m.left+m.width+y>f.width&&(y=f.width-(m.left+m.width)),m.width+y<l&&(y=l-m.width),O=m.height,v=m.width+y,i=m.left,s=m.top),b.value={left:i,top:s,width:v,height:O}}},document.onmouseup=function(){o=!1,document.onmousemove=null,document.onmouseup=null,g(),setTimeout((function(){return i.value=!1}),0)}},k=Object(j["computed"])((function(){var t="rotate-",n=e.rotate;return n>-22.5&&n<=22.5?t+0:n>22.5&&n<=67.5?t+45:n>67.5&&n<=112.5?t+90:n>112.5&&n<=157.5?t+135:n>157.5||n<=-157.5?t+0:n>-157.5&&n<=-112.5?t+45:n>-112.5&&n<=-67.5?t+90:n>-67.5&&n<=-22.5?t+135:t+0})),E=[N.LEFT_TOP,N.RIGHT_TOP,N.LEFT_BOTTOM,N.RIGHT_BOTTOM],w=[N.TOP,N.BOTTOM,N.LEFT,N.RIGHT];return{clipWrapperPositionStyle:r,bottomImgPositionStyle:f,topImgWrapperPositionStyle:m,topImgPositionStyle:p,rotateClassName:k,edgePoints:w,cornerPoint:E,handleClip:O,moveClipRange:x,scaleClipRange:C}}});n("42c7");const yc=eo()(jc,[["render",hc],["__scopeId","data-v-2ec16714"]]);var gc=yc,xc=Object(j["defineComponent"])({name:"editable-element-image",components:{ImageOutline:ic,ImageClipHandler:gc},props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup:function(e){var t=ue(),n=ae(),o=Object(y["c"])(t),c=o.clipingImageElementId,l=Object(j["computed"])((function(){return c.value===e.elementInfo.id})),a=dt(),r=a.addHistorySnapshot,i=Object(j["computed"])((function(){return e.elementInfo.shadow})),u=_o(i),d=u.shadowStyle,s=Object(j["computed"])((function(){return e.elementInfo.flipH})),f=Object(j["computed"])((function(){return e.elementInfo.flipV})),b=Mo(s,f),m=b.flipStyle,p=Object(j["computed"])((function(){return e.elementInfo.clip})),v=zo(p),O=v.clipShape,h=v.imgPosition,g=Object(j["computed"])((function(){return e.elementInfo.filters})),x=Ao(g),C=x.filter,k=function(t){e.elementInfo.lock||(t.stopPropagation(),e.selectElement(t,e.elementInfo))},E=function(o){if(t.setClipingImageElementId(""),o){var c=o.range,l=o.position,a=e.elementInfo.clip||{shape:"rect",range:[[0,0],[100,100]]},i=e.elementInfo.left+l.left,u=e.elementInfo.top+l.top,d=e.elementInfo.width+l.width,s=e.elementInfo.height+l.height,f=0,b=0;if(e.elementInfo.rotate){var m=i+d/2-(e.elementInfo.left+e.elementInfo.width/2),p=-(u+s/2-(e.elementInfo.top+e.elementInfo.height/2)),v=-e.elementInfo.rotate*Math.PI/180,O=m*Math.cos(v)-p*Math.sin(v),h=m*Math.sin(v)+p*Math.cos(v);f=O-m,b=-(h-p)}var j={clip:Object(L["a"])(Object(L["a"])({},a),{},{range:c}),left:i+f,top:u+b,width:d,height:s};n.updateElement({id:e.elementInfo.id,props:j}),r()}};return{isCliping:l,handleClip:E,clipingImageElementId:c,shadowStyle:d,handleSelectElement:k,clipShape:O,imgPosition:h,filter:C,flipStyle:m}}});n("9a51");const Cc=eo()(xc,[["render",Bo],["__scopeId","data-v-fed8b698"]]);var kc=Cc,Ec=function(e){return Object(j["pushScopeId"])("data-v-77a8ccf7"),e=e(),Object(j["popScopeId"])(),e},wc=Ec((function(){return Object(j["createElementVNode"])("div",{class:"drag-handler top"},null,-1)})),Nc=Ec((function(){return Object(j["createElementVNode"])("div",{class:"drag-handler bottom"},null,-1)}));function Vc(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("ElementOutline"),r=Object(j["resolveComponent"])("ProsemirrorEditor"),i=Object(j["resolveDirective"])("contextmenu");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["editable-element-text",{lock:e.elementInfo.lock}]),ref:"elementRef",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["withDirectives"])((Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"element-content",style:Object(j["normalizeStyle"])({backgroundColor:e.elementInfo.fill,opacity:e.elementInfo.opacity,textShadow:e.shadowStyle,lineHeight:e.elementInfo.lineHeight,letterSpacing:(e.elementInfo.wordSpace||0)+"px",color:e.elementInfo.defaultColor,fontFamily:e.elementInfo.defaultFontName}),onMousedown:t[4]||(t[4]=function(t){return e.handleSelectElement(t)}),onTouchstart:t[5]||(t[5]=function(t){return e.handleSelectElement(t)})},[Object(j["createVNode"])(a,{width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"]),Object(j["createVNode"])(r,{class:"text",elementId:e.elementInfo.id,defaultColor:e.elementInfo.defaultColor,defaultFontName:e.elementInfo.defaultFontName,editable:!e.elementInfo.lock,value:e.elementInfo.content,style:Object(j["normalizeStyle"])({"--textIndent":"".concat(e.elementInfo.textIndent||0,"px"),"--paragraphSpace":"".concat(void 0===e.elementInfo.paragraphSpace?5:e.elementInfo.paragraphSpace,"px")}),onUpdate:t[0]||(t[0]=function(t){return e.updateContent(t)}),onBlur:t[1]||(t[1]=function(t){return e.checkEmptyText()}),onMousedown:t[2]||(t[2]=function(t){return e.handleSelectElement(t,!1)}),onTouchstart:t[3]||(t[3]=function(t){return e.handleSelectElement(t)})},null,8,["elementId","defaultColor","defaultFontName","editable","value","style"]),wc,Nc],36)),[[i,e.contextmenus]])],4)],6)}var Ic=["width","height"],Sc=["d","stroke","stroke-width","stroke-dasharray"];function Bc(e,t,n,o,c,l){return e.outline?(Object(j["openBlock"])(),Object(j["createElementBlock"])("svg",{key:0,class:"element-outline",overflow:"visible",width:e.width,height:e.height},[Object(j["createElementVNode"])("path",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",fill:"transparent",d:"M0,0 L".concat(e.width,",0 L").concat(e.width,",").concat(e.height," L0,").concat(e.height," Z"),stroke:e.outlineColor,"stroke-width":e.outlineWidth,"stroke-dasharray":"dashed"===e.outlineStyle?"10 6":"0 0"},null,8,Sc)],8,Ic)):Object(j["createCommentVNode"])("",!0)}var Lc=Object(j["defineComponent"])({name:"element-outline",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},outline:{type:Object}},setup:function(e){var t=Uo(Object(j["toRef"])(e,"outline")),n=t.outlineWidth,o=t.outlineStyle,c=t.outlineColor;return{outlineWidth:n,outlineStyle:o,outlineColor:c}}});n("0543");const Tc=eo()(Lc,[["render",Bc],["__scopeId","data-v-34c0a0a8"]]);var _c=Tc,Mc={class:"prosemirror-editor",ref:"editorViewRef"};function Dc(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Mc,null,512)}var zc,Ac=n("5313"),Fc=n("576a"),Rc=n("304a"),Pc=n("7f06"),Hc=n("8726"),qc=n("23f1"),Uc=n("1a16"),Wc=n("665f"),Gc=n("f95e"),Xc=function(e){var t={},n=function(e,n){return t[e]=n};return n("Alt-ArrowUp",_["c"]),n("Alt-ArrowDown",_["b"]),n("Ctrl-z",Hc["c"]),n("Ctrl-y",Hc["b"]),n("Backspace",Gc["f"]),n("Escape",_["e"]),n("Ctrl-b",Object(_["f"])(e.marks.strong)),n("Ctrl-i",Object(_["f"])(e.marks.em)),n("Ctrl-u",Object(_["f"])(e.marks.underline)),n("Ctrl-d",Object(_["f"])(e.marks.strikethrough)),n("Enter",Object(Wc["f"])(e.nodes.list_item)),n("Mod-[",Object(Wc["b"])(e.nodes.list_item)),n("Mod-]",Object(Wc["e"])(e.nodes.list_item)),t},Yc=function(e){return Object(Gc["g"])(/^\s*>\s$/,e)},Zc=function(e){return Object(Gc["g"])(/^(\d+)\.\s$/,e,(function(e){return{order:+e[1]}}),(function(e,t){return t.childCount+t.attrs.order===+e[1]}))},Jc=function(e){return Object(Gc["g"])(/^\s*([-+*])\s$/,e)},Kc=function(e){return Object(Gc["e"])(/^```$/,e)},Qc=function(e){var t=[].concat(Object($["a"])(Gc["d"]),[Gc["a"],Gc["b"]]);return t.push(Yc(e.nodes.blockquote)),t.push(Zc(e.nodes.ordered_list)),t.push(Jc(e.nodes.bullet_list)),t.push(Kc(e.nodes.code_block)),Object(Gc["c"])({rules:t})},$c=function(e){return[Qc(e),Object(Pc["b"])(Xc(e)),Object(Pc["b"])(_["a"]),Object(qc["a"])(),Object(Uc["a"])(),Object(Hc["a"])()]},el=n("2210"),tl=Object(L["a"])(Object(L["a"])({},Wc["d"]),{},{content:"list_item+",group:"block"}),nl=Object(L["a"])(Object(L["a"])({},Wc["a"]),{},{content:"list_item+",group:"block"}),ol=Object(L["a"])(Object(L["a"])({},Wc["c"]),{},{content:"paragraph block*",group:"block"}),cl={attrs:{align:{default:""},indent:{default:0}},content:"inline*",group:"block",parseDOM:[{tag:"p",getAttrs:function(e){var t=e.style.textAlign,n=e.getAttribute("align")||t||"";n=/(left|right|center|justify)/.test(n)?n:"";var o=+(e.getAttribute("data-indent")||0);return{align:n,indent:o}}}],toDOM:function(e){var t=e.attrs,n=t.align,o=t.indent,c="";n&&"left"!==n&&(c+="text-align: ".concat(n,";"));var l={style:c};return o&&(l["data-indent"]=o),["p",l,0]}},ll=Object(L["a"])(Object(L["a"])({},el["b"]),{},{ordered_list:tl,bullet_list:nl,list_item:ol,paragraph:cl}),al={excludes:"subscript",parseDOM:[{tag:"sub"},{style:"vertical-align",getAttrs:function(e){return"sub"===e&&null}}],toDOM:function(){return["sub",0]}},rl={excludes:"superscript",parseDOM:[{tag:"sup"},{style:"vertical-align",getAttrs:function(e){return"super"===e&&null}}],toDOM:function(){return["sup",0]}},il={parseDOM:[{tag:"strike"},{style:"text-decoration",getAttrs:function(e){return"line-through"===e&&null}},{style:"text-decoration-line",getAttrs:function(e){return"line-through"===e&&null}}],toDOM:function(){return["span",{style:"text-decoration-line: line-through"},0]}},ul={parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:function(e){return"underline"===e&&null}},{style:"text-decoration-line",getAttrs:function(e){return"underline"===e&&null}}],toDOM:function(){return["span",{style:"text-decoration: underline"},0]}},dl={attrs:{color:{}},inline:!0,group:"inline",parseDOM:[{style:"color",getAttrs:function(e){return e?{color:e}:{}}}],toDOM:function(e){var t=e.attrs.color,n="";return t&&(n+="color: ".concat(t,";")),["span",{style:n},0]}},sl={attrs:{backcolor:{}},inline:!0,group:"inline",parseDOM:[{style:"background-color",getAttrs:function(e){return e?{backcolor:e}:{}}}],toDOM:function(e){var t=e.attrs.backcolor,n="";return t&&(n+="background-color: ".concat(t,";")),["span",{style:n},0]}},fl={attrs:{fontsize:{}},inline:!0,group:"inline",parseDOM:[{style:"font-size",getAttrs:function(e){return e?{fontsize:e}:{}}}],toDOM:function(e){var t=e.attrs.fontsize,n="";return t&&(n+="font-size: ".concat(t)),["span",{style:n},0]}},bl={attrs:{fontname:{}},inline:!0,group:"inline",parseDOM:[{style:"font-family",getAttrs:function(e){return{fontname:e&&"string"===typeof e?e.replace(/[\"\']/g,""):""}}}],toDOM:function(e){var t=e.attrs.fontname,n="";return t&&(n+="font-family: ".concat(t)),["span",{style:n},0]}},ml={attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){var t=e.getAttribute("href"),n=e.getAttribute("title");return{href:t,title:n}}}],toDOM:function(e){return["a",e.attrs,0]}},pl=Object(L["a"])(Object(L["a"])({},el["a"]),{},{subscript:al,superscript:rl,strikethrough:il,underline:ul,forecolor:dl,backcolor:sl,fontsize:fl,fontname:bl,link:ml}),vl=ll,Ol=pl,hl=new Rc["i"]({nodes:vl,marks:Ol}),jl=function(e){var t="<div>".concat(e,"</div>"),n=new window.DOMParser,o=n.parseFromString(t,"text/html").body.firstElementChild;return Rc["a"].fromSchema(hl).parse(o)},yl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Fc["c"](e,Object(L["a"])({state:Ac["b"].create({doc:jl(t),plugins:$c(hl)})},n))},gl=n("1344");(function(e){e["RICH_TEXT_COMMAND"]="RICH_TEXT_COMMAND",e["OPEN_CHART_DATA_EDITOR"]="OPEN_CHART_DATA_EDITOR",e["OPEN_LATEX_EDITOR"]="OPEN_LATEX_EDITOR"})(zc||(zc={}));var xl=Object(gl["a"])(),Cl=xl,kl=(n("6062"),function(e,t,n){var o=e,c=o.selection,l=o.doc;if(!c||!l)return e;var a=c.from,r=c.to,i=t.nodes,u=i.blockquote,d=i.list_item,s=i.paragraph,f=[];n=n||"";var b=new Set([u,d,s]);return l.nodesBetween(a,r,(function(e,t){var o=e.type,c=e.attrs.align||"";return c!==n&&b.has(o)&&f.push({node:e,pos:t,nodeType:o}),!0})),f.length?(f.forEach((function(t){var o=t.node,c=t.pos,l=t.nodeType,a=o.attrs;a=n?Object(L["a"])(Object(L["a"])({},a),{},{align:n}):Object(L["a"])(Object(L["a"])({},a),{},{align:null}),e=e.setNodeMarkup(c,l,a,o.marks)})),e):e}),El=function(e,t){var n=e.state,o=n.schema,c=n.selection,l=kl(n.tr.setSelection(c),o,t);e.dispatch(l)},wl=function(e,t){return e.type===t.nodes.bullet_list||e.type===t.nodes.ordered_list},Nl=function(e,t){return function(n,o){var c=n.schema,l=n.selection,a=l.$from,r=l.$to,i=a.blockRange(r);if(!i)return!1;var u=R((function(e){return wl(e,c)}))(l);if(i.depth>=1&&u&&i.depth-u.depth<=1){if(u.node.type===e)return Object(Wc["b"])(t)(n,o);if(wl(u.node,c)&&e.validContent(u.node.content)){var d=n.tr;return d.setNodeMarkup(u.pos,e),o&&o(d),!1}}return Object(Wc["g"])(e)(n,o)}};function Vl(e,t,n){if(!e.doc)return e;var o=e.doc.nodeAt(t);if(!o)return e;var c=0,l=7,a=(o.attrs.indent||0)+n;if(a<c&&(a=c),a>l&&(a=l),a===o.attrs.indent)return e;var r=Object(L["a"])(Object(L["a"])({},o.attrs),{},{indent:a});return e.setNodeMarkup(t,o.type,r,o.marks)}var Il=function(e,t,n){var o=e,c=o.selection,l=o.doc;if(!c||!l)return e;if(!(c instanceof Ac["g"]||c instanceof Ac["a"]))return e;var a=c.from,r=c.to;return l.nodesBetween(a,r,(function(o,c){var l=o.type;return"paragraph"===l.name||"blockquote"===l.name?(e=Vl(e,c,n),!1):!wl(o,t)})),e},Sl=function(e,t){var n=e.state,o=n.schema,c=n.selection,l=Il(n.tr.setSelection(c),o,t);return!!l.docChanged&&(e.dispatch(l),!0)},Bl=Object(j["defineComponent"])({name:"prosemirror-editor",emits:["update","focus","blur"],props:{elementId:{type:String,required:!0},defaultColor:{type:String,required:!0},defaultFontName:{type:String,required:!0},editable:{type:Boolean,default:!1},value:{type:String,required:!0},autoFocus:{type:Boolean,default:!1}},setup:function(e,t){var n,o=t.emit,c=ue(),l=Object(y["c"])(c),a=l.handleElementId,r=Object(j["ref"])(),i=Object(ne["debounce"])((function(){o("update",n.dom.innerHTML)}),300,{trailing:!0}),u=function(){c.setDisableHotkeysState(!0),o("focus")},d=function(){c.setDisableHotkeysState(!1),o("blur")},s=Object(ne["debounce"])((function(){var t=Z(n,{color:e.defaultColor,fontname:e.defaultFontName});c.setRichtextAttrs(t)}),30,{trailing:!0}),f=function(){i(),s()},b=Object(j["computed"])((function(){return e.value}));Object(j["watch"])(b,(function(){if(n&&!n.hasFocus()){var e=n.state,t=e.doc,o=e.tr;n.dispatch(o.replaceRangeWith(0,t.content.size,jl(b.value)))}})),Object(j["watch"])((function(){return e.editable}),(function(){n.setProps({editable:function(){return e.editable}})})),Object(j["onMounted"])((function(){n=yl(r.value,b.value,{handleDOMEvents:{focus:u,blur:d,keydown:f,click:s},editable:function(){return e.editable}}),e.autoFocus&&n.focus()})),Object(j["onUnmounted"])((function(){n&&n.destroy()}));var m=function(t){var o=t.target,c=t.action;if((o||a.value===e.elementId)&&(!o||o===e.elementId)){var l,r="command"in c?[c]:c,u=Object(T["a"])(r);try{for(u.s();!(l=u.n()).done;){var d=l.value;if("fontname"===d.command&&d.value){var f=n.state.schema.marks.fontname.create({fontname:d.value});M(n),D(n,f)}else if("fontsize"===d.command&&d.value){var b=n.state.schema.marks.fontsize.create({fontsize:d.value});M(n),D(n,b)}else if("fontsize-add"===d.command){var m=d.value?+d.value:2;M(n);var p=J(n)+m+"px",v=n.state.schema.marks.fontsize.create({fontsize:p});D(n,v)}else if("fontsize-reduce"===d.command){var O=d.value?+d.value:2;M(n);var h=J(n)-O;h<12&&(h=12);var j=n.state.schema.marks.fontsize.create({fontsize:h+"px"});D(n,j)}else if("color"===d.command&&d.value){var y=n.state.schema.marks.forecolor.create({color:d.value});M(n),D(n,y)}else if("backcolor"===d.command&&d.value){var g=n.state.schema.marks.backcolor.create({backcolor:d.value});M(n),D(n,g)}else if("bold"===d.command)M(n),Object(_["f"])(n.state.schema.marks.strong)(n.state,n.dispatch);else if("em"===d.command)M(n),Object(_["f"])(n.state.schema.marks.em)(n.state,n.dispatch);else if("underline"===d.command)M(n),Object(_["f"])(n.state.schema.marks.underline)(n.state,n.dispatch);else if("strikethrough"===d.command)M(n),Object(_["f"])(n.state.schema.marks.strikethrough)(n.state,n.dispatch);else if("subscript"===d.command)Object(_["f"])(n.state.schema.marks.subscript)(n.state,n.dispatch);else if("superscript"===d.command)Object(_["f"])(n.state.schema.marks.superscript)(n.state,n.dispatch);else if("blockquote"===d.command)Object(_["g"])(n.state.schema.nodes.blockquote)(n.state,n.dispatch);else if("code"===d.command)Object(_["f"])(n.state.schema.marks.code)(n.state,n.dispatch);else if("align"===d.command&&d.value)El(n,d.value);else if("indent"===d.command&&d.value)Sl(n,+d.value);else if("bulletList"===d.command){var x=n.state.schema.nodes,C=x.bullet_list,k=x.list_item;Nl(C,k)(n.state,n.dispatch)}else if("orderedList"===d.command){var E=n.state.schema.nodes,w=E.ordered_list,N=E.list_item;Nl(w,N)(n.state,n.dispatch)}else if("clear"===d.command){M(n);var V=n.state.selection,I=V.$from,S=V.$to;n.dispatch(n.state.tr.removeMark(I.pos,S.pos))}else if("link"===d.command){var B=n.state.schema.marks.link,L=n.state.selection,A=L.from,F=L.to,R=z(n.state.doc,A,F,B);if(R)if(d.value){var P=n.state.schema.marks.link.create({href:d.value,title:d.value});D(n,P,{from:R.from.pos,to:R.to.pos+1})}else n.dispatch(n.state.tr.removeMark(R.from.pos,R.to.pos+1,B));else if(G(n.state,B))if(d.value){var H=n.state.schema.marks.link.create({href:d.value,title:d.value});D(n,H)}else Object(_["f"])(B)(n.state,n.dispatch);else d.value&&(M(n),Object(_["f"])(B,{href:d.value,title:d.value})(n.state,n.dispatch))}else"insert"===d.command&&d.value&&n.dispatch(n.state.tr.insertText(d.value))}}catch(q){u.e(q)}finally{u.f()}n.focus(),i(),s()}};return Cl.on(zc.RICH_TEXT_COMMAND,m),Object(j["onUnmounted"])((function(){Cl.off(zc.RICH_TEXT_COMMAND,m)})),{editorViewRef:r}}});n("2a8a");const Ll=eo()(Bl,[["render",Dc],["__scopeId","data-v-50456657"]]);var Tl=Ll,_l=Object(j["defineComponent"])({name:"editable-element-text",components:{ElementOutline:_c,ProsemirrorEditor:Tl},props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup:function(e){var t=ue(),n=ae(),o=Object(y["c"])(t),c=o.handleElementId,l=o.isScaling,a=dt(),r=a.addHistorySnapshot,i=Object(j["ref"])(),u=Object(j["computed"])((function(){return e.elementInfo.shadow})),d=_o(u),s=d.shadowStyle,f=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.elementInfo.lock||(t.stopPropagation(),e.selectElement(t,e.elementInfo,n))},b=Object(j["ref"])(-1);Object(j["watch"])(l,(function(){c.value===e.elementInfo.id&&(l.value||-1===b.value||(n.updateElement({id:e.elementInfo.id,props:{height:b.value}}),b.value=-1))}));var m=function(t){var o=t[0].contentRect;if(i.value){var c=o.height;e.elementInfo.height!==c&&(l.value?b.value=c:n.updateElement({id:e.elementInfo.id,props:{height:c}}))}},p=new ResizeObserver(m);Object(j["onMounted"])((function(){i.value&&p.observe(i.value)})),Object(j["onUnmounted"])((function(){i.value&&p.unobserve(i.value)}));var v=function(t){n.updateElement({id:e.elementInfo.id,props:{content:t}}),r()},O=function(){var t=e.elementInfo.content.replaceAll(/<[^>]+>/g,"");t||n.deleteElement(e.elementInfo.id)};return{elementRef:i,shadowStyle:s,updateContent:v,handleSelectElement:f,checkEmptyText:O}}});n("08e7");const Ml=eo()(_l,[["render",Vc],["__scopeId","data-v-77a8ccf7"]]);var Dl=Ml,zl=["width","height"],Al={key:0},Fl=["transform"],Rl=["d","fill","stroke","stroke-width","stroke-dasharray"];function Pl(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("GradientDefs"),r=Object(j["resolveComponent"])("ProsemirrorEditor"),i=Object(j["resolveDirective"])("contextmenu");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["editable-element-shape",{lock:e.elementInfo.lock}]),style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["withDirectives"])((Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"element-content",style:Object(j["normalizeStyle"])({opacity:e.elementInfo.opacity,filter:e.shadowStyle?"drop-shadow(".concat(e.shadowStyle,")"):"",transform:e.flipStyle,color:e.text.defaultColor,fontFamily:e.text.defaultFontName}),onMousedown:t[4]||(t[4]=function(t){return e.handleSelectElement(t)}),onTouchstart:t[5]||(t[5]=function(t){return e.handleSelectElement(t)}),onDblclick:t[6]||(t[6]=function(t){return e.editable=!0})},[(Object(j["openBlock"])(),Object(j["createElementBlock"])("svg",{overflow:"visible",width:e.elementInfo.width,height:e.elementInfo.height},[e.elementInfo.gradient?(Object(j["openBlock"])(),Object(j["createElementBlock"])("defs",Al,[Object(j["createVNode"])(a,{id:"editabel-gradient-".concat(e.elementInfo.id),type:e.elementInfo.gradient.type,color1:e.elementInfo.gradient.color[0],color2:e.elementInfo.gradient.color[1],rotate:e.elementInfo.gradient.rotate},null,8,["id","type","color1","color2","rotate"])])):Object(j["createCommentVNode"])("",!0),Object(j["createElementVNode"])("g",{transform:"scale(".concat(e.elementInfo.width/e.elementInfo.viewBox[0],", ").concat(e.elementInfo.height/e.elementInfo.viewBox[1],") translate(0,0) matrix(1,0,0,1,0,0)")},[Object(j["createElementVNode"])("path",{class:"shape-path","vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",d:e.elementInfo.path,fill:e.elementInfo.gradient?"url(#editabel-gradient-".concat(e.elementInfo.id,")"):e.elementInfo.fill,stroke:e.outlineColor,"stroke-width":e.outlineWidth,"stroke-dasharray":"dashed"===e.outlineStyle?"10 6":"0 0"},null,8,Rl)],8,Fl)],8,zl)),Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["shape-text",[e.text.align,{editable:e.editable||e.text.content}]])},[e.editable||e.text.content?(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:0,elementId:e.elementInfo.id,defaultColor:e.text.defaultColor,defaultFontName:e.text.defaultFontName,editable:!e.elementInfo.lock,autoFocus:!0,value:e.text.content,onUpdate:t[0]||(t[0]=function(t){return e.updateText(t)}),onBlur:t[1]||(t[1]=function(t){return e.checkEmptyText()}),onMousedown:t[2]||(t[2]=function(t){return e.handleSelectElement(t,!1)}),onTouchstart:t[3]||(t[3]=function(t){return e.handleSelectElement(t,!1)})},null,8,["elementId","defaultColor","defaultFontName","editable","value"])):Object(j["createCommentVNode"])("",!0)],2)],36)),[[i,e.contextmenus]])],4)],6)}var Hl=["id","gradientTransform"],ql=["stop-color"],Ul=["stop-color"],Wl=["id"],Gl=["stop-color"],Xl=["stop-color"];function Yl(e,t,n,o,c,l){return"linear"===e.type?(Object(j["openBlock"])(),Object(j["createElementBlock"])("linearGradient",{key:0,id:e.id,x1:"0%",y1:"0%",x2:"100%",y2:"0%",gradientTransform:"rotate(".concat(e.rotate,",0.5,0.5)")},[Object(j["createElementVNode"])("stop",{offset:"0%","stop-color":e.color1},null,8,ql),Object(j["createElementVNode"])("stop",{offset:"100%","stop-color":e.color2},null,8,Ul)],8,Hl)):(Object(j["openBlock"])(),Object(j["createElementBlock"])("radialGradient",{key:1,id:e.id},[Object(j["createElementVNode"])("stop",{offset:"0%","stop-color":e.color1},null,8,Gl),Object(j["createElementVNode"])("stop",{offset:"100%","stop-color":e.color2},null,8,Xl)],8,Wl))}var Zl=Object(j["defineComponent"])({name:"gradient-defs",props:{id:{type:String,required:!0},type:{type:String},color1:{type:String,required:!0},color2:{type:String,required:!0},rotate:{type:Number,default:0}}});const Jl=eo()(Zl,[["render",Yl]]);var Kl=Jl,Ql=Object(j["defineComponent"])({name:"editable-element-shape",components:{GradientDefs:Kl,ProsemirrorEditor:Tl},props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup:function(e){var t=ue(),n=ae(),o=Object(y["c"])(t),c=o.handleElementId,l=dt(),a=l.addHistorySnapshot,r=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.elementInfo.lock||(t.stopPropagation(),e.selectElement(t,e.elementInfo,n))},i=Object(j["computed"])((function(){return e.elementInfo.outline})),u=Uo(i),d=u.outlineWidth,s=u.outlineStyle,f=u.outlineColor,b=Object(j["computed"])((function(){return e.elementInfo.shadow})),m=_o(b),p=m.shadowStyle,v=Object(j["computed"])((function(){return e.elementInfo.flipH})),O=Object(j["computed"])((function(){return e.elementInfo.flipV})),h=Mo(v,O),g=h.flipStyle,x=Object(j["ref"])(!1);Object(j["watch"])(c,(function(){c.value!==e.elementInfo.id&&x.value&&(x.value=!1)}));var C=Object(j["computed"])((function(){var t={content:"",defaultFontName:"微软雅黑",defaultColor:"#000",align:"middle"};return e.elementInfo.text?e.elementInfo.text:t})),k=function(t){var o=Object(L["a"])(Object(L["a"])({},C.value),{},{content:t});n.updateElement({id:e.elementInfo.id,props:{text:o}}),a()},E=function(){if(e.elementInfo.text){var t=e.elementInfo.text.content.replaceAll(/<[^>]+>/g,"");t||(n.removeElementProps({id:e.elementInfo.id,propName:"text"}),a())}};return{shadowStyle:p,outlineWidth:d,outlineStyle:s,outlineColor:f,flipStyle:g,editable:x,text:C,handleSelectElement:r,updateText:k,checkEmptyText:E}}});n("afe9");const $l=eo()(Ql,[["render",Pl],["__scopeId","data-v-81338b12"]]);var ea=$l,ta=["width","height"],na=["d","stroke","stroke-width","stroke-dasharray","marker-start","marker-end"],oa=["d"];function ca(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("LinePointMarker"),r=Object(j["resolveDirective"])("contextmenu");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["editable-element-shape",{lock:e.elementInfo.lock}]),style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px"})},[Object(j["createElementVNode"])("div",{class:"element-content",style:Object(j["normalizeStyle"])({filter:e.shadowStyle?"drop-shadow(".concat(e.shadowStyle,")"):""}),onMousedown:t[0]||(t[0]=function(t){return e.handleSelectElement(t)}),onTouchstart:t[1]||(t[1]=function(t){return e.handleSelectElement(t)})},[(Object(j["openBlock"])(),Object(j["createElementBlock"])("svg",{overflow:"visible",width:e.svgWidth,height:e.svgHeight},[Object(j["createElementVNode"])("defs",null,[e.elementInfo.points[0]?(Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:0,id:e.elementInfo.id,position:"start",type:e.elementInfo.points[0],color:e.elementInfo.color,baseSize:e.elementInfo.width},null,8,["id","type","color","baseSize"])):Object(j["createCommentVNode"])("",!0),e.elementInfo.points[1]?(Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:1,id:e.elementInfo.id,position:"end",type:e.elementInfo.points[1],color:e.elementInfo.color,baseSize:e.elementInfo.width},null,8,["id","type","color","baseSize"])):Object(j["createCommentVNode"])("",!0)]),Object(j["createElementVNode"])("path",{class:"line-point",d:e.path,stroke:e.elementInfo.color,"stroke-width":e.elementInfo.width,"stroke-dasharray":e.lineDashArray,fill:"none","marker-start":e.elementInfo.points[0]?"url(#".concat(e.elementInfo.id,"-").concat(e.elementInfo.points[0],"-start)"):"","marker-end":e.elementInfo.points[1]?"url(#".concat(e.elementInfo.id,"-").concat(e.elementInfo.points[1],"-end)"):""},null,8,na),Object(j["withDirectives"])(Object(j["createElementVNode"])("path",{class:"line-path",d:e.path,stroke:"transparent","stroke-width":"20",fill:"none"},null,8,oa),[[r,e.contextmenus]])],8,ta))],36)],6)}var la=["id","markerWidth","markerHeight","refX","refY"],aa=["d","fill","transform"];function ra(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("marker",{id:"".concat(e.id,"-").concat(e.type,"-").concat(e.position),markerUnits:"userSpaceOnUse",orient:"auto",markerWidth:3*e.size,markerHeight:3*e.size,refX:1.5*e.size,refY:1.5*e.size},[Object(j["createElementVNode"])("path",{d:e.path,fill:e.color,transform:"scale(".concat(.3*e.size,", ").concat(.3*e.size,") rotate(").concat(e.rotate,", 5, 5)")},null,8,aa)],8,la)}var ia={dot:"m0 5a5 5 0 1 0 10 0a5 5 0 1 0 -10 0z",arrow:"M0,0 L10,5 0,10 Z"},ua={"arrow-start":180,"arrow-end":0},da=Object(j["defineComponent"])({name:"line-point-marker",props:{id:{type:String,required:!0},position:{type:String,required:!0},type:{type:String,required:!0},color:{type:String},baseSize:{type:Number,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){return ia[e.type]})),n=Object(j["computed"])((function(){return ua["".concat(e.type,"-").concat(e.position)]||0})),o=Object(j["computed"])((function(){return e.baseSize<2?2:e.baseSize}));return{path:t,rotate:n,size:o}}});const sa=eo()(da,[["render",ra]]);var fa=sa,ba=Object(j["defineComponent"])({name:"editable-element-shape",components:{LinePointMarker:fa},props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup:function(e){var t=function(t){e.elementInfo.lock||(t.stopPropagation(),e.selectElement(t,e.elementInfo))},n=Object(j["computed"])((function(){return e.elementInfo.shadow})),o=_o(n),c=o.shadowStyle,l=Object(j["computed"])((function(){var t=Math.abs(e.elementInfo.start[0]-e.elementInfo.end[0]);return t<24?24:t})),a=Object(j["computed"])((function(){var t=Math.abs(e.elementInfo.start[1]-e.elementInfo.end[1]);return t<24?24:t})),r=Object(j["computed"])((function(){return"dashed"===e.elementInfo.style?"10 6":"0 0"})),i=Object(j["computed"])((function(){return tt(e.elementInfo)}));return{handleSelectElement:t,shadowStyle:c,svgWidth:l,svgHeight:a,lineDashArray:r,path:i}}});n("1c30");const ma=eo()(ba,[["render",ca],["__scopeId","data-v-5f3b7dc5"]]);var pa=ma;function va(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("ElementOutline"),r=Object(j["resolveComponent"])("Chart"),i=Object(j["resolveDirective"])("contextmenu");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["editable-element-chart",{lock:e.elementInfo.lock}]),style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["withDirectives"])((Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"element-content",style:Object(j["normalizeStyle"])({backgroundColor:e.elementInfo.fill}),onMousedown:t[0]||(t[0]=function(t){return e.handleSelectElement(t)}),onTouchstart:t[1]||(t[1]=function(t){return e.handleSelectElement(t)}),onDblclick:t[2]||(t[2]=function(t){return e.openDataEditor()})},[Object(j["createVNode"])(a,{width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"]),Object(j["createVNode"])(r,{width:e.elementInfo.width,height:e.elementInfo.height,type:e.elementInfo.chartType,data:e.elementInfo.data,options:e.elementInfo.options,themeColor:e.elementInfo.themeColor,gridColor:e.elementInfo.gridColor,legends:e.elementInfo.data.legends,legend:e.elementInfo.legend||""},null,8,["width","height","type","data","options","themeColor","gridColor","legends","legend"])],36)),[[i,e.contextmenus]])],4)],6)}function Oa(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"chart",style:Object(j["normalizeStyle"])({flexDirection:"top"===e.legend?"column-reverse":"column"})},[Object(j["createElementVNode"])("div",{class:"chart-content",ref:"chartRef",style:Object(j["normalizeStyle"])({width:e.width+"px",height:e.chartHeight+"px",transform:"scale(".concat(1/e.slideScale,")")})},null,4),e.legend?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:0,class:"legends",style:Object(j["normalizeStyle"])({transform:"scale(".concat(1/e.slideScale,")")})},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.legends,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"legend",key:n,style:Object(j["normalizeStyle"])({color:e.gridColor})},[Object(j["createElementVNode"])("div",{class:"block",style:Object(j["normalizeStyle"])({backgroundColor:e.themeColors[n]})},null,4),Object(j["createTextVNode"])(" "+Object(j["toDisplayString"])(t),1)],4)})),128))],4)):Object(j["createCommentVNode"])("",!0)],4)}var ha=n("ba48"),ja=n.n(ha),ya=(n("aa97"),Object(j["defineComponent"])({name:"chart",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},type:{type:String,required:!0},data:{type:Object,required:!0},options:{type:Object},themeColor:{type:Array,required:!0},legends:{type:Array,required:!0},gridColor:{type:String},legend:{type:String}},setup:function(e){var t,n=Object(j["ref"])(),o=Object(j["inject"])(uo)||Object(j["ref"])(1),c=Object(j["computed"])((function(){return e.legend?e.height-20:e.height})),l=function(){var t=e.options||{},n=Object(L["a"])(Object(L["a"])({},t),{},{width:e.width*o.value,height:c.value*o.value}),l="pie"===e.type?Object(L["a"])(Object(L["a"])({},e.data),{},{series:e.data.series[0]}):e.data;return{data:l,options:n}},a=function(){if(n.value){var o=Object(ne["upperFirst"])(e.type),c=l(),a=c.data,r=c.options;t=new ja.a[o](n.value,a,r)}},r=function(){if(t){var e=l(),n=e.data,o=e.options;t.update(n,o)}else a()};Object(j["watch"])([function(){return e.width},function(){return e.height},function(){return e.data},function(){return e.options},o],r),Object(j["onMounted"])(a);var i=Object(j["computed"])((function(){var t=[];if(e.themeColor.length>=10)t=e.themeColor;else if(1===e.themeColor.length)t=te()(e.themeColor[0]).analogous(10).map((function(e){return e.toHexString()}));else{var n=e.themeColor.length,o=te()(e.themeColor[n-1]).analogous(11-n).map((function(e){return e.toHexString()}));t=[].concat(Object($["a"])(e.themeColor.slice(0,n-1)),Object($["a"])(o))}return t})),u=function(){if(n.value)for(var e=0;e<10;e++)n.value.style.setProperty("--theme-color-".concat(e+1),i.value[e])};Object(j["watch"])(i,u),Object(j["onMounted"])(u);var d=function(){n.value&&e.gridColor&&n.value.style.setProperty("--grid-color",e.gridColor)};return Object(j["watch"])((function(){return e.gridColor}),d),Object(j["onMounted"])(d),{chartHeight:c,themeColors:i,slideScale:o,chartRef:n}}}));n("97a7"),n("8749");const ga=eo()(ya,[["render",Oa],["__scopeId","data-v-79ce410e"]]);var xa=ga,Ca=Object(j["defineComponent"])({name:"editable-element-chart",components:{ElementOutline:_c,Chart:xa},props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup:function(e){var t=function(t){e.elementInfo.lock||(t.stopPropagation(),e.selectElement(t,e.elementInfo))},n=function(){Cl.emit(zc.OPEN_CHART_DATA_EDITOR)};return{handleSelectElement:t,openDataEditor:n}}});n("3e3f");const ka=eo()(Ca,[["render",va],["__scopeId","data-v-863d2c90"]]);var Ea=ka,wa={class:"element-content"};function Na(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("EditableTable"),r=Object(j["resolveDirective"])("contextmenu");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["editable-element-table",{lock:e.elementInfo.lock}]),ref:"elementRef",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["withDirectives"])((Object(j["openBlock"])(),Object(j["createElementBlock"])("div",wa,[Object(j["createVNode"])(a,{onMousedown:t[0]||(t[0]=Object(j["withModifiers"])((function(){}),["stop"])),data:e.elementInfo.data,width:e.elementInfo.width,colWidths:e.elementInfo.colWidths,outline:e.elementInfo.outline,theme:e.elementInfo.theme,editable:e.editable,onChange:t[1]||(t[1]=function(t){return e.updateTableCells(t)}),onChangeColWidths:t[2]||(t[2]=function(t){return e.updateColWidths(t)}),onChangeSelectedCells:t[3]||(t[3]=function(t){return e.updateSelectedCells(t)})},null,8,["data","width","colWidths","outline","theme","editable"]),!e.editable||e.elementInfo.lock?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:0,class:Object(j["normalizeClass"])(["table-mask",{lock:e.elementInfo.lock}]),onDblclick:t[4]||(t[4]=function(t){return e.startEdit()}),onMousedown:t[5]||(t[5]=function(t){return e.handleSelectElement(t)}),onTouchstart:t[6]||(t[6]=function(t){return e.handleSelectElement(t)})},[Object(j["createElementVNode"])("div",{class:"mask-tip",style:Object(j["normalizeStyle"])({transform:"scale(".concat(1/e.canvasScale,")")})},"双击编辑",4)],34)):Object(j["createCommentVNode"])("",!0)])),[[r,e.contextmenus]])],4)],6)}var Va={key:0,class:"handler"},Ia=["onMousedown"],Sa=["width"],Ba=["rowspan","colspan","data-cell-index","onMousedown","onMouseenter"],La=["innerHTML"];function Ta(e,t,n,o,c,l){var a,r,i,u,d,s=Object(j["resolveComponent"])("CustomTextarea"),f=Object(j["resolveDirective"])("contextmenu");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"editable-table",style:Object(j["normalizeStyle"])({width:e.totalWidth+"px"})},[e.editable?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Va,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.dragLinePosition,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"drag-line",key:n,style:Object(j["normalizeStyle"])({left:t+"px"}),onMousedown:function(t){return e.handleMousedownColHandler(t,n)}},null,44,Ia)})),128))])):Object(j["createCommentVNode"])("",!0),Object(j["createElementVNode"])("table",{class:Object(j["normalizeClass"])({theme:e.theme,"row-header":null===(a=e.theme)||void 0===a?void 0:a.rowHeader,"row-footer":null===(r=e.theme)||void 0===r?void 0:r.rowFooter,"col-header":null===(i=e.theme)||void 0===i?void 0:i.colHeader,"col-footer":null===(u=e.theme)||void 0===u?void 0:u.colFooter}),style:Object(j["normalizeStyle"])("--themeColor: ".concat(null===(d=e.theme)||void 0===d?void 0:d.color,"; --subThemeColor1: ").concat(e.subThemeColor[0],"; --subThemeColor2: ").concat(e.subThemeColor[1]))},[Object(j["createElementVNode"])("colgroup",null,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.colSizeList,(function(e,t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("col",{span:"1",key:t,width:e},null,8,Sa)})),128))]),Object(j["createElementVNode"])("tbody",null,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.tableCells,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("tr",{key:n},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(t,(function(t,o){return Object(j["withDirectives"])((Object(j["openBlock"])(),Object(j["createElementBlock"])("td",{class:Object(j["normalizeClass"])(["cell",{selected:e.selectedCells.includes("".concat(n,"_").concat(o))&&e.selectedCells.length>1,active:e.activedCell==="".concat(n,"_").concat(o)}]),style:Object(j["normalizeStyle"])(Object(L["a"])({borderStyle:e.outline.style,borderColor:e.outline.color,borderWidth:e.outline.width+"px"},e.getTextStyle(t.style))),key:t.id,rowspan:t.rowspan,colspan:t.colspan,"data-cell-index":"".concat(n,"_").concat(o),onMousedown:function(t){return e.handleCellMousedown(t,n,o)},onMouseenter:function(t){return e.handleCellMouseenter(n,o)}},[e.activedCell==="".concat(n,"_").concat(o)?(Object(j["openBlock"])(),Object(j["createBlock"])(s,{key:0,class:Object(j["normalizeClass"])(["cell-text",{active:e.activedCell==="".concat(n,"_").concat(o)}]),value:t.text,onUpdateValue:function(t){return e.handleInput(t,n,o)},onInsertExcelData:function(t){return e.insertExcelData(t,n,o)}},null,8,["class","value","onUpdateValue","onInsertExcelData"])):(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:1,class:"cell-text",innerHTML:e.formatText(t.text)},null,8,La))],46,Ba)),[[j["vShow"],!e.hideCells.includes("".concat(n,"_").concat(o))],[f,function(t){return e.contextmenus(t)}]])})),128))])})),128))])],6)],4)}var _a=function(e){if(!e)return{};var t=e.bold,n=e.em,o=e.underline,c=e.strikethrough,l=e.color,a=e.backcolor,r=e.fontsize,i=e.fontname,u=e.align,d="".concat(o?"underline":""," ").concat(c?"line-through":"");return" "===d&&(d="none"),{fontWeight:t?"bold":"normal",fontStyle:n?"italic":"normal",textDecoration:d,color:l||"#000",backgroundColor:a||"",fontSize:r||"14px",fontFamily:i||"微软雅黑",textAlign:u||"left"}},Ma=function(e){return e.replace(/\n/g,"</br>").replace(/ /g,"&nbsp;")},Da=function(e){var t=Object(j["computed"])((function(){for(var t=[],n=0;n<e.value.length;n++)for(var o=e.value[n],c=0;c<o.length;c++){var l=o[c];if(l.colspan>1||l.rowspan>1)for(var a=n;a<n+l.rowspan;a++)for(var r=a===n?c+1:c;r<c+l.colspan;r++)t.push("".concat(a,"_").concat(r))}return t}));return{hideCells:t}},za=function(e){var t=Object(j["ref"])(["",""]);return Object(j["watch"])((function(){return e.value}),(function(){e.value&&(t.value=et(e.value.color))}),{immediate:!0}),{subThemeColor:t}},Aa=["innerHTML"];function Fa(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"custom-textarea",ref:"textareaRef",onFocus:t[0]||(t[0]=function(){return e.handleFocus&&e.handleFocus.apply(e,arguments)}),onBlur:t[1]||(t[1]=function(){return e.handleBlur&&e.handleBlur.apply(e,arguments)}),onInput:t[2]||(t[2]=function(t){return e.handleInput()}),innerHTML:e.text},null,40,Aa)}var Ra=Object(j["defineComponent"])({name:"custom-textarea",emits:["updateValue","insertExcelData"],props:{value:{type:String,default:""},contenteditable:{type:[Boolean,String],default:!1}},setup:function(e,t){var n=t.emit,o=Object(j["ref"])(),c=Object(j["ref"])(""),l=Object(j["ref"])(!1);Object(j["watch"])((function(){return e.value}),(function(){l.value||(c.value=e.value,o.value&&(o.value.innerHTML=e.value))}),{immediate:!0});var a=function(){if(o.value){var e=o.value.innerHTML;n("updateValue",e)}},r=function(){l.value=!0,o.value&&(o.value.onpaste=function(e){if(e.preventDefault(),e.clipboardData){var t=e.clipboardData.items[0];t&&"string"===t.kind&&"text/plain"===t.type&&t.getAsString((function(e){var t=Ge(e);if("object"!==Object(nt["a"])(t)){var c=Xe(e);if(c)return n("insertExcelData",c),void(o.value&&(o.value.innerHTML=c[0][0]));n("updateValue",e),document.execCommand("insertText",!1,e)}}))}})},i=function(){l.value=!1,o.value&&(o.value.onpaste=null)};return Object(j["onUnmounted"])((function(){o.value&&(o.value.onpaste=null)})),{textareaRef:o,handleFocus:r,handleInput:a,handleBlur:i,text:c}}});n("0dc7");const Pa=eo()(Ra,[["render",Fa],["__scopeId","data-v-00107680"]]);var Ha=Pa,qa=Object(j["defineComponent"])({name:"editable-table",emits:["change","changeColWidths","changeSelectedCells"],components:{CustomTextarea:Ha},props:{data:{type:Array,required:!0},width:{type:Number,required:!0},colWidths:{type:Array,required:!0},outline:{type:Object,required:!0},theme:{type:Object},editable:{type:Boolean,default:!0}},setup:function(e,t){var n=t.emit,o=Object(y["c"])(ue()),c=o.canvasScale,l=Object(j["ref"])(!1),a=Object(j["ref"])([]),r=Object(j["ref"])([]),i=Object(j["computed"])({get:function(){return e.data},set:function(e){n("change",e)}}),u=Object(j["computed"])((function(){return e.theme})),d=za(u),s=d.subThemeColor,f=Object(j["ref"])([]),b=Object(j["computed"])((function(){return f.value.reduce((function(e,t){return e+t}))}));Object(j["watch"])([function(){return e.colWidths},function(){return e.width}],(function(){f.value=e.colWidths.map((function(t){return t*e.width}))}),{immediate:!0});var m=function(){a.value=[],r.value=[]};Object(j["watch"])((function(){return e.editable}),(function(){e.editable||m()}));var p=Object(j["computed"])((function(){for(var e=[],t=1;t<f.value.length+1;t++){var n=f.value.slice(0,t).reduce((function(e,t){return e+t}));e.push(n)}return e})),v=Object(j["computed"])((function(){return e.data})),O=Da(v),h=O.hideCells,g=Object(j["computed"])((function(){if(!a.value.length)return[];var e=Object(ve["a"])(a.value,2),t=e[0],n=e[1];if(!r.value.length)return["".concat(t,"_").concat(n)];var o=Object(ve["a"])(r.value,2),c=o[0],l=o[1];if(t===c&&n===l)return["".concat(t,"_").concat(n)];for(var u=[],d=Math.min(t,c),s=Math.min(n,l),f=Math.max(t,c),b=Math.max(n,l),m=0;m<i.value.length;m++)for(var p=i.value[m],v=0;v<p.length;v++)m>=d&&m<=f&&v>=s&&v<=b&&u.push("".concat(m,"_").concat(v));return u}));Object(j["watch"])(g,(function(e,t){Object(ne["isEqual"])(e,t)||n("changeSelectedCells",g.value)}));var x=Object(j["computed"])((function(){return g.value.length>1?null:g.value[0]})),k=Object(j["computed"])((function(){if(!a.value.length)return null;var e=Object(ve["a"])(a.value,2),t=e[0],n=e[1];if(!r.value.length)return{row:[t,t],col:[n,n]};var o=Object(ve["a"])(r.value,2),c=o[0],l=o[1];if(t===c&&n===l)return{row:[t,t],col:[n,n]};var i=Math.min(t,c),u=Math.min(n,l),d=Math.max(t,c),s=Math.max(n,l);return{row:[i,d],col:[u,s]}})),E=function(){return l.value=!1},w=function(e,t,n){0===e.button&&(r.value=[],l.value=!0,a.value=[t,n])},N=function(e,t){l.value&&(r.value=[e,t])};Object(j["onMounted"])((function(){document.addEventListener("mouseup",E)})),Object(j["onUnmounted"])((function(){document.removeEventListener("mouseup",E)}));var V=function(e,t){return h.value.includes("".concat(e,"_").concat(t))},S=function(e){var t=i.value.length-1;a.value=[0,e],r.value=[t,e]},B=function(e){var t=i.value[e].length-1;a.value=[e,0],r.value=[e,t]},T=function(){var e=i.value.length-1,t=i.value[e].length-1;a.value=[0,0],r.value=[e,t]},_=function(e){for(var t=JSON.parse(JSON.stringify(i.value)),n=i.value[e],o=[],c=0;c<n.length;c++)V(e,c)&&o.push(c);for(var l=0,a=o;l<a.length;l++)for(var r=a[l],u=e;u>=0;u--)if(!V(u,r)){t[u][r].rowspan=t[u][r].rowspan-1;break}t.splice(e,1),i.value=t},M=function(e){for(var t=JSON.parse(JSON.stringify(i.value)),o=[],c=0;c<i.value.length;c++)V(c,e)&&o.push(c);for(var l=0,a=o;l<a.length;l++)for(var r=a[l],u=e;u>=0;u--)if(!V(r,u)){t[r][u].colspan=t[r][u].colspan-1;break}i.value=t.map((function(t){return t.splice(e,1),t})),f.value.splice(e,1),n("changeColWidths",f.value)},D=function(e){for(var t=JSON.parse(JSON.stringify(i.value)),n=[],o=0;o<t[0].length;o++)n.push({colspan:1,rowspan:1,text:"",id:Object(C["b"])(10)});t.splice(e,0,n),i.value=t},z=function(e){i.value=i.value.map((function(t){var n={colspan:1,rowspan:1,text:"",id:Object(C["b"])(10)};return t.splice(e,0,n),t})),f.value.splice(e,0,100),n("changeColWidths",f.value)},A=function(e,t){var o=JSON.parse(JSON.stringify(i.value)),c={colspan:1,rowspan:1,text:""};if(e){for(var l=[],a=0;a<e;a++){for(var r=[],u=0;u<o[0].length;u++)r.push(Object(L["a"])(Object(L["a"])({},c),{},{id:Object(C["b"])(10)}));l.push(r)}o=[].concat(Object($["a"])(o),l)}t&&(o=o.map((function(e){for(var n=[],o=0;o<t;o++){var l=Object(L["a"])(Object(L["a"])({},c),{},{id:Object(C["b"])(10)});n.push(l)}return[].concat(Object($["a"])(e),n)})),f.value=[].concat(Object($["a"])(f.value),Object($["a"])(new Array(t).fill(100))),n("changeColWidths",f.value)),i.value=o},F=function(){var e=Object(ve["a"])(a.value,2),t=e[0],n=e[1],o=Object(ve["a"])(r.value,2),c=o[0],l=o[1],u=Math.min(t,c),d=Math.min(n,l),s=Math.max(t,c),f=Math.max(n,l),b=JSON.parse(JSON.stringify(i.value));b[u][d].rowspan=s-u+1,b[u][d].colspan=f-d+1,i.value=b,m()},R=function(e,t){var n=JSON.parse(JSON.stringify(i.value));n[e][t].rowspan=1,n[e][t].colspan=1,i.value=n,m()},P=function(e,t){m();var o=!0,l=f.value[t],a=e.pageX,r=50;document.onmousemove=function(e){if(o){var n=(e.pageX-a)/c.value,i=l+n<r?r:Math.round(l+n);f.value[t]=i}},document.onmouseup=function(){o=!1,document.onmousemove=null,document.onmouseup=null,n("changeColWidths",f.value)}},H=function(){for(var e=JSON.parse(JSON.stringify(i.value)),t=0;t<e.length;t++)for(var n=0;n<e[t].length;n++)g.value.includes("".concat(t,"_").concat(n))&&(e[t][n].text="");i.value=e},q=function(){var e=function e(t,n){return i.value[t]?i.value[t][n]?V(t,n)?e(t,n+1):[t,n]:e(t+1,0):null};r.value=[];var t=a.value[0],n=a.value[1]+1,o=e(t,n);o?a.value=o:(D(t+1),a.value=[t+1,0]),Object(j["nextTick"])((function(){var e=document.querySelector(".cell-text.active");e&&e.focus()}))},U=function(t){if(e.editable&&g.value.length){var n=t.key.toUpperCase();if(g.value.length<2){if(n===I.TAB&&(t.preventDefault(),q()),t.ctrlKey&&n===I.UP){t.preventDefault();var o=+g.value[0].split("_")[0];D(o)}if(t.ctrlKey&&n===I.DOWN){t.preventDefault();var c=+g.value[0].split("_")[0];D(c+1)}if(t.ctrlKey&&n===I.LEFT){t.preventDefault();var l=+g.value[0].split("_")[1];z(l)}if(t.ctrlKey&&n===I.RIGHT){t.preventDefault();var a=+g.value[0].split("_")[1];z(a+1)}}else n===I.DELETE&&H()}};Object(j["onMounted"])((function(){document.addEventListener("keydown",U)})),Object(j["onUnmounted"])((function(){document.removeEventListener("keydown",U)}));var W=Object(ne["debounce"])((function(e,t,o){i.value[t][o].text=e,n("change",i.value)}),300,{trailing:!0}),G=function(e,t,o){var c=e.length,l=e[0].length,a=0,r=0;t+c>i.value.length&&(a=t+c-i.value.length),o+l>i.value[0].length&&(r=o+l-i.value[0].length),(a||r)&&A(a,r),Object(j["nextTick"])((function(){for(var a=0;a<c;a++)for(var r=0;r<l;r++)i.value[t+a][o+r]&&(i.value[t+a][o+r].text=e[a][r]);n("change",i.value)}))},X=function(){for(var e=[],t=0;t<i.value.length;t++){for(var n=i.value[t],o=[],c=0;c<n.length;c++)V(t,c)||o.push(n[c]);o.length&&e.push(o)}return e},Y=function(){var e=X(),t=e.length>1,n=e[0].length>1;return{canDeleteRow:t,canDeleteCol:n}},Z=function(e,t){var n=g.value.length>1,o=i.value[e][t],c=n,l=!n&&(o.rowspan>1||o.colspan>1);return{canMerge:c,canSplit:l}},J=function(e){var t=e.dataset.cellIndex,n=+t.split("_")[0],o=+t.split("_")[1];g.value.includes("".concat(n,"_").concat(o))||(a.value=[n,o],r.value=[]);var c=Z(n,o),l=c.canMerge,i=c.canSplit,u=Y(),d=u.canDeleteRow,s=u.canDeleteCol;return[{text:"插入列",children:[{text:"到左侧",handler:function(){return z(o)}},{text:"到右侧",handler:function(){return z(o+1)}}]},{text:"插入行",children:[{text:"到上方",handler:function(){return D(n)}},{text:"到下方",handler:function(){return D(n+1)}}]},{text:"删除列",disable:!s,handler:function(){return M(o)}},{text:"删除行",disable:!d,handler:function(){return _(n)}},{divider:!0},{text:"合并单元格",disable:!l,handler:F},{text:"取消合并单元格",disable:!i,handler:function(){return R(n,o)}},{divider:!0},{text:"选中当前列",handler:function(){return S(o)}},{text:"选中当前行",handler:function(){return B(n)}},{text:"选中全部单元格",handler:T}]};return{getTextStyle:_a,dragLinePosition:p,tableCells:i,colSizeList:f,totalWidth:b,hideCells:h,selectedCells:g,activedCell:x,selectedRange:k,handleCellMousedown:w,handleCellMouseenter:N,selectCol:S,selectRow:B,handleMousedownColHandler:P,contextmenus:J,handleInput:W,insertExcelData:G,subThemeColor:s,formatText:Ma}}});n("94f86");const Ua=eo()(qa,[["render",Ta],["__scopeId","data-v-12f568a6"]]);var Wa=Ua,Ga=Object(j["defineComponent"])({name:"editable-element-table",components:{EditableTable:Wa},props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup:function(e){var t=ue(),n=ae(),o=Object(y["c"])(t),c=o.canvasScale,l=o.handleElementId,a=o.isScaling,r=Object(j["ref"])(),i=dt(),u=i.addHistorySnapshot,d=function(t){e.elementInfo.lock||(t.stopPropagation(),e.selectElement(t,e.elementInfo))},s=Object(j["ref"])(!1);Object(j["watch"])(l,(function(){l.value!==e.elementInfo.id&&(s.value=!1)})),Object(j["watch"])(s,(function(){t.setDisableHotkeysState(s.value)}));var f=function(){e.elementInfo.lock||(s.value=!0)},b=Object(j["ref"])(-1);Object(j["watch"])(a,(function(){l.value===e.elementInfo.id&&(a.value&&(s.value=!1),a.value||-1===b.value||(n.updateElement({id:e.elementInfo.id,props:{height:b.value}}),b.value=-1))}));var m=function(t){var o=t[0].contentRect;if(r.value){var c=o.height;e.elementInfo.height!==c&&(a.value?b.value=c:n.updateElement({id:e.elementInfo.id,props:{height:c}}))}},p=new ResizeObserver(m);Object(j["onMounted"])((function(){r.value&&p.observe(r.value)})),Object(j["onUnmounted"])((function(){r.value&&p.unobserve(r.value)}));var v=function(t){n.updateElement({id:e.elementInfo.id,props:{data:t}}),u()},O=function(t){var o=t.reduce((function(e,t){return e+t})),c=t.map((function(e){return e/o}));n.updateElement({id:e.elementInfo.id,props:{width:o,colWidths:c}}),u()},h=function(e){Object(j["nextTick"])((function(){return t.setSelectedTableCells(e)}))};return{elementRef:r,canvasScale:c,handleSelectElement:d,updateTableCells:v,updateColWidths:O,editable:s,startEdit:f,updateSelectedCells:h}}});n("9e6c");const Xa=eo()(Ga,[["render",Na],["__scopeId","data-v-1c016f8e"]]);var Ya=Xa,Za=["width","height","stroke","stroke-width"],Ja=["transform"],Ka=["d"];function Qa(e,t,n,o,c,l){var a=Object(j["resolveDirective"])("contextmenu");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["editable-element-latex",{lock:e.elementInfo.lock}]),style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["withDirectives"])((Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"element-content",onMousedown:t[0]||(t[0]=function(t){return e.handleSelectElement(t)}),onTouchstart:t[1]||(t[1]=function(t){return e.handleSelectElement(t)}),onDblclick:t[2]||(t[2]=function(t){return e.openLatexEditor()})},[(Object(j["openBlock"])(),Object(j["createElementBlock"])("svg",{overflow:"visible",width:e.elementInfo.width,height:e.elementInfo.height,stroke:e.elementInfo.color,"stroke-width":e.elementInfo.strokeWidth,fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[Object(j["createElementVNode"])("g",{transform:"scale(".concat(e.elementInfo.width/e.elementInfo.viewBox[0],", ").concat(e.elementInfo.height/e.elementInfo.viewBox[1],") translate(0,0) matrix(1,0,0,1,0,0)")},[Object(j["createElementVNode"])("path",{d:e.elementInfo.path},null,8,Ka)],8,Ja)],8,Za))],32)),[[a,e.contextmenus]])],4)],6)}var $a=Object(j["defineComponent"])({name:"editable-element-latex",props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup:function(e){var t=function(t){e.elementInfo.lock||(t.stopPropagation(),e.selectElement(t,e.elementInfo))},n=function(){Cl.emit(zc.OPEN_LATEX_EDITOR)};return{handleSelectElement:t,openLatexEditor:n}}});n("bfa0");const er=eo()($a,[["render",Qa],["__scopeId","data-v-50e5c825"]]);var tr=er;function nr(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("VideoPlayer"),r=Object(j["resolveDirective"])("contextmenu");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["editable-element-video",{lock:e.elementInfo.lock}]),style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["withDirectives"])((Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"element-content",onMousedown:t[2]||(t[2]=function(t){return e.handleSelectElement(t,!1)}),onTouchstart:t[3]||(t[3]=function(t){return e.handleSelectElement(t,!1)})},[Object(j["createVNode"])(a,{width:e.elementInfo.width,height:e.elementInfo.height,src:e.elementInfo.src,poster:e.elementInfo.poster,scale:e.canvasScale},null,8,["width","height","src","poster","scale"]),(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(["t","b","l","r"],(function(n){return Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["handler-border",n]),key:n,onMousedown:t[0]||(t[0]=function(t){return e.handleSelectElement(t)}),onTouchstart:t[1]||(t[1]=function(t){return e.handleSelectElement(t)})},null,34)})),64))],32)),[[r,e.contextmenus]])],4)],6)}var or=function(e){return Object(j["pushScopeId"])("data-v-fcb929f4"),e=e(),Object(j["popScopeId"])(),e},cr=["src","poster"],lr={class:"bezel"},ar=or((function(){return Object(j["createElementVNode"])("div",{class:"controller-mask"},null,-1)})),rr={class:"controller"},ir={class:"icons icons-left"},ur={class:"icon-content"},dr={class:"volume"},sr={class:"icon-content"},fr={class:"volume-bar",ref:"volumeBarRef"},br=or((function(){return Object(j["createElementVNode"])("span",{class:"thumb"},null,-1)})),mr=[br],pr={class:"time"},vr={class:"ptime"},Or=Object(j["createTextVNode"])(" / "),hr={class:"dtime"},jr={class:"icons icons-right"},yr={class:"speed"},gr={class:"icon speed-icon"},xr=["onClick"],Cr=or((function(){return Object(j["createElementVNode"])("span",{class:"icon-content"},"循环",-1)})),kr=[Cr],Er={class:"bar"},wr=or((function(){return Object(j["createElementVNode"])("span",{class:"thumb"},null,-1)})),Nr=[wr];function Vr(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconPause"),r=Object(j["resolveComponent"])("IconPlayOne"),i=Object(j["resolveComponent"])("IconVolumeMute"),u=Object(j["resolveComponent"])("IconVolumeNotice"),d=Object(j["resolveComponent"])("IconVolumeSmall");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["video-player",{"hide-controller":e.hideController}]),style:Object(j["normalizeStyle"])({width:e.width*e.scale+"px",height:e.height*e.scale+"px",transform:"scale(".concat(1/e.scale,")")}),onMousemove:t[22]||(t[22]=function(t){return e.autoHideController()}),onClick:t[23]||(t[23]=function(t){return e.autoHideController()})},[Object(j["createElementVNode"])("div",{class:"video-wrap",onClick:t[8]||(t[8]=function(t){return e.toggle()})},[Object(j["createElementVNode"])("video",{class:"video",ref:"videoRef",src:e.src,poster:e.poster,"webkit-playsinline":"",playsinline:"",onDurationchange:t[0]||(t[0]=function(t){return e.handleDurationchange()}),onTimeupdate:t[1]||(t[1]=function(t){return e.handleTimeupdate()}),onEnded:t[2]||(t[2]=function(t){return e.handleEnded()}),onProgress:t[3]||(t[3]=function(t){return e.handleProgress()}),onPlay:t[4]||(t[4]=function(t){return e.autoHideController()}),onPause:t[5]||(t[5]=function(t){return e.autoHideController()}),onError:t[6]||(t[6]=function(t){return e.handleError()})},null,40,cr),Object(j["createElementVNode"])("div",lr,[Object(j["createElementVNode"])("span",{class:Object(j["normalizeClass"])(["bezel-icon",{"bezel-transition":e.bezelTransition}]),onAnimationend:t[7]||(t[7]=function(t){return e.bezelTransition=!1})},[e.paused?(Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:0})):(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:1}))],34)])]),ar,Object(j["createElementVNode"])("div",rr,[Object(j["createElementVNode"])("div",ir,[Object(j["createElementVNode"])("div",{class:"icon play-icon",onClick:t[9]||(t[9]=function(t){return e.toggle()})},[Object(j["createElementVNode"])("span",ur,[e.paused?(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:0})):(Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:1}))])]),Object(j["createElementVNode"])("div",dr,[Object(j["createElementVNode"])("div",{class:"icon volume-icon",onClick:t[10]||(t[10]=function(t){return e.toggleVolume()})},[Object(j["createElementVNode"])("span",sr,[0===e.volume?(Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:0})):1===e.volume?(Object(j["openBlock"])(),Object(j["createBlock"])(u,{key:1})):(Object(j["openBlock"])(),Object(j["createBlock"])(d,{key:2}))])]),Object(j["createElementVNode"])("div",{class:"volume-bar-wrap",onMousedown:t[11]||(t[11]=function(t){return e.handleMousedownVolumeBar()}),onTouchstart:t[12]||(t[12]=function(t){return e.handleMousedownVolumeBar()}),onClick:t[13]||(t[13]=function(t){return e.handleClickVolumeBar(t)})},[Object(j["createElementVNode"])("div",fr,[Object(j["createElementVNode"])("div",{class:"volume-bar-inner",style:Object(j["normalizeStyle"])({width:e.volumeBarWidth})},mr,4)],512)],32)]),Object(j["createElementVNode"])("span",pr,[Object(j["createElementVNode"])("span",vr,Object(j["toDisplayString"])(e.ptime),1),Or,Object(j["createElementVNode"])("span",hr,Object(j["toDisplayString"])(e.dtime),1)])]),Object(j["createElementVNode"])("div",jr,[Object(j["createElementVNode"])("div",yr,[Object(j["createElementVNode"])("div",gr,[Object(j["createElementVNode"])("span",{class:"icon-content",onClick:t[14]||(t[14]=function(t){return e.speedMenuVisible=!e.speedMenuVisible})},"倍速"),e.speedMenuVisible?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:0,class:"speed-menu",onMouseleave:t[15]||(t[15]=function(t){return e.speedMenuVisible=!1})},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.speedOptions,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["speed-menu-item",{active:t.value===e.playbackRate}]),key:t.label,onClick:function(n){return e.speed(t.value)}},Object(j["toDisplayString"])(t.label),11,xr)})),128))],32)):Object(j["createCommentVNode"])("",!0)])]),Object(j["createElementVNode"])("div",{class:"loop",onClick:t[16]||(t[16]=function(t){return e.toggleLoop()})},[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["icon loop-icon",{active:e.loop}])},kr,2)])]),Object(j["createElementVNode"])("div",{class:"bar-wrap",ref:"playBarWrap",onMousedown:t[17]||(t[17]=function(t){return e.handleMousedownPlayBar()}),onTouchstart:t[18]||(t[18]=function(t){return e.handleMousedownPlayBar()}),onMousemove:t[19]||(t[19]=function(t){return e.handleMousemovePlayBar(t)}),onMouseenter:t[20]||(t[20]=function(t){return e.playBarTimeVisible=!0}),onMouseleave:t[21]||(t[21]=function(t){return e.playBarTimeVisible=!1})},[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["bar-time",{hidden:!e.playBarTimeVisible}]),style:Object(j["normalizeStyle"])({left:e.playBarTimeLeft})},Object(j["toDisplayString"])(e.playBarTime),7),Object(j["createElementVNode"])("div",Er,[Object(j["createElementVNode"])("div",{class:"loaded",style:Object(j["normalizeStyle"])({width:e.loadedBarWidth})},null,4),Object(j["createElementVNode"])("div",{class:"played",style:Object(j["normalizeStyle"])({width:e.playedBarWidth})},Nr,4)])],544)])],38)}var Ir=function(e,t){Object(j["onMounted"])((function(){if(t.value){var n="normal";if(/m3u8(#|\?|$)/i.exec(e)?n="hls":/.flv(#|\?|$)/i.exec(e)&&(n="flv"),t.value&&"hls"===n&&(t.value.canPlayType("application/x-mpegURL")||t.value.canPlayType("application/vnd.apple.mpegURL"))&&(n="normal"),"hls"===n){var o=window.Hls;if(o&&o.isSupported()){var c=new o;c.loadSource(e),c.attachMedia(t.value)}}else if("flv"===n){var l=window.flvjs;if(l&&l.isSupported()){var a=l.createPlayer({type:"flv",url:e});a.attachMediaElement(t.value),a.load()}}}}))},Sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(0===e||isNaN(e))return"00:00";var t=function(e){return e<10?"0"+e:""+e},n=Math.floor(e/3600),o=Math.floor((e-3600*n)/60),c=Math.floor(e-3600*n-60*o);return(n>0?[n,o,c]:[o,c]).map(t).join(":")},Br=function(e){return e.getBoundingClientRect().left},Lr=Object(j["defineComponent"])({name:"video-player",props:{width:{type:Number,required:!0},height:{type:Number,required:!0},src:{type:String,required:!0},poster:{type:String,default:""},scale:{type:Number,default:1}},setup:function(e){var t=Object(j["ref"])(),n=Object(j["ref"])(),o=Object(j["ref"])(),c=Object(j["ref"])(.5),l=Object(j["ref"])(!0),a=Object(j["ref"])(0),r=Object(j["ref"])(0),i=Object(j["ref"])(0),u=Object(j["ref"])(!1),d=Object(j["ref"])(!1),s=Object(j["ref"])(1),f=Object(j["ref"])(!1),b=Object(j["ref"])("00:00"),m=Object(j["ref"])("0"),p=Object(j["computed"])((function(){return Sr(a.value)})),v=Object(j["computed"])((function(){return Sr(r.value)})),O=Object(j["computed"])((function(){return a.value/r.value*100+"%"})),h=Object(j["computed"])((function(){return i.value/r.value*100+"%"})),y=Object(j["computed"])((function(){return 100*c.value+"%"})),g=Object(j["ref"])(!1),x=[{label:"2x",value:2},{label:"1.5x",value:1.5},{label:"1.25x",value:1.25},{label:"1x",value:1},{label:"0.75x",value:.75},{label:"0.5x",value:.5}],C=function(e){t.value&&(e=Math.max(e,0),e=Math.min(e,r.value),t.value.currentTime=e,a.value=e)},k=function(){t.value&&(l.value=!1,t.value.play(),d.value=!0)},E=function(){t.value&&(l.value=!0,t.value.pause(),d.value=!0)},w=function(){l.value?k():E()},N=function(e){t.value&&(e=Math.max(e,0),e=Math.min(e,1),t.value.volume=e,c.value=e,t.value.muted&&0!==e&&(t.value.muted=!1))},V=function(e){t.value&&(t.value.playbackRate=e),s.value=e},I=function(){var e;r.value=(null===(e=t.value)||void 0===e?void 0:e.duration)||0},S=function(){var e;a.value=(null===(e=t.value)||void 0===e?void 0:e.currentTime)||0},B=function(){u.value?(C(0),k()):E()},L=function(){var e;i.value=null!==(e=t.value)&&void 0!==e&&e.buffered.length?t.value.buffered.end(t.value.buffered.length-1):0},T=function(){return De["a"].error("视频加载失败")},_=function(e){if(t.value&&n.value){var o="clientX"in e?e.clientX:e.changedTouches[0].clientX,c=(o-Br(n.value))/n.value.clientWidth;c=Math.max(c,0),c=Math.min(c,1);var l=c*r.value;t.value.currentTime=l,a.value=l}},M=function e(o){if(t.value&&n.value){var c="clientX"in o?o.clientX:o.changedTouches[0].clientX,l=(c-Br(n.value))/n.value.clientWidth;l=Math.max(l,0),l=Math.min(l,1);var i=l*r.value;t.value.currentTime=i,a.value=i,document.removeEventListener("mousemove",_),document.removeEventListener("touchmove",_),document.removeEventListener("mouseup",e),document.removeEventListener("touchend",e)}},D=function(){document.addEventListener("mousemove",_),document.addEventListener("touchmove",_),document.addEventListener("mouseup",M),document.addEventListener("touchend",M)},z=function(e){if(o.value){var t="clientX"in e?e.clientX:e.changedTouches[0].clientX,n=(t-Br(o.value)-5.5)/35;N(n)}},A=function e(){document.removeEventListener("mousemove",z),document.removeEventListener("touchmove",z),document.removeEventListener("mouseup",e),document.removeEventListener("touchend",e)},F=function(){document.addEventListener("mousemove",z),document.addEventListener("touchmove",z),document.addEventListener("mouseup",A),document.addEventListener("touchend",A)},R=function(e){if(o.value){var t=(e.clientX-Br(o.value)-5.5)/35;N(t)}},P=function(e){if(r.value&&n.value){var t=n.value.getBoundingClientRect().left,o=e.clientX-t;if(o<0||o>n.value.offsetWidth)return;var c=r.value*(o/n.value.offsetWidth);m.value="".concat(o-(c>=3600?25:20),"px"),b.value=Sr(c),f.value=!0}},H=function(){t.value&&(t.value.muted?(t.value.muted=!1,N(.5)):(t.value.muted=!0,N(0)))},q=function(){u.value=!u.value},U=Object(j["ref"])(-1),W=Object(j["ref"])(!1),G=function(){W.value=!1,clearTimeout(U.value),U.value=setTimeout((function(){var e;null!==(e=t.value)&&void 0!==e&&e.played.length&&(W.value=!0)}),3e3)};return Ir(e.src,t),{videoRef:t,playBarWrap:n,volumeBarRef:o,volume:c,loop:u,paused:l,ptime:p,dtime:v,playBarTime:b,playBarTimeVisible:f,playBarTimeLeft:m,playedBarWidth:O,loadedBarWidth:h,volumeBarWidth:y,hideController:W,bezelTransition:d,playbackRate:s,speedMenuVisible:g,speedOptions:x,seek:C,play:k,pause:E,toggle:w,setVolume:N,speed:V,handleDurationchange:I,handleTimeupdate:S,handleEnded:B,handleProgress:L,handleMousedownPlayBar:D,handleMousedownVolumeBar:F,handleClickVolumeBar:R,handleMousemovePlayBar:P,toggleVolume:H,toggleLoop:q,autoHideController:G,handleError:T}}});n("1d8f");const Tr=eo()(Lr,[["render",Vr],["__scopeId","data-v-fcb929f4"]]);var _r=Tr,Mr=Object(j["defineComponent"])({name:"editable-element-video",components:{VideoPlayer:_r},props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup:function(e){var t=Object(y["c"])(ue()),n=t.canvasScale,o=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.elementInfo.lock||(t.stopPropagation(),e.selectElement(t,e.elementInfo,n))};return{canvasScale:n,handleSelectElement:o}}});n("aa3e");const Dr=eo()(Mr,[["render",nr],["__scopeId","data-v-454973e4"]]);var zr=Dr;function Ar(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconVolumeNotice"),r=Object(j["resolveComponent"])("AudioPlayer"),i=Object(j["resolveDirective"])("contextmenu");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["editable-element-audio",{lock:e.elementInfo.lock}]),style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["withDirectives"])((Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"element-content",onMousedown:t[1]||(t[1]=function(t){return e.handleSelectElement(t)}),onTouchstart:t[2]||(t[2]=function(t){return e.handleSelectElement(t)})},[Object(j["createVNode"])(a,{class:"audio-icon",style:Object(j["normalizeStyle"])({fontSize:e.audioIconSize,color:e.elementInfo.color})},null,8,["style"]),e.handleElementId===e.elementInfo.id?(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:0,class:"audio-player",style:Object(j["normalizeStyle"])(Object(L["a"])({},e.audioPlayerPosition)),src:e.elementInfo.src,loop:e.elementInfo.loop,scale:e.canvasScale,onMousedown:t[0]||(t[0]=Object(j["withModifiers"])((function(){}),["stop"]))},null,8,["style","src","loop","scale"])):Object(j["createCommentVNode"])("",!0)],32)),[[i,e.contextmenus]])],4)],6)}var Fr=function(e){return Object(j["pushScopeId"])("data-v-5530a7f2"),e=e(),Object(j["popScopeId"])(),e},Rr=["src","autoplay"],Pr={class:"controller"},Hr={class:"icons"},qr={class:"icon-content"},Ur={class:"volume"},Wr={class:"icon-content"},Gr={class:"volume-bar",ref:"volumeBarRef"},Xr=Fr((function(){return Object(j["createElementVNode"])("span",{class:"thumb"},null,-1)})),Yr=[Xr],Zr={class:"time"},Jr={class:"ptime"},Kr=Object(j["createTextVNode"])(" / "),Qr={class:"dtime"},$r={class:"bar"},ei=Fr((function(){return Object(j["createElementVNode"])("span",{class:"thumb"},null,-1)})),ti=[ei];function ni(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconPlayOne"),r=Object(j["resolveComponent"])("IconPause"),i=Object(j["resolveComponent"])("IconVolumeMute"),u=Object(j["resolveComponent"])("IconVolumeNotice"),d=Object(j["resolveComponent"])("IconVolumeSmall");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"audio-player",style:Object(j["normalizeStyle"])({transform:"scale(".concat(1/e.scale,")")})},[Object(j["createElementVNode"])("audio",{class:"audio",ref:"audioRef",src:e.src,autoplay:e.autoplay,onDurationchange:t[0]||(t[0]=function(t){return e.handleDurationchange()}),onTimeupdate:t[1]||(t[1]=function(t){return e.handleTimeupdate()}),onPlay:t[2]||(t[2]=function(t){return e.handlePlayed()}),onEnded:t[3]||(t[3]=function(t){return e.handleEnded()}),onProgress:t[4]||(t[4]=function(t){return e.handleProgress()}),onError:t[5]||(t[5]=function(t){return e.handleError()})},null,40,Rr),Object(j["createElementVNode"])("div",Pr,[Object(j["createElementVNode"])("div",Hr,[Object(j["createElementVNode"])("div",{class:"icon play-icon",onClick:t[6]||(t[6]=function(t){return e.toggle()})},[Object(j["createElementVNode"])("span",qr,[e.paused?(Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:0})):(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:1}))])]),Object(j["createElementVNode"])("div",Ur,[Object(j["createElementVNode"])("div",{class:"icon volume-icon",onClick:t[7]||(t[7]=function(t){return e.toggleVolume()})},[Object(j["createElementVNode"])("span",Wr,[0===e.volume?(Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:0})):1===e.volume?(Object(j["openBlock"])(),Object(j["createBlock"])(u,{key:1})):(Object(j["openBlock"])(),Object(j["createBlock"])(d,{key:2}))])]),Object(j["createElementVNode"])("div",{class:"volume-bar-wrap",onMousedown:t[8]||(t[8]=function(t){return e.handleMousedownVolumeBar()}),onTouchstart:t[9]||(t[9]=function(t){return e.handleMousedownVolumeBar()}),onClick:t[10]||(t[10]=function(t){return e.handleClickVolumeBar(t)})},[Object(j["createElementVNode"])("div",Gr,[Object(j["createElementVNode"])("div",{class:"volume-bar-inner",style:Object(j["normalizeStyle"])({width:e.volumeBarWidth})},Yr,4)],512)],32)])]),Object(j["createElementVNode"])("span",Zr,[Object(j["createElementVNode"])("span",Jr,Object(j["toDisplayString"])(e.ptime),1),Kr,Object(j["createElementVNode"])("span",Qr,Object(j["toDisplayString"])(e.dtime),1)]),Object(j["createElementVNode"])("div",{class:"bar-wrap",ref:"playBarWrap",onMousedown:t[11]||(t[11]=function(t){return e.handleMousedownPlayBar()}),onTouchstart:t[12]||(t[12]=function(t){return e.handleMousedownPlayBar()}),onMousemove:t[13]||(t[13]=function(t){return e.handleMousemovePlayBar(t)}),onMouseenter:t[14]||(t[14]=function(t){return e.playBarTimeVisible=!0}),onMouseleave:t[15]||(t[15]=function(t){return e.playBarTimeVisible=!1})},[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["bar-time",{hidden:!e.playBarTimeVisible}]),style:Object(j["normalizeStyle"])({left:e.playBarTimeLeft})},Object(j["toDisplayString"])(e.playBarTime),7),Object(j["createElementVNode"])("div",$r,[Object(j["createElementVNode"])("div",{class:"loaded",style:Object(j["normalizeStyle"])({width:e.loadedBarWidth})},null,4),Object(j["createElementVNode"])("div",{class:"played",style:Object(j["normalizeStyle"])({width:e.playedBarWidth})},ti,4)])],544)])],4)}var oi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(0===e||isNaN(e))return"00:00";var t=function(e){return e<10?"0"+e:""+e},n=Math.floor(e/3600),o=Math.floor((e-3600*n)/60),c=Math.floor(e-3600*n-60*o);return(n>0?[n,o,c]:[o,c]).map(t).join(":")},ci=function(e){return e.getBoundingClientRect().left},li=Object(j["defineComponent"])({name:"audio-player",props:{src:{type:String,required:!0},loop:{type:Boolean,required:!0},autoplay:{type:Boolean,default:!1},scale:{type:Number,default:1}},setup:function(e){var t=Object(j["ref"])(),n=Object(j["ref"])(),o=Object(j["ref"])(),c=Object(j["ref"])(.5),l=Object(j["ref"])(!0),a=Object(j["ref"])(0),r=Object(j["ref"])(0),i=Object(j["ref"])(0),u=Object(j["ref"])(!1),d=Object(j["ref"])("00:00"),s=Object(j["ref"])("0"),f=Object(j["computed"])((function(){return oi(a.value)})),b=Object(j["computed"])((function(){return oi(r.value)})),m=Object(j["computed"])((function(){return a.value/r.value*100+"%"})),p=Object(j["computed"])((function(){return i.value/r.value*100+"%"})),v=Object(j["computed"])((function(){return 100*c.value+"%"})),O=function(e){t.value&&(e=Math.max(e,0),e=Math.min(e,r.value),t.value.currentTime=e,a.value=e)},h=function(){t.value&&(l.value=!1,t.value.play())},y=function(){t.value&&(l.value=!0,t.value.pause())},g=function(){l.value?h():y()},x=function(e){t.value&&(e=Math.max(e,0),e=Math.min(e,1),t.value.volume=e,c.value=e,t.value.muted&&0!==e&&(t.value.muted=!1))},C=function(){var e;r.value=(null===(e=t.value)||void 0===e?void 0:e.duration)||0},k=function(){var e;a.value=(null===(e=t.value)||void 0===e?void 0:e.currentTime)||0},E=function(){l.value=!1},w=function(){e.loop?(O(0),h()):y()},N=function(){var e;i.value=null!==(e=t.value)&&void 0!==e&&e.buffered.length?t.value.buffered.end(t.value.buffered.length-1):0},V=function(){return De["a"].error("视频加载失败")},I=function(e){if(t.value&&n.value){var o="clientX"in e?e.clientX:e.changedTouches[0].clientX,c=(o-ci(n.value))/n.value.clientWidth;c=Math.max(c,0),c=Math.min(c,1);var l=c*r.value;t.value.currentTime=l,a.value=l}},S=function e(o){if(t.value&&n.value){var c="clientX"in o?o.clientX:o.changedTouches[0].clientX,l=(c-ci(n.value))/n.value.clientWidth;l=Math.max(l,0),l=Math.min(l,1);var i=l*r.value;t.value.currentTime=i,a.value=i,document.removeEventListener("mousemove",I),document.removeEventListener("touchmove",I),document.removeEventListener("mouseup",e),document.removeEventListener("touchend",e)}},B=function(){document.addEventListener("mousemove",I),document.addEventListener("touchmove",I),document.addEventListener("mouseup",S),document.addEventListener("touchend",S)},L=function(e){if(o.value){var t="clientX"in e?e.clientX:e.changedTouches[0].clientX,n=(t-ci(o.value)-5.5)/35;x(n)}},T=function e(){document.removeEventListener("mousemove",L),document.removeEventListener("touchmove",L),document.removeEventListener("mouseup",e),document.removeEventListener("touchend",e)},_=function(){document.addEventListener("mousemove",L),document.addEventListener("touchmove",L),document.addEventListener("mouseup",T),document.addEventListener("touchend",T)},M=function(e){if(o.value){var t=(e.clientX-ci(o.value)-5.5)/35;x(t)}},D=function(e){if(r.value&&n.value){var t=n.value.getBoundingClientRect().left,o=e.clientX-t;if(o<0||o>n.value.offsetWidth)return;var c=r.value*(o/n.value.offsetWidth);s.value="".concat(o-(c>=3600?25:20),"px"),d.value=oi(c),u.value=!0}},z=function(){t.value&&(t.value.muted?(t.value.muted=!1,x(.5)):(t.value.muted=!0,x(0)))};return{audioRef:t,playBarWrap:n,volumeBarRef:o,volume:c,paused:l,ptime:f,dtime:b,playBarTime:d,playBarTimeVisible:u,playBarTimeLeft:s,playedBarWidth:m,loadedBarWidth:p,volumeBarWidth:v,play:h,pause:y,toggle:g,setVolume:x,handleDurationchange:C,handleTimeupdate:k,handlePlayed:E,handleEnded:w,handleProgress:N,handleError:V,handleMousedownPlayBar:B,handleMousedownVolumeBar:_,handleClickVolumeBar:M,handleMousemovePlayBar:D,toggleVolume:z}}});n("c558");const ai=eo()(li,[["render",ni],["__scopeId","data-v-5530a7f2"]]);var ri=ai,ii=Object(j["defineComponent"])({name:"editable-element-audio",components:{AudioPlayer:ri},props:{elementInfo:{type:Object,required:!0},selectElement:{type:Function,required:!0},contextmenus:{type:Function}},setup:function(e){var t=Object(y["c"])(ue()),n=t.canvasScale,o=t.handleElementId,c=Object(y["c"])(ae()),l=c.viewportRatio,a=Object(j["computed"])((function(){return Math.min(e.elementInfo.width,e.elementInfo.height)+"px"})),r=Object(j["computed"])((function(){var t=at,o=at*l.value,c=280/n.value,a=50/n.value,r=e.elementInfo.width,i=e.elementInfo.height,u=e.elementInfo.left,d=e.elementInfo.top,s=0,f=i;return u+c>=t&&(s=r-c),d+i+a>=o&&(f=-a),{left:s+"px",top:f+"px"}})),i=function(t){e.elementInfo.lock||(t.stopPropagation(),e.selectElement(t,e.elementInfo))};return{canvasScale:n,handleElementId:o,audioIconSize:a,audioPlayerPosition:r,handleSelectElement:i}}});n("b14d");const ui=eo()(ii,[["render",Ar],["__scopeId","data-v-40b7d6a8"]]);var di=ui,si=Object(j["defineComponent"])({name:"editable-element",props:{elementInfo:{type:Object,required:!0},elementIndex:{type:Number,required:!0},isMultiSelect:{type:Boolean,required:!0},selectElement:{type:Function,required:!0},openLinkDialog:{type:Function,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){var t,n=(t={},Object(pe["a"])(t,Te.IMAGE,kc),Object(pe["a"])(t,Te.TEXT,Dl),Object(pe["a"])(t,Te.SHAPE,ea),Object(pe["a"])(t,Te.LINE,pa),Object(pe["a"])(t,Te.CHART,Ea),Object(pe["a"])(t,Te.TABLE,Ya),Object(pe["a"])(t,Te.LATEX,tr),Object(pe["a"])(t,Te.VIDEO,zr),Object(pe["a"])(t,Te.AUDIO,di),t);return n[e.elementInfo.type]||null})),n=gt(),o=n.orderElement,c=Io(),l=c.alignElementToCanvas,a=Ot(),r=a.combineElements,i=a.uncombineElements,u=vt(),d=u.deleteElement,s=pt(),f=s.lockElement,b=s.unlockElement,m=ht(),p=m.copyElement,v=m.pasteElement,O=m.cutElement,h=jt(),y=h.selectAllElement,g=function(){return e.elementInfo.lock?[{text:"解锁",handler:function(){return b(e.elementInfo)}}]:[{text:"剪切",subText:"Ctrl + X",handler:O},{text:"复制",subText:"Ctrl + C",handler:p},{text:"粘贴",subText:"Ctrl + V",handler:v},{divider:!0},{text:"水平居中",handler:function(){return l(E.HORIZONTAL)},children:[{text:"水平垂直居中",handler:function(){return l(E.CENTER)}},{text:"水平居中",handler:function(){return l(E.HORIZONTAL)}},{text:"左对齐",handler:function(){return l(E.LEFT)}},{text:"右对齐",handler:function(){return l(E.RIGHT)}}]},{text:"垂直居中",handler:function(){return l(E.VERTICAL)},children:[{text:"水平垂直居中",handler:function(){return l(E.CENTER)}},{text:"垂直居中",handler:function(){return l(E.VERTICAL)}},{text:"顶部对齐",handler:function(){return l(E.TOP)}},{text:"底部对齐",handler:function(){return l(E.BOTTOM)}}]},{divider:!0},{text:"置于顶层",disable:e.isMultiSelect&&!e.elementInfo.groupId,handler:function(){return o(e.elementInfo,k.TOP)},children:[{text:"置于顶层",handler:function(){return o(e.elementInfo,k.TOP)}},{text:"上移一层",handler:function(){return o(e.elementInfo,k.UP)}}]},{text:"置于底层",disable:e.isMultiSelect&&!e.elementInfo.groupId,handler:function(){return o(e.elementInfo,k.BOTTOM)},children:[{text:"置于底层",handler:function(){return o(e.elementInfo,k.BOTTOM)}},{text:"下移一层",handler:function(){return o(e.elementInfo,k.DOWN)}}]},{divider:!0},{text:"设置链接",handler:e.openLinkDialog},{text:e.elementInfo.groupId?"取消组合":"组合",subText:"Ctrl + G",handler:e.elementInfo.groupId?i:r,hide:!e.isMultiSelect},{text:"全选",subText:"Ctrl + A",handler:y},{text:"锁定",subText:"Ctrl + L",handler:f},{text:"删除",subText:"Delete",handler:d}]};return{currentElementComponent:t,contextmenus:g}}});const fi=eo()(si,[["render",Vo]]);var bi=fi;function mi(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])("mouse-selection quadrant-".concat(e.quadrant)),style:Object(j["normalizeStyle"])({top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px"})},null,6)}var pi=Object(j["defineComponent"])({name:"mouse-selection",props:{top:{type:Number,required:!0},left:{type:Number,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0},quadrant:{type:Number,required:!0,validator:function(e){return[1,2,3,4].includes(e)}}}});n("aa92");const vi=eo()(pi,[["render",mi],["__scopeId","data-v-25d4b5f8"]]);var Oi=vi;function hi(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("GridLines");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"viewport-background",style:Object(j["normalizeStyle"])(e.backgroundStyle)},[e.showGridLines?(Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:0})):Object(j["createCommentVNode"])("",!0)],4)}var ji={class:"grid-lines"},yi=["d","stroke"];function gi(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("svg",ji,[Object(j["createElementVNode"])("path",{style:Object(j["normalizeStyle"])({transform:"scale(".concat(e.canvasScale,")")}),d:e.path,fill:"none",stroke:e.gridColor,"stroke-width":"0.3","stroke-dasharray":"5"},null,12,yi)])}var xi=Object(j["defineComponent"])({name:"grid-lines",setup:function(){var e=Object(y["c"])(ue()),t=e.canvasScale,n=Object(y["c"])(ae()),o=n.currentSlide,c=n.viewportRatio,l=Object(j["computed"])((function(){var e;return null===(e=o.value)||void 0===e?void 0:e.background})),a=Object(j["computed"])((function(){var e,t=(null===(e=l.value)||void 0===e?void 0:e.color)||"#fff",n=["#000","#fff"];return te.a.mostReadable(t,n,{includeFallbackColors:!0}).setAlpha(.5).toRgbString()})),r=50,i=function(){for(var e=at,t=at*c.value,n="",o=0;o<=Math.floor(t/r);o++)n+="M0 ".concat(o*r," L").concat(e," ").concat(o*r," ");for(var l=0;l<=Math.floor(e/r);l++)n+="M".concat(l*r," 0 L").concat(l*r," ").concat(t," ");return n};return{canvasScale:t,gridColor:a,width:at,height:at*c.value,path:i()}}});n("ffb8");const Ci=eo()(xi,[["render",gi],["__scopeId","data-v-9b94cc34"]]);var ki=Ci,Ei=function(e){var t=Object(j["computed"])((function(){if(!e.value)return{backgroundColor:"#fff"};var t=e.value,n=t.type,o=t.color,c=t.image,l=t.imageSize,a=t.gradientColor,r=t.gradientRotate,i=t.gradientType;if("solid"===n)return{backgroundColor:o};if("image"===n)return c?"repeat"===l?{backgroundImage:"url(".concat(c),backgroundRepeat:"repeat",backgroundSize:"contain"}:{backgroundImage:"url(".concat(c),backgroundRepeat:"no-repeat",backgroundSize:l||"cover"}:{backgroundColor:"#fff"};if("gradient"===n){var u=r||0,d=a?a[0]:"#fff",s=a?a[1]:"#fff";return"radial"===i?{backgroundImage:"radial-gradient(".concat(d,", ").concat(s)}:{backgroundImage:"linear-gradient(".concat(u,"deg, ").concat(d,", ").concat(s)}}return{backgroundColor:"#fff"}}));return{backgroundStyle:t}},wi=Object(j["defineComponent"])({name:"viewport-background",components:{GridLines:ki},setup:function(){var e=Object(y["c"])(ue()),t=e.showGridLines,n=Object(y["c"])(ae()),o=n.currentSlide,c=Object(j["computed"])((function(){var e;return null===(e=o.value)||void 0===e?void 0:e.background})),l=Ei(c),a=l.backgroundStyle;return{showGridLines:t,backgroundStyle:a}}});n("06b6");const Ni=eo()(wi,[["render",hi],["__scopeId","data-v-4d0018d8"]]);var Vi=Ni;function Ii(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"alignment-line",style:Object(j["normalizeStyle"])({left:e.left,top:e.top})},[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["line",e.type]),style:Object(j["normalizeStyle"])(e.sizeStyle)},null,6)],4)}var Si=Object(j["defineComponent"])({name:"alignment-line",props:{type:{type:String,required:!0},axis:{type:Object,required:!0},length:{type:Number,required:!0},canvasScale:{type:Number,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){return e.axis.x*e.canvasScale+"px"})),n=Object(j["computed"])((function(){return e.axis.y*e.canvasScale+"px"})),o=Object(j["computed"])((function(){return"vertical"===e.type?{height:e.length*e.canvasScale+"px"}:{width:e.length*e.canvasScale+"px"}}));return{left:t,top:n,sizeStyle:o}}});n("19f0");const Bi=eo()(Si,[["render",Ii],["__scopeId","data-v-7017c6bc"]]);var Li=Bi,Ti={class:"ruler"};function _i(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Ti,[Object(j["createElementVNode"])("div",{class:"h",style:Object(j["normalizeStyle"])({width:e.viewportStyles.width*e.canvasScale+"px",left:e.viewportStyles.left+"px"})},[(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(10,(function(t){return Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["ruler-marker-100",{hide:e.markerSize<36,omit:e.markerSize<72}]),key:"marker-100-".concat(t)},[Object(j["createElementVNode"])("span",null,Object(j["toDisplayString"])(100*t),1)],2)})),64))],4),Object(j["createElementVNode"])("div",{class:"v",style:Object(j["normalizeStyle"])({height:e.viewportStyles.height*e.canvasScale+"px",top:e.viewportStyles.top+"px"})},[(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(10,(function(t){return Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["ruler-marker-100",{hide:e.markerSize<36,omit:e.markerSize<72}]),key:t,style:Object(j["normalizeStyle"])({height:e.markerSize+"px"})},[Object(j["createElementVNode"])("span",null,Object(j["toDisplayString"])(100*t),1)],6)})),64))],4)])}var Mi=Object(j["defineComponent"])({props:{viewportStyles:{type:Object,required:!0}},setup:function(e){var t=Object(y["c"])(ue()),n=t.canvasScale,o=Object(j["computed"])((function(){return e.viewportStyles.width*n.value/10}));return{canvasScale:n,markerSize:o}}});n("bdd4");const Di=eo()(Mi,[["render",_i],["__scopeId","data-v-1c631df3"]]);var zi=Di,Ai=["width","height"],Fi=["d"];function Ri(e,t,n,o,c,l){var a,r;return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"element-create-selection",ref:"selectionRef",onMousedown:t[0]||(t[0]=Object(j["withModifiers"])((function(t){return e.createSelection(t)}),["stop"])),onContextmenu:t[1]||(t[1]=Object(j["withModifiers"])((function(){}),["stop","prevent"]))},[e.start&&e.end?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:0,class:Object(j["normalizeClass"])(["selection",null===(a=e.creatingElement)||void 0===a?void 0:a.type]),style:Object(j["normalizeStyle"])(e.position)},["line"===(null===(r=e.creatingElement)||void 0===r?void 0:r.type)&&e.lineData?(Object(j["openBlock"])(),Object(j["createElementBlock"])("svg",{key:0,overflow:"visible",width:e.lineData.svgWidth,height:e.lineData.svgHeight},[Object(j["createElementVNode"])("path",{d:e.lineData.path,stroke:"#d14424",fill:"none","stroke-width":"2"},null,8,Fi)],8,Ai)):Object(j["createCommentVNode"])("",!0)],6)):Object(j["createCommentVNode"])("",!0)],544)}var Pi=Object(j["defineComponent"])({name:"element-create-selection",emits:["created"],setup:function(e,t){var n=t.emit,o=ue(),c=Object(y["c"])(o),l=c.creatingElement,a=Object(y["c"])(ke()),r=a.ctrlOrShiftKeyActive,i=Object(j["ref"])(),u=Object(j["ref"])(),d=Object(j["ref"])(),s=Object(j["ref"])({x:0,y:0});Object(j["onMounted"])((function(){if(d.value){var e=d.value.getBoundingClientRect(),t=e.x,n=e.y;s.value={x:t,y:n}}}));var f=function(e){var t=!0,c=e.pageX,a=e.pageY;i.value=[c,a],document.onmousemove=function(e){if(l.value&&t){var n=e.pageX,o=e.pageY;if(r.value){var i=n-c,d=o-a,s=Math.abs(i),f=Math.abs(d);if("shape"===l.value.type){var b=d>0&&i<0||d<0&&i>0;s>f?o=b?a-i:a+i:n=b?c-d:c+d}else"line"===l.value.type&&(s>f?o=a:n=c)}u.value=[n,o]}},document.onmouseup=function(e){var r,d;if(document.onmousemove=null,document.onmouseup=null,2!==e.button){t=!1;var s=e.pageX,f=e.pageY,b=30;if("line"===(null===(r=l.value)||void 0===r?void 0:r.type)&&(Math.abs(s-c)>=b||Math.abs(f-a)>=b))n("created",{start:i.value,end:u.value});else if("line"!==(null===(d=l.value)||void 0===d?void 0:d.type)&&Math.abs(s-c)>=b&&Math.abs(f-a)>=b)n("created",{start:i.value,end:u.value});else{var m=200,p=Math.min(s,c),v=Math.min(f,a),O=Math.max(s,c),h=Math.max(f,a),j=O-p>=b?O-p:m,y=h-v>=b?h-v:m;n("created",{start:[p,v],end:[p+j,v+y]})}}else setTimeout((function(){return o.setCreatingElement(null)}),0)}},b=Object(j["computed"])((function(){if(!i.value||!u.value)return null;if(!l.value||"line"!==l.value.type)return null;var e=Object(ve["a"])(i.value,2),t=e[0],n=e[1],o=Object(ve["a"])(u.value,2),c=o[0],a=o[1],r=Math.min(t,c),d=Math.max(t,c),s=Math.min(n,a),f=Math.max(n,a),b=d-r>=24?d-r:24,m=f-s>=24?f-s:24,p=t===r?0:d-r,v=n===s?0:f-s,O=c===r?0:d-r,h=a===s?0:f-s,j="M".concat(p,", ").concat(v," L").concat(O,", ").concat(h);return{svgWidth:b,svgHeight:m,startX:p,startY:v,endX:O,endY:h,path:j}})),m=Object(j["computed"])((function(){if(!i.value||!u.value)return{};var e=Object(ve["a"])(i.value,2),t=e[0],n=e[1],o=Object(ve["a"])(u.value,2),c=o[0],l=o[1],a=Math.min(t,c),r=Math.max(t,c),d=Math.min(n,l),f=Math.max(n,l),b=r-a,m=f-d;return{left:a-s.value.x+"px",top:d-s.value.y+"px",width:b+"px",height:m+"px"}}));return{selectionRef:d,start:i,end:u,creatingElement:l,createSelection:f,lineData:b,position:m}}});n("80f7");const Hi=eo()(Pi,[["render",Ri],["__scopeId","data-v-15b60d90"]]);var qi=Hi;function Ui(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("BorderLine"),r=Object(j["resolveComponent"])("ResizeHandler");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"multi-select-operate",style:Object(j["normalizeStyle"])({left:e.range.minX*e.canvasScale+"px",top:e.range.minY*e.canvasScale+"px"})},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.borderLines,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:e.type,type:e.type,style:Object(j["normalizeStyle"])(e.style)},null,8,["type","style"])})),128)),e.disableResize?Object(j["createCommentVNode"])("",!0):(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],{key:0},Object(j["renderList"])(e.resizeHandlers,(function(t){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:t.direction,type:t.direction,style:Object(j["normalizeStyle"])(t.style),onMousedown:Object(j["withModifiers"])((function(n){return e.scaleMultiElement(n,e.range,t.direction)}),["stop"])},null,8,["type","style","onMousedown"])})),128))],4)}var Wi=function(e,t){var n=Object(j["computed"])((function(){return[{direction:N.LEFT_TOP,style:{}},{direction:N.TOP,style:{left:e.value/2+"px"}},{direction:N.RIGHT_TOP,style:{left:e.value+"px"}},{direction:N.LEFT,style:{top:t.value/2+"px"}},{direction:N.RIGHT,style:{left:e.value+"px",top:t.value/2+"px"}},{direction:N.LEFT_BOTTOM,style:{top:t.value+"px"}},{direction:N.BOTTOM,style:{left:e.value/2+"px",top:t.value+"px"}},{direction:N.RIGHT_BOTTOM,style:{left:e.value+"px",top:t.value+"px"}}]})),o=Object(j["computed"])((function(){return[{direction:N.LEFT,style:{top:t.value/2+"px"}},{direction:N.RIGHT,style:{left:e.value+"px",top:t.value/2+"px"}}]})),c=Object(j["computed"])((function(){return[{type:w.T,style:{width:e.value+"px"}},{type:w.B,style:{top:t.value+"px",width:e.value+"px"}},{type:w.L,style:{height:t.value+"px"}},{type:w.R,style:{left:e.value+"px",height:t.value+"px"}}]}));return{resizeHandlers:n,textElementResizeHandlers:o,borderLines:c}};function Gi(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["resize-handler",e.rotateClassName,e.type])},null,2)}var Xi=Object(j["defineComponent"])({name:"resize-handler",props:{type:{type:String,default:""},rotate:{type:Number,default:0}},setup:function(e){var t=Object(j["computed"])((function(){var t="rotate-",n=e.rotate;return n>-22.5&&n<=22.5?t+0:n>22.5&&n<=67.5?t+45:n>67.5&&n<=112.5?t+90:n>112.5&&n<=157.5?t+135:n>157.5||n<=-157.5?t+0:n>-157.5&&n<=-112.5?t+45:n>-112.5&&n<=-67.5?t+90:n>-67.5&&n<=-22.5?t+135:t+0}));return{rotateClassName:t}}});n("7f52");const Yi=eo()(Xi,[["render",Gi],["__scopeId","data-v-c9559332"]]);var Zi=Yi;function Ji(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["border-line",e.type,{wide:e.isWide}])},null,2)}var Ki=Object(j["defineComponent"])({name:"border-line",props:{type:{type:String,required:!0},isWide:{type:Boolean,default:!1}}});n("9d5f");const Qi=eo()(Ki,[["render",Ji],["__scopeId","data-v-1430bedc"]]);var $i=Qi,eu=Object(j["defineComponent"])({name:"multi-select-operate",components:{ResizeHandler:Zi,BorderLine:$i},props:{elementList:{type:Array,required:!0},scaleMultiElement:{type:Function,required:!0}},setup:function(e){var t=Object(y["c"])(ue()),n=t.activeElementIdList,o=t.canvasScale,c=Object(j["computed"])((function(){return e.elementList.filter((function(e){return n.value.includes(e.id)}))})),l=Object(j["ref"])({minX:0,maxX:0,minY:0,maxY:0}),a=Object(j["computed"])((function(){return(l.value.maxX-l.value.minX)*o.value})),r=Object(j["computed"])((function(){return(l.value.maxY-l.value.minY)*o.value})),i=Wi(a,r),u=i.resizeHandlers,d=i.borderLines,s=function(){var e=Ke(c.value),t=e.minX,n=e.maxX,o=e.minY,a=e.maxY;l.value={minX:t,maxX:n,minY:o,maxY:a}};Object(j["watchEffect"])(s);var f=Object(j["computed"])((function(){return c.value.some((function(e){return!!("image"!==e.type&&"shape"!==e.type||e.rotate)}))}));return{range:l,canvasScale:o,borderLines:d,disableResize:f,resizeHandlers:u}}});n("008f");const tu=eo()(eu,[["render",Ui],["__scopeId","data-v-55c8df22"]]);var nu=tu,ou={key:1,class:"animation-index"};function cu(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("LinkHandler");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["operate",{"multi-select":e.isMultiSelect&&!e.isActive}]),style:Object(j["normalizeStyle"])({top:e.elementInfo.top*e.canvasScale+"px",left:e.elementInfo.left*e.canvasScale+"px",transform:"rotate(".concat(e.rotate,"deg)"),transformOrigin:"".concat(e.elementInfo.width*e.canvasScale/2,"px ").concat(e.height*e.canvasScale/2,"px")})},[e.isSelected?(Object(j["openBlock"])(),Object(j["createBlock"])(Object(j["resolveDynamicComponent"])(e.currentOperateComponent),{key:0,elementInfo:e.elementInfo,handlerVisible:!e.elementInfo.lock&&(e.isActiveGroupElement||!e.isMultiSelect),rotateElement:e.rotateElement,scaleElement:e.scaleElement,dragLineElement:e.dragLineElement},null,8,["elementInfo","handlerVisible","rotateElement","scaleElement","dragLineElement"])):Object(j["createCommentVNode"])("",!0),"elAnimation"===e.toolbarState&&e.elementIndexListInAnimation.length?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",ou,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.elementIndexListInAnimation,(function(e){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"index-item",key:e},Object(j["toDisplayString"])(e+1),1)})),128))])):Object(j["createCommentVNode"])("",!0),e.isActive&&e.elementInfo.link?(Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:2,elementInfo:e.elementInfo,link:e.elementInfo.link,openLinkDialog:e.openLinkDialog,onMousedown:t[0]||(t[0]=Object(j["withModifiers"])((function(){}),["stop"]))},null,8,["elementInfo","link","openLinkDialog"])):Object(j["createCommentVNode"])("",!0)],6)}function lu(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("BorderLine"),r=Object(j["resolveComponent"])("ResizeHandler"),i=Object(j["resolveComponent"])("RotateHandler");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["image-element-operate",{cliping:e.isCliping}])},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.borderLines,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(a,{class:"operate-border-line",key:e.type,type:e.type,style:Object(j["normalizeStyle"])(e.style)},null,8,["type","style"])})),128)),e.handlerVisible?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.resizeHandlers,(function(t){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(j["normalizeStyle"])(t.style),onMousedown:Object(j["withModifiers"])((function(n){return e.scaleElement(n,e.elementInfo,t.direction)}),["stop"])},null,8,["type","rotate","style","onMousedown"])})),128)),Object(j["createVNode"])(i,{class:"operate-rotate-handler",style:Object(j["normalizeStyle"])({left:e.scaleWidth/2+"px"}),onMousedown:t[0]||(t[0]=Object(j["withModifiers"])((function(t){return e.rotateElement(e.elementInfo)}),["stop"]))},null,8,["style"])],64)):Object(j["createCommentVNode"])("",!0)],2)}var au={class:"rotate-handler"};function ru(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",au)}var iu={name:"rotate-handler"};n("8754");const uu=eo()(iu,[["render",ru],["__scopeId","data-v-9a549510"]]);var du=uu,su=Object(j["defineComponent"])({name:"image-element-operate",inheritAttrs:!1,components:{RotateHandler:du,ResizeHandler:Zi,BorderLine:$i},props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0}},setup:function(e){var t=Object(y["c"])(ue()),n=t.canvasScale,o=t.clipingImageElementId,c=Object(j["computed"])((function(){return o.value===e.elementInfo.id})),l=Object(j["computed"])((function(){return e.elementInfo.width*n.value})),a=Object(j["computed"])((function(){return e.elementInfo.height*n.value})),r=Wi(l,a),i=r.resizeHandlers,u=r.borderLines;return{isCliping:c,scaleWidth:l,resizeHandlers:i,borderLines:u}}});n("5efd");const fu=eo()(su,[["render",lu],["__scopeId","data-v-db6d5ba6"]]);var bu=fu,mu={class:"text-element-operate"};function pu(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("BorderLine"),r=Object(j["resolveComponent"])("ResizeHandler"),i=Object(j["resolveComponent"])("RotateHandler");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",mu,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.borderLines,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(a,{class:"operate-border-line",key:e.type,type:e.type,style:Object(j["normalizeStyle"])(e.style)},null,8,["type","style"])})),128)),e.handlerVisible?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.textElementResizeHandlers,(function(t){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(j["normalizeStyle"])(t.style),onMousedown:Object(j["withModifiers"])((function(n){return e.scaleElement(n,e.elementInfo,t.direction)}),["stop"])},null,8,["type","rotate","style","onMousedown"])})),128)),Object(j["createVNode"])(i,{class:"operate-rotate-handler",style:Object(j["normalizeStyle"])({left:e.scaleWidth/2+"px"}),onMousedown:t[0]||(t[0]=Object(j["withModifiers"])((function(t){return e.rotateElement(e.elementInfo)}),["stop"]))},null,8,["style"])],64)):Object(j["createCommentVNode"])("",!0)])}var vu=Object(j["defineComponent"])({name:"text-element-operate",inheritAttrs:!1,components:{RotateHandler:du,ResizeHandler:Zi,BorderLine:$i},props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0}},setup:function(e){var t=Object(y["c"])(ue()),n=t.canvasScale,o=Object(j["computed"])((function(){return e.elementInfo.width*n.value})),c=Object(j["computed"])((function(){return e.elementInfo.height*n.value})),l=Wi(o,c),a=l.textElementResizeHandlers,r=l.borderLines;return{scaleWidth:o,textElementResizeHandlers:a,borderLines:r}}});const Ou=eo()(vu,[["render",pu]]);var hu=Ou,ju={class:"shape-element-operate"};function yu(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("BorderLine"),r=Object(j["resolveComponent"])("ResizeHandler"),i=Object(j["resolveComponent"])("RotateHandler");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",ju,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.borderLines,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(a,{class:"operate-border-line",key:e.type,type:e.type,style:Object(j["normalizeStyle"])(e.style)},null,8,["type","style"])})),128)),e.handlerVisible?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.resizeHandlers,(function(t){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(j["normalizeStyle"])(t.style),onMousedown:Object(j["withModifiers"])((function(n){return e.scaleElement(n,e.elementInfo,t.direction)}),["stop"])},null,8,["type","rotate","style","onMousedown"])})),128)),Object(j["createVNode"])(i,{class:"operate-rotate-handler",style:Object(j["normalizeStyle"])({left:e.scaleWidth/2+"px"}),onMousedown:t[0]||(t[0]=Object(j["withModifiers"])((function(t){return e.rotateElement(e.elementInfo)}),["stop"]))},null,8,["style"])],64)):Object(j["createCommentVNode"])("",!0)])}var gu=Object(j["defineComponent"])({name:"shape-element-operate",inheritAttrs:!1,components:{RotateHandler:du,ResizeHandler:Zi,BorderLine:$i},props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0}},setup:function(e){var t=Object(y["c"])(ue()),n=t.canvasScale,o=Object(j["computed"])((function(){return e.elementInfo.width*n.value})),c=Object(j["computed"])((function(){return e.elementInfo.height*n.value})),l=Wi(o,c),a=l.resizeHandlers,r=l.borderLines;return{scaleWidth:o,resizeHandlers:a,borderLines:r}}});const xu=eo()(gu,[["render",yu]]);var Cu=xu,ku={class:"line-element-operate"},Eu=["width","height","stroke"],wu={key:0},Nu=["x1","y1","x2","y2"],Vu=["x1","y1","x2","y2"],Iu=["x1","y1","x2","y2"],Su=["x1","y1","x2","y2"];function Bu(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("ResizeHandler");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",ku,[e.handlerVisible?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.resizeHandlers,(function(t){return Object(j["openBlock"])(),Object(j["createBlock"])(a,{class:"operate-resize-handler",key:t.handler,style:Object(j["normalizeStyle"])(t.style),onMousedown:Object(j["withModifiers"])((function(n){return e.dragLineElement(n,e.elementInfo,t.handler)}),["stop"])},null,8,["style","onMousedown"])})),128)),(Object(j["openBlock"])(),Object(j["createElementBlock"])("svg",{width:e.svgWidth||1,height:e.svgHeight||1,stroke:e.elementInfo.color,overflow:"visible",style:Object(j["normalizeStyle"])({transform:"scale(".concat(e.canvasScale,")")})},[e.elementInfo.curve?(Object(j["openBlock"])(),Object(j["createElementBlock"])("g",wu,[Object(j["createElementVNode"])("line",{class:"anchor-line",x1:e.elementInfo.start[0],y1:e.elementInfo.start[1],x2:e.elementInfo.curve[0],y2:e.elementInfo.curve[1]},null,8,Nu),Object(j["createElementVNode"])("line",{class:"anchor-line",x1:e.elementInfo.end[0],y1:e.elementInfo.end[1],x2:e.elementInfo.curve[0],y2:e.elementInfo.curve[1]},null,8,Vu)])):Object(j["createCommentVNode"])("",!0),e.elementInfo.cubic?(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],{key:1},Object(j["renderList"])(e.elementInfo.cubic,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("g",{key:n},[0===n?(Object(j["openBlock"])(),Object(j["createElementBlock"])("line",{key:0,class:"anchor-line",x1:e.elementInfo.start[0],y1:e.elementInfo.start[1],x2:t[0],y2:t[1]},null,8,Iu)):Object(j["createCommentVNode"])("",!0),1===n?(Object(j["openBlock"])(),Object(j["createElementBlock"])("line",{key:1,class:"anchor-line",x1:e.elementInfo.end[0],y1:e.elementInfo.end[1],x2:t[0],y2:t[1]},null,8,Su)):Object(j["createCommentVNode"])("",!0)])})),128)):Object(j["createCommentVNode"])("",!0)],12,Eu))],64)):Object(j["createCommentVNode"])("",!0)])}var Lu=Object(j["defineComponent"])({name:"line-element-operate",inheritAttrs:!1,components:{ResizeHandler:Zi},props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},dragLineElement:{type:Function,required:!0}},setup:function(e){var t=Object(y["c"])(ue()),n=t.canvasScale,o=Object(j["computed"])((function(){return Math.max(e.elementInfo.start[0],e.elementInfo.end[0])})),c=Object(j["computed"])((function(){return Math.max(e.elementInfo.start[1],e.elementInfo.end[1])})),l=Object(j["computed"])((function(){var t=[{handler:V.START,style:{left:e.elementInfo.start[0]*n.value+"px",top:e.elementInfo.start[1]*n.value+"px"}},{handler:V.END,style:{left:e.elementInfo.end[0]*n.value+"px",top:e.elementInfo.end[1]*n.value+"px"}}];if(e.elementInfo.curve||e.elementInfo.broken){var o=e.elementInfo.curve||e.elementInfo.broken;t.push({handler:V.C,style:{left:o[0]*n.value+"px",top:o[1]*n.value+"px"}})}else if(e.elementInfo.cubic){var c=Object(ve["a"])(e.elementInfo.cubic,2),l=c[0],a=c[1];t.push({handler:V.C1,style:{left:l[0]*n.value+"px",top:l[1]*n.value+"px"}}),t.push({handler:V.C2,style:{left:a[0]*n.value+"px",top:a[1]*n.value+"px"}})}return t}));return{svgWidth:o,svgHeight:c,canvasScale:n,resizeHandlers:l}}});n("8010");const Tu=eo()(Lu,[["render",Bu],["__scopeId","data-v-60f9f1f7"]]);var _u=Tu,Mu={class:"table-element-operate"};function Du(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("BorderLine"),r=Object(j["resolveComponent"])("ResizeHandler"),i=Object(j["resolveComponent"])("RotateHandler");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Mu,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.borderLines,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(a,{class:"operate-border-line",key:e.type,type:e.type,style:Object(j["normalizeStyle"])(e.style)},null,8,["type","style"])})),128)),e.handlerVisible?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.textElementResizeHandlers,(function(t){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(j["normalizeStyle"])(t.style),onMousedown:Object(j["withModifiers"])((function(n){return e.scaleElement(n,e.elementInfo,t.direction)}),["stop"])},null,8,["type","rotate","style","onMousedown"])})),128)),Object(j["createVNode"])(i,{class:"operate-rotate-handler",style:Object(j["normalizeStyle"])({left:e.scaleWidth/2+"px"}),onMousedown:t[0]||(t[0]=Object(j["withModifiers"])((function(t){return e.rotateElement(e.elementInfo)}),["stop"]))},null,8,["style"])],64)):Object(j["createCommentVNode"])("",!0)])}var zu=Object(j["defineComponent"])({name:"table-element-operate",inheritAttrs:!1,components:{RotateHandler:du,ResizeHandler:Zi,BorderLine:$i},props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0}},setup:function(e){var t=Object(y["c"])(ue()),n=t.canvasScale,o=Object(j["computed"])((function(){return e.elementInfo.outline.width||1})),c=Object(j["computed"])((function(){return(e.elementInfo.width+o.value)*n.value})),l=Object(j["computed"])((function(){return e.elementInfo.height*n.value})),a=Wi(c,l),r=a.textElementResizeHandlers,i=a.borderLines;return{scaleWidth:c,textElementResizeHandlers:r,borderLines:i}}});const Au=eo()(zu,[["render",Du]]);var Fu=Au,Ru={class:"common-element-operate"};function Pu(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("BorderLine"),r=Object(j["resolveComponent"])("ResizeHandler"),i=Object(j["resolveComponent"])("RotateHandler");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Ru,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.borderLines,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(a,{class:"operate-border-line",key:e.type,type:e.type,style:Object(j["normalizeStyle"])(e.style)},null,8,["type","style"])})),128)),e.handlerVisible?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.resizeHandlers,(function(t){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(j["normalizeStyle"])(t.style),onMousedown:Object(j["withModifiers"])((function(n){return e.scaleElement(n,e.elementInfo,t.direction)}),["stop"])},null,8,["type","rotate","style","onMousedown"])})),128)),e.cannotRotate?Object(j["createCommentVNode"])("",!0):(Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:0,class:"operate-rotate-handler",style:Object(j["normalizeStyle"])({left:e.scaleWidth/2+"px"}),onMousedown:t[0]||(t[0]=Object(j["withModifiers"])((function(t){return e.rotateElement(e.elementInfo)}),["stop"]))},null,8,["style"]))],64)):Object(j["createCommentVNode"])("",!0)])}var Hu=Object(j["defineComponent"])({name:"common-element-operate",inheritAttrs:!1,components:{RotateHandler:du,ResizeHandler:Zi,BorderLine:$i},props:{elementInfo:{type:Object,required:!0},handlerVisible:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0}},setup:function(e){var t=Object(y["c"])(ue()),n=t.canvasScale,o=Object(j["computed"])((function(){return e.elementInfo.width*n.value})),c=Object(j["computed"])((function(){return e.elementInfo.height*n.value})),l=Wi(o,c),a=l.resizeHandlers,r=l.borderLines,i=Object(j["computed"])((function(){return["video","audio"].includes(e.elementInfo.type)}));return{scaleWidth:o,resizeHandlers:a,borderLines:r,cannotRotate:i}}});const qu=eo()(Hu,[["render",Pu]]);var Uu=qu,Wu=["href"],Gu={key:1,class:"link"},Xu={class:"btns"};function Yu(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("Divider");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"link-handler",style:Object(j["normalizeStyle"])({top:e.height*e.canvasScale+10+"px"})},["web"===e.link.type?(Object(j["openBlock"])(),Object(j["createElementBlock"])("a",{key:0,class:"link",href:e.link.target,target:"_blank"},Object(j["toDisplayString"])(e.link.target),9,Wu)):(Object(j["openBlock"])(),Object(j["createElementBlock"])("a",Gu,"幻灯片页面 "+Object(j["toDisplayString"])(e.link.target),1)),Object(j["createElementVNode"])("div",Xu,[Object(j["createElementVNode"])("div",{class:"btn",onClick:t[0]||(t[0]=function(t){return e.openLinkDialog()})},"更换"),Object(j["createVNode"])(a,{type:"vertical"}),Object(j["createElementVNode"])("div",{class:"btn",onClick:t[1]||(t[1]=function(t){return e.removeLink(e.elementInfo)})},"移除")])],4)}var Zu=function(){var e=ae(),t=dt(),n=t.addHistorySnapshot,o=function(t,o){var c=/^(https?):\/\/[\w\-]+(\.[\w\-]+)+([\w\-.,@?^=%&:\/~+#]*[\w\-@?^=%&\/~+#])?$/;if("web"===o.type&&!c.test(o.target))return De["a"].error("不是正确的网页链接地址"),!1;var l={link:o};return e.updateElement({id:t.id,props:l}),n(),!0},c=function(t){e.removeElementProps({id:t.id,propName:"link"}),n()};return{setLink:o,removeLink:c}},Ju=Object(j["defineComponent"])({name:"link-handler",props:{elementInfo:{type:Object,required:!0},link:{type:Object,required:!0},openLinkDialog:{type:Function,required:!0}},setup:function(e){var t=Object(y["c"])(ue()),n=t.canvasScale,o=Zu(),c=o.removeLink,l=Object(j["computed"])((function(){return"line"===e.elementInfo.type?0:e.elementInfo.height}));return{canvasScale:n,height:l,removeLink:c}}});n("c15d");const Ku=eo()(Ju,[["render",Yu],["__scopeId","data-v-2b77dbb0"]]);var Qu=Ku,$u=Object(j["defineComponent"])({name:"operate",components:{LinkHandler:Qu},props:{elementInfo:{type:Object,required:!0},isSelected:{type:Boolean,required:!0},isActive:{type:Boolean,required:!0},isActiveGroupElement:{type:Boolean,required:!0},isMultiSelect:{type:Boolean,required:!0},rotateElement:{type:Function,required:!0},scaleElement:{type:Function,required:!0},dragLineElement:{type:Function,required:!0},openLinkDialog:{type:Function,required:!0}},setup:function(e){var t=Object(y["c"])(ue()),n=t.canvasScale,o=t.toolbarState,c=Object(y["c"])(ae()),l=c.formatedAnimations,a=Object(j["computed"])((function(){var t,n=(t={},Object(pe["a"])(t,Te.IMAGE,bu),Object(pe["a"])(t,Te.TEXT,hu),Object(pe["a"])(t,Te.SHAPE,Cu),Object(pe["a"])(t,Te.LINE,_u),Object(pe["a"])(t,Te.TABLE,Fu),Object(pe["a"])(t,Te.CHART,Uu),Object(pe["a"])(t,Te.LATEX,Uu),Object(pe["a"])(t,Te.VIDEO,Uu),Object(pe["a"])(t,Te.AUDIO,Uu),t);return n[e.elementInfo.type]||null})),r=Object(j["computed"])((function(){for(var t=[],n=0;n<l.value.length;n++){var o=l.value[n].animations.map((function(e){return e.elId}));o.includes(e.elementInfo.id)&&t.push(n)}return t})),i=Object(j["computed"])((function(){return"rotate"in e.elementInfo?e.elementInfo.rotate:0})),u=Object(j["computed"])((function(){return"height"in e.elementInfo?e.elementInfo.height:0}));return{currentOperateComponent:a,canvasScale:n,toolbarState:o,elementIndexListInAnimation:r,rotate:i,height:u}}});n("ec38");const ed=eo()($u,[["render",cu],["__scopeId","data-v-3719d97c"]]);var td=ed,nd=function(e){return Object(j["pushScopeId"])("data-v-57530ef0"),e=e(),Object(j["popScopeId"])(),e},od={class:"link-dialog"},cd={class:"tabs"},ld=["onClick"],ad={key:2,class:"preview"},rd=nd((function(){return Object(j["createElementVNode"])("div",null,"预览：",-1)})),id={class:"btns"},ud=Object(j["createTextVNode"])("取消"),dd=Object(j["createTextVNode"])("确认");function sd(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("Input"),r=Object(j["resolveComponent"])("SelectOption"),i=Object(j["resolveComponent"])("Select"),u=Object(j["resolveComponent"])("ThumbnailSlide"),d=Object(j["resolveComponent"])("Button");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",od,[Object(j["createElementVNode"])("div",cd,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.tabs,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["tab",{active:e.type===t.key}]),key:t.key,onClick:function(n){return e.type=t.key}},Object(j["toDisplayString"])(t.label),11,ld)})),128))]),"web"===e.type?(Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:0,class:"input",value:e.address,"onUpdate:value":t[0]||(t[0]=function(t){return e.address=t}),placeholder:"请输入网页链接地址"},null,8,["value"])):Object(j["createCommentVNode"])("",!0),"slide"===e.type?(Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:1,class:"input",value:e.slideId,"onUpdate:value":t[1]||(t[1]=function(t){return e.slideId=t})},{default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.slides,(function(e,t){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:e.id,value:e.id},{default:Object(j["withCtx"])((function(){return[Object(j["createTextVNode"])("幻灯片 "+Object(j["toDisplayString"])(t+1),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])):Object(j["createCommentVNode"])("",!0),"slide"===e.type&&e.selectedSlide?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",ad,[rd,Object(j["createVNode"])(u,{class:"thumbnail",slide:e.selectedSlide,size:490},null,8,["slide"])])):Object(j["createCommentVNode"])("",!0),Object(j["createElementVNode"])("div",id,[Object(j["createVNode"])(d,{onClick:t[2]||(t[2]=function(t){return e.close()}),style:{"margin-right":"10px"}},{default:Object(j["withCtx"])((function(){return[ud]})),_:1}),Object(j["createVNode"])(d,{type:"primary",onClick:t[3]||(t[3]=function(t){return e.save()})},{default:Object(j["withCtx"])((function(){return[dd]})),_:1})])])}var fd={key:1,class:"placeholder"};function bd(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("ThumbnailElement");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"thumbnail-slide",style:Object(j["normalizeStyle"])({width:e.size+"px",height:e.size*e.viewportRatio+"px"})},[e.visible?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:0,class:"elements",style:Object(j["normalizeStyle"])({width:e.VIEWPORT_SIZE+"px",height:e.VIEWPORT_SIZE*e.viewportRatio+"px",transform:"scale(".concat(e.scale,")")})},[Object(j["createElementVNode"])("div",{class:"background",style:Object(j["normalizeStyle"])(e.backgroundStyle)},null,4),(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.slide.elements,(function(e,t){return Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:e.id,elementInfo:e,elementIndex:t+1},null,8,["elementInfo","elementIndex"])})),128))],4)):(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",fd,"加载中 ..."))],4)}function md(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["base-element","base-element-".concat(e.elementInfo.id)]),style:Object(j["normalizeStyle"])({zIndex:e.elementIndex})},[(Object(j["openBlock"])(),Object(j["createBlock"])(Object(j["resolveDynamicComponent"])(e.currentElementComponent),{elementInfo:e.elementInfo,target:"thumbnail"},null,8,["elementInfo"]))],6)}var pd=["src"];function vd(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("ImageOutline");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"base-element-image",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["createElementVNode"])("div",{class:"element-content",style:Object(j["normalizeStyle"])({filter:e.shadowStyle?"drop-shadow(".concat(e.shadowStyle,")"):"",transform:e.flipStyle})},[Object(j["createVNode"])(a,{elementInfo:e.elementInfo},null,8,["elementInfo"]),Object(j["createElementVNode"])("div",{class:"image-content",style:Object(j["normalizeStyle"])({clipPath:e.clipShape.style})},[Object(j["createElementVNode"])("img",{src:e.elementInfo.src,draggable:!1,style:Object(j["normalizeStyle"])({top:e.imgPosition.top,left:e.imgPosition.left,width:e.imgPosition.width,height:e.imgPosition.height,filter:e.filter}),alt:""},null,12,pd)],4)],4)],4)],4)}var Od=Object(j["defineComponent"])({name:"base-element-image",components:{ImageOutline:ic},props:{elementInfo:{type:Object,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){return e.elementInfo.shadow})),n=_o(t),o=n.shadowStyle,c=Object(j["computed"])((function(){return e.elementInfo.flipH})),l=Object(j["computed"])((function(){return e.elementInfo.flipV})),a=Mo(c,l),r=a.flipStyle,i=Object(j["computed"])((function(){return e.elementInfo.clip})),u=zo(i),d=u.clipShape,s=u.imgPosition,f=Object(j["computed"])((function(){return e.elementInfo.filters})),b=Ao(f),m=b.filter;return{imgPosition:s,filter:m,flipStyle:r,shadowStyle:o,clipShape:d}}});n("3ae7");const hd=eo()(Od,[["render",vd],["__scopeId","data-v-0b1f9460"]]);var jd=hd,yd=["innerHTML"];function gd(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("ElementOutline");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"base-element-text",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["createElementVNode"])("div",{class:"element-content",style:Object(j["normalizeStyle"])({backgroundColor:e.elementInfo.fill,opacity:e.elementInfo.opacity,textShadow:e.shadowStyle,lineHeight:e.elementInfo.lineHeight,letterSpacing:(e.elementInfo.wordSpace||0)+"px",color:e.elementInfo.defaultColor,fontFamily:e.elementInfo.defaultFontName})},[Object(j["createVNode"])(a,{width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"]),Object(j["createElementVNode"])("div",{class:"text ProseMirror-static",style:Object(j["normalizeStyle"])(e.cssVar),innerHTML:e.elementInfo.content},null,12,yd)],4)],4)],4)}var xd=Object(j["defineComponent"])({name:"base-element-text",components:{ElementOutline:_c},props:{elementInfo:{type:Object,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){return e.elementInfo.shadow})),n=_o(t),o=n.shadowStyle,c=Object(j["computed"])((function(){return{"--textIndent":"".concat(e.elementInfo.textIndent||0,"px"),"--paragraphSpace":"".concat(void 0===e.elementInfo.paragraphSpace?5:e.elementInfo.paragraphSpace,"px")}}));return{shadowStyle:o,cssVar:c}}});n("4021");const Cd=eo()(xd,[["render",gd],["__scopeId","data-v-81197444"]]);var kd=Cd,Ed=["width","height"],wd={key:0},Nd=["transform"],Vd=["d","fill","stroke","stroke-width","stroke-dasharray"],Id=["innerHTML"];function Sd(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("GradientDefs");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"base-element-shape",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["createElementVNode"])("div",{class:"element-content",style:Object(j["normalizeStyle"])({opacity:e.elementInfo.opacity,filter:e.shadowStyle?"drop-shadow(".concat(e.shadowStyle,")"):"",transform:e.flipStyle,color:e.text.defaultColor,fontFamily:e.text.defaultFontName})},[(Object(j["openBlock"])(),Object(j["createElementBlock"])("svg",{overflow:"visible",width:e.elementInfo.width,height:e.elementInfo.height},[e.elementInfo.gradient?(Object(j["openBlock"])(),Object(j["createElementBlock"])("defs",wd,[Object(j["createVNode"])(a,{id:"base-gradient-".concat(e.elementInfo.id),type:e.elementInfo.gradient.type,color1:e.elementInfo.gradient.color[0],color2:e.elementInfo.gradient.color[1],rotate:e.elementInfo.gradient.rotate},null,8,["id","type","color1","color2","rotate"])])):Object(j["createCommentVNode"])("",!0),Object(j["createElementVNode"])("g",{transform:"scale(".concat(e.elementInfo.width/e.elementInfo.viewBox[0],", ").concat(e.elementInfo.height/e.elementInfo.viewBox[1],") translate(0,0) matrix(1,0,0,1,0,0)")},[Object(j["createElementVNode"])("path",{"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",d:e.elementInfo.path,fill:e.elementInfo.gradient?"url(#base-gradient-".concat(e.elementInfo.id,")"):e.elementInfo.fill,stroke:e.outlineColor,"stroke-width":e.outlineWidth,"stroke-dasharray":"dashed"===e.outlineStyle?"10 5":"0 0"},null,8,Vd)],8,Nd)],8,Ed)),Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["shape-text",e.text.align])},[Object(j["createElementVNode"])("div",{class:"ProseMirror-static",innerHTML:e.text.content},null,8,Id)],2)],4)],4)],4)}var Bd=Object(j["defineComponent"])({name:"base-element-shape",components:{GradientDefs:Kl},props:{elementInfo:{type:Object,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){return e.elementInfo.outline})),n=Uo(t),o=n.outlineWidth,c=n.outlineStyle,l=n.outlineColor,a=Object(j["computed"])((function(){return e.elementInfo.shadow})),r=_o(a),i=r.shadowStyle,u=Object(j["computed"])((function(){return e.elementInfo.flipH})),d=Object(j["computed"])((function(){return e.elementInfo.flipV})),s=Mo(u,d),f=s.flipStyle,b=Object(j["computed"])((function(){var t={content:"",defaultFontName:"微软雅黑",defaultColor:"#000",align:"middle"};return e.elementInfo.text?e.elementInfo.text:t}));return{shadowStyle:i,outlineWidth:o,outlineStyle:c,outlineColor:l,flipStyle:f,text:b}}});n("f1ac");const Ld=eo()(Bd,[["render",Sd],["__scopeId","data-v-728513ea"]]);var Td=Ld,_d=["width","height"],Md=["d","stroke","stroke-width","stroke-dasharray","marker-start","marker-end"];function Dd(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("LinePointMarker");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"base-element-line",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px"})},[Object(j["createElementVNode"])("div",{class:"element-content",style:Object(j["normalizeStyle"])({filter:e.shadowStyle?"drop-shadow(".concat(e.shadowStyle,")"):""})},[(Object(j["openBlock"])(),Object(j["createElementBlock"])("svg",{overflow:"visible",width:e.svgWidth,height:e.svgHeight},[Object(j["createElementVNode"])("defs",null,[e.elementInfo.points[0]?(Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:0,id:e.elementInfo.id,position:"start",type:e.elementInfo.points[0],color:e.elementInfo.color,baseSize:e.elementInfo.width},null,8,["id","type","color","baseSize"])):Object(j["createCommentVNode"])("",!0),e.elementInfo.points[1]?(Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:1,id:e.elementInfo.id,position:"end",type:e.elementInfo.points[1],color:e.elementInfo.color,baseSize:e.elementInfo.width},null,8,["id","type","color","baseSize"])):Object(j["createCommentVNode"])("",!0)]),Object(j["createElementVNode"])("path",{d:e.path,stroke:e.elementInfo.color,"stroke-width":e.elementInfo.width,"stroke-dasharray":e.lineDashArray,fill:"none","marker-start":e.elementInfo.points[0]?"url(#".concat(e.elementInfo.id,"-").concat(e.elementInfo.points[0],"-start)"):"","marker-end":e.elementInfo.points[1]?"url(#".concat(e.elementInfo.id,"-").concat(e.elementInfo.points[1],"-end)"):""},null,8,Md)],8,_d))],4)],4)}var zd=Object(j["defineComponent"])({name:"base-element-line",components:{LinePointMarker:fa},props:{elementInfo:{type:Object,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){return e.elementInfo.shadow})),n=_o(t),o=n.shadowStyle,c=Object(j["computed"])((function(){var t=Math.abs(e.elementInfo.start[0]-e.elementInfo.end[0]);return t<24?24:t})),l=Object(j["computed"])((function(){var t=Math.abs(e.elementInfo.start[1]-e.elementInfo.end[1]);return t<24?24:t})),a=Object(j["computed"])((function(){return"dashed"===e.elementInfo.style?"10, 5":"0, 0"})),r=Object(j["computed"])((function(){return tt(e.elementInfo)}));return{shadowStyle:o,svgWidth:c,svgHeight:l,lineDashArray:a,path:r}}});n("438e");const Ad=eo()(zd,[["render",Dd],["__scopeId","data-v-2cd24911"]]);var Fd=Ad;function Rd(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("ElementOutline"),r=Object(j["resolveComponent"])("Chart");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"base-element-chart",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["createElementVNode"])("div",{class:"element-content",style:Object(j["normalizeStyle"])({backgroundColor:e.elementInfo.fill})},[Object(j["createVNode"])(a,{width:e.elementInfo.width,height:e.elementInfo.height,outline:e.elementInfo.outline},null,8,["width","height","outline"]),Object(j["createVNode"])(r,{width:e.elementInfo.width*e.zoom,height:e.elementInfo.height*e.zoom,type:e.elementInfo.chartType,data:e.elementInfo.data,options:e.elementInfo.options,themeColor:e.elementInfo.themeColor,gridColor:e.elementInfo.gridColor,legends:e.elementInfo.data.legends,legend:e.elementInfo.legend||"",style:Object(j["normalizeStyle"])({zoom:1/e.zoom})},null,8,["width","height","type","data","options","themeColor","gridColor","legends","legend","style"])],4)],4)],4)}var Pd=Object(j["defineComponent"])({name:"base-element-chart",components:{ElementOutline:_c,Chart:xa},props:{elementInfo:{type:Object,required:!0}},setup:function(){var e=Object(j["inject"])(uo)||Object(j["ref"])(1),t=Object(j["computed"])((function(){return e.value<1})),n=Object(j["computed"])((function(){return t.value?1/e.value:1}));return{needScaleSize:t,zoom:n}}});n("9e82");const Hd=eo()(Pd,[["render",Rd],["__scopeId","data-v-342d4bac"]]);var qd=Hd,Ud={class:"element-content"};function Wd(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("StaticTable");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"base-element-table",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["createElementVNode"])("div",Ud,[Object(j["createVNode"])(a,{data:e.elementInfo.data,width:e.elementInfo.width,colWidths:e.elementInfo.colWidths,outline:e.elementInfo.outline,theme:e.elementInfo.theme},null,8,["data","width","colWidths","outline","theme"])])],4)],4)}var Gd=["width"],Xd=["rowspan","colspan"],Yd=["innerHTML"];function Zd(e,t,n,o,c,l){var a,r,i,u,d;return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"static-table",style:Object(j["normalizeStyle"])({width:e.totalWidth+"px"})},[Object(j["createElementVNode"])("table",{class:Object(j["normalizeClass"])({theme:e.theme,"row-header":null===(a=e.theme)||void 0===a?void 0:a.rowHeader,"row-footer":null===(r=e.theme)||void 0===r?void 0:r.rowFooter,"col-header":null===(i=e.theme)||void 0===i?void 0:i.colHeader,"col-footer":null===(u=e.theme)||void 0===u?void 0:u.colFooter}),style:Object(j["normalizeStyle"])("--themeColor: ".concat(null===(d=e.theme)||void 0===d?void 0:d.color,"; --subThemeColor1: ").concat(e.subThemeColor[0],"; --subThemeColor2: ").concat(e.subThemeColor[1]))},[Object(j["createElementVNode"])("colgroup",null,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.colSizeList,(function(e,t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("col",{span:"1",key:t,width:e},null,8,Gd)})),128))]),Object(j["createElementVNode"])("tbody",null,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.data,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("tr",{key:n},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(t,(function(t,o){return Object(j["withDirectives"])((Object(j["openBlock"])(),Object(j["createElementBlock"])("td",{class:"cell",style:Object(j["normalizeStyle"])(Object(L["a"])({borderStyle:e.outline.style,borderColor:e.outline.color,borderWidth:e.outline.width+"px"},e.getTextStyle(t.style))),key:t.id,rowspan:t.rowspan,colspan:t.colspan},[Object(j["createElementVNode"])("div",{class:"cell-text",innerHTML:e.formatText(t.text)},null,8,Yd)],12,Xd)),[[j["vShow"],!e.hideCells.includes("".concat(n,"_").concat(o))]])})),128))])})),128))])],6)],4)}var Jd=Object(j["defineComponent"])({name:"static-table",props:{data:{type:Array,required:!0},width:{type:Number,required:!0},colWidths:{type:Array,required:!0},outline:{type:Object,required:!0},theme:{type:Object},editable:{type:Boolean,default:!0}},setup:function(e){var t=Object(j["ref"])([]),n=Object(j["computed"])((function(){return t.value.reduce((function(e,t){return e+t}))}));Object(j["watch"])([function(){return e.colWidths},function(){return e.width}],(function(){t.value=e.colWidths.map((function(t){return t*e.width}))}),{immediate:!0});var o=Object(j["computed"])((function(){return e.data})),c=Da(o),l=c.hideCells,a=Object(j["computed"])((function(){return e.theme})),r=za(a),i=r.subThemeColor;return{colSizeList:t,totalWidth:n,hideCells:l,getTextStyle:_a,formatText:Ma,subThemeColor:i}}});n("9316");const Kd=eo()(Jd,[["render",Zd],["__scopeId","data-v-74b60291"]]);var Qd=Kd,$d=Object(j["defineComponent"])({name:"base-element-table",components:{StaticTable:Qd},props:{elementInfo:{type:Object,required:!0}}});n("4607");const es=eo()($d,[["render",Wd],["__scopeId","data-v-3bbcc75c"]]);var ts=es,ns={class:"element-content"},os=["width","height","stroke","stroke-width"],cs=["transform"],ls=["d"];function as(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"base-element-latex",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["createElementVNode"])("div",ns,[(Object(j["openBlock"])(),Object(j["createElementBlock"])("svg",{overflow:"visible",width:e.elementInfo.width,height:e.elementInfo.height,stroke:e.elementInfo.color,"stroke-width":e.elementInfo.strokeWidth,fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[Object(j["createElementVNode"])("g",{transform:"scale(".concat(e.elementInfo.width/e.elementInfo.viewBox[0],", ").concat(e.elementInfo.height/e.elementInfo.viewBox[1],") translate(0,0) matrix(1,0,0,1,0,0)")},[Object(j["createElementVNode"])("path",{d:e.elementInfo.path},null,8,ls)],8,cs)],8,os))])],4)],4)}var rs=Object(j["defineComponent"])({name:"base-element-latex",props:{elementInfo:{type:Object,required:!0}}});n("0006");const is=eo()(rs,[["render",as],["__scopeId","data-v-4118f3dd"]]);var us=is;function ds(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconPlayOne");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"base-element-video",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["createElementVNode"])("div",{class:"element-content",style:Object(j["normalizeStyle"])({backgroundImage:"url(".concat(e.elementInfo.poster,")")})},[Object(j["createVNode"])(a,{class:"icon"})],4)],4)],4)}var ss=Object(j["defineComponent"])({name:"base-element-video",props:{elementInfo:{type:Object,required:!0}}});n("4b15");const fs=eo()(ss,[["render",ds],["__scopeId","data-v-1c831c75"]]);var bs=fs,ms={class:"element-content"};function ps(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconVolumeNotice");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"base-element-audio",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["createElementVNode"])("div",ms,[Object(j["createVNode"])(a,{class:"audio-icon",style:Object(j["normalizeStyle"])({fontSize:e.audioIconSize,color:e.elementInfo.color})},null,8,["style"])])],4)],4)}var vs=Object(j["defineComponent"])({name:"base-element-audio",props:{elementInfo:{type:Object,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){return Math.min(e.elementInfo.width,e.elementInfo.height)+"px"}));return{audioIconSize:t}}});n("dab5");const Os=eo()(vs,[["render",ps],["__scopeId","data-v-513e91c4"]]);var hs=Os,js=Object(j["defineComponent"])({name:"base-element",props:{elementInfo:{type:Object,required:!0},elementIndex:{type:Number,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){var t,n=(t={},Object(pe["a"])(t,Te.IMAGE,jd),Object(pe["a"])(t,Te.TEXT,kd),Object(pe["a"])(t,Te.SHAPE,Td),Object(pe["a"])(t,Te.LINE,Fd),Object(pe["a"])(t,Te.CHART,qd),Object(pe["a"])(t,Te.TABLE,ts),Object(pe["a"])(t,Te.LATEX,us),Object(pe["a"])(t,Te.VIDEO,bs),Object(pe["a"])(t,Te.AUDIO,hs),t);return n[e.elementInfo.type]||null}));return{currentElementComponent:t}}});const ys=eo()(js,[["render",md]]);var gs=ys,xs=Object(j["defineComponent"])({name:"thumbnail-slide",components:{ThumbnailElement:gs},props:{slide:{type:Object,required:!0},size:{type:Number,required:!0},visible:{type:Boolean,default:!0}},setup:function(e){var t=Object(y["c"])(ae()),n=t.viewportRatio,o=Object(j["computed"])((function(){return e.slide.background})),c=Ei(o),l=c.backgroundStyle,a=Object(j["computed"])((function(){return e.size/at}));return Object(j["provide"])(uo,a),{scale:a,backgroundStyle:l,VIEWPORT_SIZE:at,viewportRatio:n}}});n("a751");const Cs=eo()(xs,[["render",bd],["__scopeId","data-v-025539cf"]]);var ks=Cs,Es=Object(j["defineComponent"])({name:"link-dialog",emits:["close"],components:{ThumbnailSlide:ks},setup:function(e,t){var n=t.emit,o=Object(y["c"])(ue()),c=o.handleElement,l=Object(y["c"])(ae()),a=l.slides,r=Object(j["ref"])("web"),i=Object(j["ref"])(""),u=Object(j["ref"])("");u.value=a.value[0].id;var d=Object(j["computed"])((function(){return u.value&&a.value.find((function(e){return e.id===u.value}))||null})),s=[{key:"web",label:"网页链接"},{key:"slide",label:"幻灯片页面"}],f=Zu(),b=f.setLink;Object(j["onMounted"])((function(){var e;null!==(e=c.value)&&void 0!==e&&e.link&&("web"===c.value.link.type?i.value=c.value.link.target:"slide"===c.value.link.type&&(u.value=c.value.link.target),r.value=c.value.link.type)}));var m=function(){return n("close")},p=function(){var e={type:r.value,target:"web"===r.value?i.value:u.value};if(c.value){var t=b(c.value,e);t?m():i.value=""}};return{slides:a,tabs:s,type:r,address:i,slideId:u,selectedSlide:d,close:m,save:p}}});n("298f");const ws=eo()(Es,[["render",sd],["__scopeId","data-v-57530ef0"]]);var Ns=ws,Vs=Object(j["defineComponent"])({name:"editor-canvas",components:{EditableElement:bi,MouseSelection:Oi,ViewportBackground:Vi,AlignmentLine:Li,Ruler:zi,ElementCreateSelection:qi,MultiSelectOperate:nu,Operate:td,LinkDialog:Ns},setup:function(){var e=ue(),t=Object(y["c"])(e),n=t.activeElementIdList,o=t.activeGroupElementId,c=t.handleElementId,l=t.editorAreaFocus,a=t.showGridLines,r=t.showRuler,i=t.creatingElement,u=t.canvasScale,d=Object(y["c"])(ae()),s=d.currentSlide,f=Object(y["c"])(ke()),b=f.ctrlKeyState,m=f.spaceKeyState,p=Object(j["ref"])(),v=Object(j["ref"])([]),O=Object(j["ref"])(!1),h=function(){return O.value=!0};Object(j["watch"])(c,(function(){e.setActiveGroupElementId("")}));var g=Object(j["ref"])([]),x=function(){g.value=s.value?JSON.parse(JSON.stringify(s.value.elements)):[]};Object(j["watchEffect"])(x);var C=Object(j["ref"])(),k=bo(C),E=k.dragViewport,w=k.viewportStyles;po(C);var N=mo(g,p),V=N.mouseSelection,S=N.mouseSelectionVisible,B=N.mouseSelectionQuadrant,L=N.updateMouseSelection,T=ko(g,v,u),_=T.dragElement,M=Eo(g),D=M.dragLineElement,z=Co(g,_),A=z.selectElement,F=xo(g,v,u),R=F.scaleElement,P=F.scaleMultiElement,H=Oo(g,p),q=H.rotateElement,U=jt(),W=U.selectAllElement,G=vt(),X=G.deleteAllElements,Y=ht(),Z=Y.pasteElement,J=Et(),K=J.enterScreeningFromStart,Q=mt(),$=Q.updateSlideIndex;Object(j["onMounted"])((function(){n.value.length&&e.setActiveElementIdList([])}));var ee=function(t){e.setActiveElementIdList([]),m.value?E(t):L(t),l.value||e.setEditorareaFocus(!0),fo()},te=function(){l.value&&e.setEditorareaFocus(!1)},oe=wt(),ce=oe.scaleCanvas,le=Object(ne["throttle"])(ce,100,{leading:!0,trailing:!1}),re=Object(ne["throttle"])($,300,{leading:!0,trailing:!1}),ie=function(e){e.preventDefault(),b.value?e.deltaY>0?le("-"):e.deltaY<0&&le("+"):e.deltaY>0?re(I.DOWN):e.deltaY<0&&re(I.UP)},de=function(){e.setGridLinesState(!a.value)},se=function(){e.setRulerState(!r.value)},fe=wo(p),be=fe.insertElementFromCreateSelection,me=function(){return[{text:"粘贴",subText:"Ctrl + V",handler:Z},{text:"全选",subText:"Ctrl + A",handler:W},{text:"网格线",subText:a.value?"√":"",handler:de},{text:"标尺",subText:r.value?"√":"",handler:se},{text:"重置当前页",handler:X},{divider:!0},{text:"幻灯片放映",subText:"F5",handler:K}]};return Object(j["provide"])(uo,u),{elementList:g,activeElementIdList:n,handleElementId:c,activeGroupElementId:o,canvasRef:C,viewportRef:p,viewportStyles:w,canvasScale:u,mouseSelection:V,mouseSelectionVisible:S,mouseSelectionQuadrant:B,creatingElement:i,alignmentLines:v,linkDialogVisible:O,spaceKeyState:m,showRuler:r,openLinkDialog:h,handleClickBlankArea:ee,removeEditorAreaFocus:te,insertElementFromCreateSelection:be,selectElement:A,rotateElement:q,scaleElement:R,dragLineElement:D,scaleMultiElement:P,handleMousewheelCanvas:ie,contextmenus:me}}});n("92637");const Is=eo()(Vs,[["render",io],["__scopeId","data-v-743d966c"]]);var Ss=Is,Bs={class:"canvas-tool"},Ls={class:"left-handler"},Ts={class:"add-element-handler"},_s={class:"right-handler"},Ms={class:"viewport-size-preset"},Ds=["onClick"],zs={class:"text"};function As(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconBack"),r=Object(j["resolveComponent"])("Tooltip"),i=Object(j["resolveComponent"])("IconNext"),u=Object(j["resolveComponent"])("IconFontSize"),d=Object(j["resolveComponent"])("IconPicture"),s=Object(j["resolveComponent"])("FileInput"),f=Object(j["resolveComponent"])("ShapePool"),b=Object(j["resolveComponent"])("IconGraphicDesign"),m=Object(j["resolveComponent"])("Popover"),p=Object(j["resolveComponent"])("LinePool"),v=Object(j["resolveComponent"])("IconConnection"),O=Object(j["resolveComponent"])("ChartPool"),h=Object(j["resolveComponent"])("IconChartProportion"),y=Object(j["resolveComponent"])("TableGenerator"),g=Object(j["resolveComponent"])("IconInsertTable"),x=Object(j["resolveComponent"])("IconFormula"),C=Object(j["resolveComponent"])("MediaInput"),k=Object(j["resolveComponent"])("IconVideoTwo"),E=Object(j["resolveComponent"])("IconMinus"),w=Object(j["resolveComponent"])("IconPlus"),N=Object(j["resolveComponent"])("IconFullScreen"),V=Object(j["resolveComponent"])("LaTeXEditor"),I=Object(j["resolveComponent"])("Modal");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Bs,[Object(j["createElementVNode"])("div",Ls,[Object(j["createVNode"])(r,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"撤销"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(a,{class:Object(j["normalizeClass"])(["handler-item",{disable:!e.canUndo}]),onClick:t[0]||(t[0]=function(t){return e.undo()})},null,8,["class"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(r,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"重做"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{class:Object(j["normalizeClass"])(["handler-item",{disable:!e.canRedo}]),onClick:t[1]||(t[1]=function(t){return e.redo()})},null,8,["class"])]})),_:1},8,["mouseEnterDelay"])]),Object(j["createElementVNode"])("div",Ts,[Object(j["createVNode"])(r,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入文字"},{default:Object(j["withCtx"])((function(){var n;return[Object(j["createVNode"])(u,{class:Object(j["normalizeClass"])(["handler-item",{active:"text"===(null===(n=e.creatingElement)||void 0===n?void 0:n.type)}]),onClick:t[2]||(t[2]=function(t){return e.drawText()})},null,8,["class"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(s,{onChange:t[3]||(t[3]=function(t){return e.insertImageElement(t)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入图片"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(d,{class:"handler-item"})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(m,{trigger:"click",visible:e.shapePoolVisible,"onUpdate:visible":t[5]||(t[5]=function(t){return e.shapePoolVisible=t})},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f,{onSelect:t[4]||(t[4]=function(t){return e.drawShape(t)})})]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入形状"},{default:Object(j["withCtx"])((function(){var t;return[Object(j["createVNode"])(b,{class:Object(j["normalizeClass"])(["handler-item",{active:"shape"===(null===(t=e.creatingElement)||void 0===t?void 0:t.type)}])},null,8,["class"])]})),_:1},8,["mouseEnterDelay"])]})),_:1},8,["visible"]),Object(j["createVNode"])(m,{trigger:"click",visible:e.linePoolVisible,"onUpdate:visible":t[7]||(t[7]=function(t){return e.linePoolVisible=t})},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p,{onSelect:t[6]||(t[6]=function(t){return e.drawLine(t)})})]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入线条"},{default:Object(j["withCtx"])((function(){var t;return[Object(j["createVNode"])(v,{class:Object(j["normalizeClass"])(["handler-item",{active:"line"===(null===(t=e.creatingElement)||void 0===t?void 0:t.type)}])},null,8,["class"])]})),_:1},8,["mouseEnterDelay"])]})),_:1},8,["visible"]),Object(j["createVNode"])(m,{trigger:"click",visible:e.chartPoolVisible,"onUpdate:visible":t[9]||(t[9]=function(t){return e.chartPoolVisible=t})},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(O,{onSelect:t[8]||(t[8]=function(t){e.createChartElement(t),e.chartPoolVisible=!1})})]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入图表"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(h,{class:"handler-item"})]})),_:1},8,["mouseEnterDelay"])]})),_:1},8,["visible"]),Object(j["createVNode"])(m,{trigger:"click",visible:e.tableGeneratorVisible,"onUpdate:visible":t[12]||(t[12]=function(t){return e.tableGeneratorVisible=t})},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(y,{onClose:t[10]||(t[10]=function(t){return e.tableGeneratorVisible=!1}),onInsert:t[11]||(t[11]=function(t){var n=t.row,o=t.col;e.createTableElement(n,o),e.tableGeneratorVisible=!1})})]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入表格"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(g,{class:"handler-item"})]})),_:1},8,["mouseEnterDelay"])]})),_:1},8,["visible"]),Object(j["createVNode"])(r,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入公式"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x,{class:"handler-item",onClick:t[13]||(t[13]=function(t){return e.latexEditorVisible=!0})})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(m,{trigger:"click",visible:e.mediaInputVisible,"onUpdate:visible":t[17]||(t[17]=function(t){return e.mediaInputVisible=t})},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C,{onClose:t[14]||(t[14]=function(t){return e.mediaInputVisible=!1}),onInsertVideo:t[15]||(t[15]=function(t){e.createVideoElement(t),e.mediaInputVisible=!1}),onInsertAudio:t[16]||(t[16]=function(t){e.createAudioElement(t),e.mediaInputVisible=!1})})]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"插入音视频"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(k,{class:"handler-item"})]})),_:1},8,["mouseEnterDelay"])]})),_:1},8,["visible"])]),Object(j["createElementVNode"])("div",_s,[Object(j["createVNode"])(E,{class:"handler-item viewport-size",onClick:t[18]||(t[18]=function(t){return e.scaleCanvas("-")})}),Object(j["createVNode"])(m,{trigger:"click",visible:e.canvasScaleVisible,"onUpdate:visible":t[19]||(t[19]=function(t){return e.canvasScaleVisible=t})},{content:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",Ms,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.canvasScalePresetList,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"preset-item",key:t,onClick:function(n){return e.applyCanvasPresetScale(t)}},Object(j["toDisplayString"])(t)+"%",9,Ds)})),128))])]})),default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("span",zs,Object(j["toDisplayString"])(e.canvasScalePercentage),1)]})),_:1},8,["visible"]),Object(j["createVNode"])(w,{class:"handler-item viewport-size",onClick:t[20]||(t[20]=function(t){return e.scaleCanvas("+")})}),Object(j["createVNode"])(r,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"适应屏幕"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(N,{class:"handler-item viewport-size-adaptation",onClick:t[21]||(t[21]=function(t){return e.resetCanvas()})})]})),_:1},8,["mouseEnterDelay"])]),Object(j["createVNode"])(I,{visible:e.latexEditorVisible,"onUpdate:visible":t[24]||(t[24]=function(t){return e.latexEditorVisible=t}),footer:null,centered:"",width:880,destroyOnClose:""},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(V,{onClose:t[22]||(t[22]=function(t){return e.latexEditorVisible=!1}),onUpdate:t[23]||(t[23]=function(t){e.createLatexElement(t),e.latexEditorVisible=!1})})]})),_:1},8,["visible"])])}var Fs={class:"shape-pool"},Rs={class:"category-name"},Ps={class:"shape-list"},Hs=["onClick"],qs={overflow:"visible",width:"18",height:"18"},Us=["transform"],Ws=["fill","stroke","d"];function Gs(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Fs,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.shapeList,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"category",key:t.type},[Object(j["createElementVNode"])("div",Rs,Object(j["toDisplayString"])(t.type),1),Object(j["createElementVNode"])("div",Ps,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(t.children,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"shape-item",key:n},[Object(j["createElementVNode"])("div",{class:"shape-content",onClick:function(n){return e.selectShape(t)}},[(Object(j["openBlock"])(),Object(j["createElementBlock"])("svg",qs,[Object(j["createElementVNode"])("g",{transform:"scale(".concat(18/t.viewBox[0],", ").concat(18/t.viewBox[1],") translate(0,0) matrix(1,0,0,1,0,0)")},[Object(j["createElementVNode"])("path",{class:Object(j["normalizeClass"])(["shape-path",{outlined:t.outlined}]),"vector-effect":"non-scaling-stroke","stroke-linecap":"butt","stroke-miterlimit":"8",fill:t.outlined?"#999":"transparent",stroke:t.outlined?"transparent":"#999","stroke-width":"2",d:t.path},null,10,Ws)],8,Us)]))],8,Hs)])})),128))])])})),128))])}var Xs=Object(j["defineComponent"])({name:"shape-pool",emits:["select"],setup:function(e,t){var n=t.emit,o=it,c=function(e){n("select",e)};return{shapeList:o,selectShape:c}}});n("38ba8");const Ys=eo()(Xs,[["render",Gs],["__scopeId","data-v-f3479f82"]]);var Zs=Ys,Js={class:"line-pool"},Ks={class:"category-name"},Qs={class:"line-list"},$s=["onClick"],ef={overflow:"visible",width:"20",height:"20"},tf=["d","stroke-dasharray","marker-start","marker-end"];function nf(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("LinePointMarker");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Js,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.lineList,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"category",key:t.type},[Object(j["createElementVNode"])("div",Ks,Object(j["toDisplayString"])(t.type),1),Object(j["createElementVNode"])("div",Qs,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(t.children,(function(t,o){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"line-item",key:o},[Object(j["createElementVNode"])("div",{class:"line-content",onClick:function(n){return e.selectLine(t)}},[(Object(j["openBlock"])(),Object(j["createElementBlock"])("svg",ef,[Object(j["createElementVNode"])("defs",null,[t.points[0]?(Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:0,class:"line-marker",id:"preset-line-".concat(n,"-").concat(o),position:"start",type:t.points[0],color:"currentColor",baseSize:2},null,8,["id","type"])):Object(j["createCommentVNode"])("",!0),t.points[1]?(Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:1,class:"line-marker",id:"preset-line-".concat(n,"-").concat(o),position:"end",type:t.points[1],color:"currentColor",baseSize:2},null,8,["id","type"])):Object(j["createCommentVNode"])("",!0)]),Object(j["createElementVNode"])("path",{class:"line-path",d:t.path,stroke:"currentColor",fill:"none","stroke-width":"2","stroke-dasharray":"solid"===t.style?"0, 0":"4, 1","marker-start":t.points[0]?"url(#".concat("preset-line-".concat(n,"-").concat(o),"-",t.points[0],"-start)"):"","marker-end":t.points[1]?"url(#".concat("preset-line-".concat(n,"-").concat(o),"-",t.points[1],"-end)"):""},null,8,tf)]))],8,$s)])})),128))])])})),128))])}var of=[{type:"直线",children:[{path:"M 0 0 L 20 20",style:"solid",points:["",""]},{path:"M 0 0 L 20 20",style:"dashed",points:["",""]},{path:"M 0 0 L 20 20",style:"solid",points:["","arrow"]},{path:"M 0 0 L 20 20",style:"dashed",points:["","arrow"]},{path:"M 0 0 L 20 20",style:"solid",points:["","dot"]}]},{type:"折线、曲线",children:[{path:"M 0 0 L 0 20 L 20 20",style:"solid",points:["","arrow"],isBroken:!0},{path:"M 0 0 Q 0 20 20 20",style:"solid",points:["","arrow"],isCurve:!0},{path:"M 0 0 C 20 0 0 20 20 20",style:"solid",points:["","arrow"],isCubic:!0}]}],cf=Object(j["defineComponent"])({name:"line-pool",emits:["select"],components:{LinePointMarker:fa},setup:function(e,t){var n=t.emit,o=of,c=function(e){n("select",e)};return{lineList:o,selectLine:c}}});n("fc12");const lf=eo()(cf,[["render",nf],["__scopeId","data-v-7fa1d412"]]);var af=lf,rf={class:"chart-pool"},uf=["onClick"];function df(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconChartLine"),r=Object(j["resolveComponent"])("IconChartHistogram"),i=Object(j["resolveComponent"])("IconChartPie"),u=Object(j["resolveComponent"])("IconChartHistogramOne"),d=Object(j["resolveComponent"])("IconChartLineArea"),s=Object(j["resolveComponent"])("IconChartRing"),f=Object(j["resolveComponent"])("IconChartScatter");return Object(j["openBlock"])(),Object(j["createElementBlock"])("ul",rf,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.chartList,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("li",{class:"chart-item",key:n},[Object(j["createElementVNode"])("div",{class:"chart-content",onClick:function(n){return e.selectChart(t)}},["line"===t?(Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:0,size:"24"})):"bar"===t?(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:1,size:"24"})):"pie"===t?(Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:2,size:"24"})):"horizontalBar"===t?(Object(j["openBlock"])(),Object(j["createBlock"])(u,{key:3,size:"24"})):"area"===t?(Object(j["openBlock"])(),Object(j["createBlock"])(d,{key:4,size:"24"})):"ring"===t?(Object(j["openBlock"])(),Object(j["createBlock"])(s,{key:5,size:"24"})):"scatter"===t?(Object(j["openBlock"])(),Object(j["createBlock"])(f,{key:6,size:"24"})):Object(j["createCommentVNode"])("",!0)],8,uf)])})),128))])}var sf=Object(j["defineComponent"])({name:"chart-pool",emits:["select"],setup:function(e,t){var n=t.emit,o=["bar","horizontalBar","line","area","scatter","pie","ring"],c=function(e){n("select",e)};return{chartList:o,selectChart:c}}});n("d4d8");const ff=eo()(sf,[["render",df],["__scopeId","data-v-64ca421e"]]);var bf=ff,mf=function(e){return Object(j["pushScopeId"])("data-v-e325ce98"),e=e(),Object(j["popScopeId"])(),e},pf={class:"table-generator"},vf={class:"title"},Of={class:"lef"},hf=["onMouseenter"],jf={key:1,class:"custom"},yf={class:"row"},gf=mf((function(){return Object(j["createElementVNode"])("div",{class:"label",style:{flex:"1"}},"行数：",-1)})),xf={class:"row"},Cf=mf((function(){return Object(j["createElementVNode"])("div",{class:"label",style:{flex:"1"}},"列数：",-1)})),kf={class:"btns"},Ef=Object(j["createTextVNode"])("取消"),wf=Object(j["createTextVNode"])("确认");function Nf(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("InputNumber"),r=Object(j["resolveComponent"])("Button");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",pf,[Object(j["createElementVNode"])("div",vf,[Object(j["createElementVNode"])("div",Of,"表格 "+Object(j["toDisplayString"])(e.endCell.length?"".concat(e.endCell[0]," x ").concat(e.endCell[1]):""),1),Object(j["createElementVNode"])("div",{class:"right",onClick:t[0]||(t[0]=function(t){return e.isCustom=!e.isCustom})},Object(j["toDisplayString"])(e.isCustom?"返回":"自定义"),1)]),e.isCustom?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",jf,[Object(j["createElementVNode"])("div",yf,[gf,Object(j["createVNode"])(a,{min:1,max:20,value:e.customRow,"onUpdate:value":t[3]||(t[3]=function(t){return e.customRow=t}),style:{flex:"3"}},null,8,["value"])]),Object(j["createElementVNode"])("div",xf,[Cf,Object(j["createVNode"])(a,{min:1,max:20,value:e.customCol,"onUpdate:value":t[4]||(t[4]=function(t){return e.customCol=t}),style:{flex:"3"}},null,8,["value"])]),Object(j["createElementVNode"])("div",kf,[Object(j["createVNode"])(r,{class:"btn",onClick:t[5]||(t[5]=function(t){return e.close()})},{default:Object(j["withCtx"])((function(){return[Ef]})),_:1}),Object(j["createVNode"])(r,{class:"btn",type:"primary",onClick:t[6]||(t[6]=function(t){return e.insertCustomTable()})},{default:Object(j["withCtx"])((function(){return[wf]})),_:1})])])):(Object(j["openBlock"])(),Object(j["createElementBlock"])("table",{key:0,onMouseleave:t[1]||(t[1]=function(t){return e.endCell=[]}),onClick:t[2]||(t[2]=function(t){return e.handleClickTable()})},[Object(j["createElementVNode"])("tbody",null,[(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(10,(function(t){return Object(j["createElementVNode"])("tr",{key:t},[(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(10,(function(n){return Object(j["createElementVNode"])("td",{onMouseenter:function(o){return e.endCell=[t,n]},key:n},[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["cell",{active:e.endCell.length&&t<=e.endCell[0]&&n<=e.endCell[1]}])},null,2)],40,hf)})),64))])})),64))])],32))])}var Vf=Object(j["defineComponent"])({name:"table-generator",emits:["insert","close"],setup:function(e,t){var n=t.emit,o=Object(j["ref"])([]),c=Object(j["ref"])(3),l=Object(j["ref"])(3),a=Object(j["ref"])(!1),r=function(){if(o.value.length){var e=Object(ve["a"])(o.value,2),t=e[0],c=e[1];n("insert",{row:t,col:c})}},i=function(){return c.value<1||c.value>20||l.value<1||l.value>20?De["a"].warning("行数/列数必须在0~20之间！"):(n("insert",{row:c.value,col:l.value}),void(a.value=!1))},u=function(){n("close"),a.value=!1};return{endCell:o,customRow:c,customCol:l,handleClickTable:r,insertCustomTable:i,isCustom:a,close:u}}});n("5a68c");const If=eo()(Vf,[["render",Nf],["__scopeId","data-v-e325ce98"]]);var Sf=If,Bf={class:"media-input"},Lf={class:"tabs"},Tf=["onClick"],_f={class:"btns"},Mf=Object(j["createTextVNode"])("取消"),Df=Object(j["createTextVNode"])("确认"),zf={class:"btns"},Af=Object(j["createTextVNode"])("取消"),Ff=Object(j["createTextVNode"])("确认");function Rf(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("Input"),r=Object(j["resolveComponent"])("Button");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Bf,[Object(j["createElementVNode"])("div",Lf,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.tabs,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["tab",{active:e.type===t.key}]),key:t.key,onClick:function(n){return e.type=t.key}},Object(j["toDisplayString"])(t.label),11,Tf)})),128))]),"video"===e.type?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[Object(j["createVNode"])(a,{value:e.videoSrc,"onUpdate:value":t[0]||(t[0]=function(t){return e.videoSrc=t}),placeholder:"请输入视频地址，e.g. https://xxx.mp4"},null,8,["value"]),Object(j["createElementVNode"])("div",_f,[Object(j["createVNode"])(r,{onClick:t[1]||(t[1]=function(t){return e.close()}),style:{"margin-right":"10px"}},{default:Object(j["withCtx"])((function(){return[Mf]})),_:1}),Object(j["createVNode"])(r,{type:"primary",onClick:t[2]||(t[2]=function(t){return e.insertVideo()})},{default:Object(j["withCtx"])((function(){return[Df]})),_:1})])],64)):Object(j["createCommentVNode"])("",!0),"audio"===e.type?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:1},[Object(j["createVNode"])(a,{value:e.audioSrc,"onUpdate:value":t[3]||(t[3]=function(t){return e.audioSrc=t}),placeholder:"请输入音频地址，e.g. https://xxx.mp3"},null,8,["value"]),Object(j["createElementVNode"])("div",zf,[Object(j["createVNode"])(r,{onClick:t[4]||(t[4]=function(t){return e.close()}),style:{"margin-right":"10px"}},{default:Object(j["withCtx"])((function(){return[Af]})),_:1}),Object(j["createVNode"])(r,{type:"primary",onClick:t[5]||(t[5]=function(t){return e.insertAudio()})},{default:Object(j["withCtx"])((function(){return[Ff]})),_:1})])],64)):Object(j["createCommentVNode"])("",!0)])}var Pf=Object(j["defineComponent"])({name:"media-input",emits:["insertVideo","insertAudio","close"],setup:function(e,t){var n=t.emit,o=Object(j["ref"])("video"),c=Object(j["ref"])("https://mazwai.com/videvo_files/video/free/2019-01/small_watermarked/181004_04_Dolphins-Whale_06_preview.webm"),l=Object(j["ref"])("https://freesound.org/data/previews/614/614107_11861866-lq.mp3"),a=[{key:"video",label:"视频"},{key:"audio",label:"音频"}],r=function(){if(!c.value)return De["a"].error("请先输入正确的视频地址");n("insertVideo",c.value)},i=function(){if(!l.value)return De["a"].error("请先输入正确的音频地址");n("insertAudio",l.value)},u=function(){return n("close")};return{type:o,videoSrc:c,audioSrc:l,tabs:a,insertVideo:r,insertAudio:i,close:u}}});n("81ab");const Hf=eo()(Pf,[["render",Rf],["__scopeId","data-v-ec37f828"]]);var qf=Hf,Uf={class:"latex-editor"},Wf={class:"container"},Gf={class:"left"},Xf={class:"input-area"},Yf={class:"preview"},Zf={key:0,class:"placeholder"},Jf={key:1,class:"preview-content"},Kf={class:"right"},Qf={class:"tabs"},$f=["onClick"],eb={class:"content"},tb={key:0,class:"symbol"},nb={class:"symbol-tabs"},ob=["onClick"],cb={class:"symbol-pool"},lb=["onClick"],ab={key:1,class:"formula"},rb={class:"formula-title"},ib=["onClick"],ub={class:"footer"},db=Object(j["createTextVNode"])("取消"),sb=Object(j["createTextVNode"])("确定");function fb(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("TextArea"),r=Object(j["resolveComponent"])("FormulaContent"),i=Object(j["resolveComponent"])("SymbolContent"),u=Object(j["resolveComponent"])("Button");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Uf,[Object(j["createElementVNode"])("div",Wf,[Object(j["createElementVNode"])("div",Gf,[Object(j["createElementVNode"])("div",Xf,[Object(j["createVNode"])(a,{value:e.latex,"onUpdate:value":t[0]||(t[0]=function(t){return e.latex=t}),placeholder:"输入 LaTeX 公式",ref:"textAreaRef"},null,8,["value"])]),Object(j["createElementVNode"])("div",Yf,[e.latex?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Jf,[Object(j["createVNode"])(r,{width:518,height:138,latex:e.latex},null,8,["latex"])])):(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Zf,"公式预览"))])]),Object(j["createElementVNode"])("div",Kf,[Object(j["createElementVNode"])("div",Qf,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.tabs,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["tab",{active:t.value===e.toolbarState}]),key:t.value,onClick:function(n){return e.toolbarState=t.value}},Object(j["toDisplayString"])(t.label),11,$f)})),128))]),Object(j["createElementVNode"])("div",eb,["symbol"===e.toolbarState?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",tb,[Object(j["createElementVNode"])("div",nb,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.symbolList,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["symbol-tab",{active:e.selectedSymbolKey===t.type}]),key:t.type,onClick:function(n){return e.selectedSymbolKey=t.type}},Object(j["toDisplayString"])(t.label),11,ob)})),128))]),Object(j["createElementVNode"])("div",cb,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.symbolPool,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"symbol-item",key:t.latex,onClick:function(n){return e.insertSymbol(t.latex)}},[Object(j["createVNode"])(i,{latex:t.latex},null,8,["latex"])],8,lb)})),128))])])):(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",ab,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.formulaList,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"formula-item",key:t.label},[Object(j["createElementVNode"])("div",rb,Object(j["toDisplayString"])(t.label),1),Object(j["createElementVNode"])("div",{class:"formula-item-content",onClick:function(n){return e.latex=t.latex}},[Object(j["createVNode"])(r,{width:236,height:60,latex:t.latex},null,8,["latex"])],8,ib)])})),128))]))])])]),Object(j["createElementVNode"])("div",ub,[Object(j["createVNode"])(u,{class:"btn",onClick:t[1]||(t[1]=function(t){return e.close()})},{default:Object(j["withCtx"])((function(){return[db]})),_:1}),Object(j["createVNode"])(u,{class:"btn",type:"primary",onClick:t[2]||(t[2]=function(t){return e.update()})},{default:Object(j["withCtx"])((function(){return[sb]})),_:1})])])}var bb=n("e5ca");bb["a"].SUB_SUP_SCALE=.5;var mb=[{label:"高斯公式",latex:"\\int\\int\\int _ { \\Omega } \\left( \\frac { \\partial {P} } { \\partial {x} } + \\frac { \\partial {Q} } { \\partial {y} } + \\frac { \\partial {R} }{ \\partial {z} } \\right) \\mathrm { d } V = \\oint _ { \\partial \\Omega } ( P \\cos \\alpha + Q \\cos \\beta + R \\cos \\gamma ) \\mathrm{ d} S"},{label:"傅里叶级数",latex:"f(x) = \\frac {a_0} 2 + \\sum_{n = 1}^\\infty {({a_n}\\cos {nx} + {b_n}\\sin {nx})}"},{label:"泰勒展开式",latex:"e ^ { x } = 1 + \\frac { x } { 1 ! } + \\frac { x ^ { 2 } } { 2 ! } + \\frac { x ^ { 3 } } { 3 ! } + ... , \\quad - \\infty < x < \\infty"},{label:"定积分",latex:"\\lim_ { n \\rightarrow + \\infty } \\sum _ { i = 1 } ^ { n } f \\left[ a + \\frac { i } { n } ( b - a ) \\right] \\frac { b - a } { n } = \\int _ { a } ^ { b } f ( x ) dx"},{label:"三角恒等式1",latex:"\\sin \\alpha \\pm \\sin \\beta = 2 \\sin \\frac { 1 } { 2 } ( \\alpha \\pm \\beta ) \\cos \\frac { 1 } { 2 } ( \\alpha \\mp \\beta )"},{label:"三角恒等式2",latex:"\\cos \\alpha + \\cos \\beta = 2 \\cos \\frac { 1 } { 2 } ( \\alpha + \\beta ) \\cos \\frac { 1 } { 2 } ( \\alpha - \\beta )"},{label:"和的展开式",latex:"( 1 + x ) ^ { n } = 1 + \\frac { n x } { 1 ! } + \\frac { n ( n - 1 ) x ^ { 2 } } { 2 ! } + ..."},{label:"欧拉公式",latex:" e^{ix} = \\cos {x} + i\\sin {x}"},{label:"贝努利方程",latex:"\\frac {dy} {dx} + P(x)y = Q(x) y^n ({n} \\not= {0,1})"},{label:"全微分方程",latex:"du(x,y) = P(x,y)dx + Q(x,y)dy = 0"},{label:"非齐次方程",latex:"y = (\\int Q(x) e^{\\int {P(x)dx}}dx + C)e^{-\\int {P(x)dx}}"},{label:"柯西中值定理",latex:"\\frac{{f(b) - f(a)}}{{F(b) - F(a)}} = \\frac{{f'(\\xi )}}{{F'(\\xi )}}"},{label:"拉格朗日中值定理",latex:"f(b) - f(a) = f'(\\xi )(b - a)"},{label:"导数公式",latex:"(\\arcsin x)' = \\frac{1}{{\\sqrt {1 - x^2} }}"},{label:"三角函数积分",latex:"\\int {tgxdx = - \\ln \\left| {\\cos x} \\right| + C}"},{label:"二次曲面",latex:"\\frac{{{x^2}}}{{{a^2}}} + \\frac{{{y^2}}}{{{b^2}}} - \\frac{{{z^2}}}{{{c^2}}} = 1"},{label:"二阶微分",latex:"\\frac {{d^2}y} {dx^2} + P(x) \\frac {dy} {dx} + Q(x)y = f(x)"},{label:"方向导数",latex:"\\frac{{\\partial f}}{{\\partial l}} = \\frac{{\\partial f}}{{\\partial x}}\\cos \\phi + \\frac{{\\partial f}}{{\\partial y}}\\sin \\phi"}],pb=[{type:"operators",label:"数学",children:[{latex:"\\cdot"},{latex:"\\pm"},{latex:"\\mp"},{latex:"+"},{latex:"-"},{latex:"\\times"},{latex:"\\div"},{latex:"<"},{latex:">"},{latex:"="},{latex:"\\neq\\ne"},{latex:"\\leqq"},{latex:"\\geqq"},{latex:"\\leq"},{latex:"\\geq"},{latex:"\\propto"},{latex:"\\sim"},{latex:"\\equiv"},{latex:"\\dagger"},{latex:"\\ddagger"},{latex:"\\ell"},{latex:"\\#"},{latex:"\\$"},{latex:"\\&"},{latex:"\\%"},{latex:"\\langle\\rangle"},{latex:"()"},{latex:"[]"},{latex:"\\{\\}"},{latex:"||"},{latex:"\\|"},{latex:"\\exists"},{latex:"\\in"},{latex:"\\subset"},{latex:"\\supset"},{latex:"\\cup"},{latex:"\\cap"},{latex:"\\infty"},{latex:"\\partial"},{latex:"\\nabla"},{latex:"\\aleph"},{latex:"\\wp"},{latex:"\\therefore"},{latex:"\\mid"},{latex:"\\sum"},{latex:"\\prod"},{latex:"\\bigoplus"},{latex:"\\bigodot"},{latex:"\\int"},{latex:"\\oint"},{latex:"\\oplus"},{latex:"\\odot"},{latex:"\\perp"},{latex:"\\angle"},{latex:"\\triangle"},{latex:"\\Box"},{latex:"\\rightarrow"},{latex:"\\to"},{latex:"\\leftarrow"},{latex:"\\gets"},{latex:"\\circ"},{latex:"\\bigcirc"},{latex:"\\bullet"},{latex:"\\star"},{latex:"\\diamond"},{latex:"\\ast"},{latex:","},{latex:"."},{latex:";"},{latex:"!"}]},{type:"group",label:"组合",children:[{latex:"\\frac{a}{b}"},{latex:"\\frac{dx}{dx}"},{latex:"\\frac{\\partial a}{\\partial b}"},{latex:"\\sqrt{x}"},{latex:"\\sqrt[n]{x}"},{latex:"x^{n}"},{latex:"x_{n}"},{latex:"x_a^b"},{latex:"\\int_{a}^{b}"},{latex:"\\oint_a^b"},{latex:"\\lim_{a \\rightarrow b}"},{latex:"\\prod_a^b"},{latex:"\\sum_a^b"},{latex:"\\left(\\begin{array}a \\\\ b\\end{array}\\right)"},{latex:"\\begin{bmatrix}a & b \\\\ c & d \\end{bmatrix}"},{latex:"\\begin{cases}a & x = 0 \\\\ b & x > 0\\end{cases}"},{latex:"\\hat{a}"},{latex:"\\breve{a}"},{latex:"\\acute{a}"},{latex:"\\grave{a}"},{latex:"\\tilde{a}"},{latex:"\\bar{a}"},{latex:"\\vec{a}"},{latex:"\\underline{a}"},{latex:"\\overline{a}"},{latex:"\\widehat{ab}"},{latex:"\\overleftarrow{ab}"},{latex:"\\overrightarrow{ab}"}]},{type:"verbatim",label:"函数",children:[{latex:"\\log"},{latex:"\\ln"},{latex:"\\exp"},{latex:"\\mod"},{latex:"\\lim"},{latex:"\\sin"},{latex:"\\cos"},{latex:"\\tan"},{latex:"\\csc"},{latex:"\\sec"},{latex:"\\cot"},{latex:"\\sinh"},{latex:"\\cosh"},{latex:"\\tanh"},{latex:"\\csch"},{latex:"\\sech"},{latex:"\\coth"},{latex:"\\arcsin"},{latex:"\\arccos"},{latex:"\\arctan"},{latex:"\\arccsc"},{latex:"\\arcsec"},{latex:"\\arccot"}]},{type:"greek",label:"希腊字母",children:[{latex:"\\alpha"},{latex:"\\beta"},{latex:"\\gamma"},{latex:"\\delta"},{latex:"\\varepsilon"},{latex:"\\zeta"},{latex:"\\eta"},{latex:"\\vartheta"},{latex:"\\iota"},{latex:"\\kappa"},{latex:"\\lambda"},{latex:"\\mu"},{latex:"\\nu"},{latex:"\\xi"},{latex:"\\omicron"},{latex:"\\pi"},{latex:"\\rho"},{latex:"\\sigma"},{latex:"\\tau"},{latex:"\\upsilon"},{latex:"\\varphi"},{latex:"\\chi"},{latex:"\\psi"},{latex:"\\omega"},{latex:"\\epsilon"},{latex:"\\theta"},{latex:"\\phi"},{latex:"\\varsigma"},{latex:"\\Alpha"},{latex:"\\Beta"},{latex:"\\Gamma"},{latex:"\\Delta"},{latex:"\\Epsilon"},{latex:"\\Zeta"},{latex:"\\Eta"},{latex:"\\Theta"},{latex:"\\Iota"},{latex:"\\Kappa"},{latex:"\\Lambda"},{latex:"\\Mu"},{latex:"\\Nu"},{latex:"\\Xi"},{latex:"\\Omicron"},{latex:"\\Pi"},{latex:"\\Rho"},{latex:"\\Sigma"},{latex:"\\Tau"},{latex:"\\Upsilon"},{latex:"\\Phi"},{latex:"\\Chi"},{latex:"\\Psi"},{latex:"\\Omega"}]}],vb=["width","height"],Ob=["transform"],hb=["d"];function jb(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("svg",{class:"formula-content",overflow:"visible",width:e.box.w+32,height:e.box.h+32,stroke:"#000","stroke-width":"1",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[Object(j["createElementVNode"])("g",{transform:"scale(".concat(e.scale,", ").concat(e.scale,") translate(0,0) matrix(1,0,0,1,0,0)"),"transform-origin":"0 50%"},[Object(j["createElementVNode"])("path",{d:e.pathd},null,8,hb)],8,Ob)],8,vb)}var yb=Object(j["defineComponent"])({name:"formula-content",props:{latex:{type:String,required:!0},width:{type:Number,required:!0},height:{type:Number,required:!0}},setup:function(e){var t=Object(j["ref"])({x:0,y:0,w:0,h:0}),n=Object(j["ref"])("");Object(j["watch"])((function(){return e.latex}),(function(){var o=new bb["b"](e.latex);n.value=o.pathd({}),t.value=o.box({})}),{immediate:!0});var o=Object(j["computed"])((function(){var n=t.value.w+32,o=t.value.h+32;return n>e.width||o>e.height?n/o>e.width/e.height?e.width/n:e.height/o:1}));return{box:t,pathd:n,scale:o}}});n("edc2");const gb=eo()(yb,[["render",jb],["__scopeId","data-v-cf0ca630"]]);var xb=gb,Cb=["innerHTML"];function kb(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"symbol-content",innerHTML:e.svg},null,8,Cb)}var Eb=Object(j["defineComponent"])({name:"symbol-content",props:{latex:{type:String,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){var t=new bb["b"](e.latex);return t.svg({SCALE_X:10,SCALE_Y:10})}));return{svg:t}}});const wb=eo()(Eb,[["render",kb]]);var Nb=wb,Vb=[{label:"常用符号",value:"symbol"},{label:"预置公式",value:"formula"}],Ib=Object(j["defineComponent"])({name:"latex-editor",emits:["update","close"],components:{FormulaContent:xb,SymbolContent:Nb},props:{value:{type:String,default:""}},setup:function(e,t){var n=t.emit,o=Object(j["ref"])(""),c=Object(j["ref"])("symbol"),l=Object(j["ref"])(),a=Object(j["ref"])(pb[0].type),r=Object(j["computed"])((function(){var e=pb.find((function(e){return e.type===a.value}));return(null===e||void 0===e?void 0:e.children)||[]}));Object(j["onMounted"])((function(){e.value&&(o.value=e.value)}));var i=function(){if(o.value){var e=new bb["b"](o.value),t=e.pathd({}),c=e.box({});n("update",{latex:o.value,path:t,w:c.w+32,h:c.h+32})}},u=function(){return n("close")},d=function(e){l.value&&(l.value.focus(),document.execCommand("insertText",!1,e))};return{tabs:Vb,latex:o,toolbarState:c,selectedSymbolKey:a,formulaList:mb,symbolList:pb,symbolPool:r,textAreaRef:l,update:i,close:u,insertSymbol:d}}});n("cf7d");const Sb=eo()(Ib,[["render",fb],["__scopeId","data-v-2ca988e7"]]);var Bb=Sb,Lb=Object(j["defineComponent"])({name:"canvas-tool",components:{ShapePool:Zs,LinePool:af,ChartPool:bf,TableGenerator:Sf,MediaInput:qf,LaTeXEditor:Bb},setup:function(){var e=ue(),t=Object(y["c"])(e),n=t.creatingElement,o=Object(y["c"])(Ce()),c=o.canUndo,l=o.canRedo,a=dt(),r=a.redo,i=a.undo,u=wt(),d=u.scaleCanvas,s=u.setCanvasScalePercentage,f=u.resetCanvas,b=u.canvasScalePercentage,m=[200,150,100,80,50],p=Object(j["ref"])(!1),v=function(e){s(e),p.value=!1},O=st(),h=O.createImageElement,g=O.createChartElement,x=O.createTableElement,C=O.createLatexElement,k=O.createVideoElement,E=O.createAudioElement,w=function(e){var t=e[0];t&&lt(t).then((function(e){return h(e)}))},N=Object(j["ref"])(!1),V=Object(j["ref"])(!1),I=Object(j["ref"])(!1),S=Object(j["ref"])(!1),B=Object(j["ref"])(!1),L=Object(j["ref"])(!1),T=function(){e.setCreatingElement({type:"text"})},_=function(t){e.setCreatingElement({type:"shape",data:t}),N.value=!1},M=function(t){e.setCreatingElement({type:"line",data:t}),V.value=!1};return{scaleCanvas:d,resetCanvas:f,canvasScalePercentage:b,canvasScaleVisible:p,canvasScalePresetList:m,applyCanvasPresetScale:v,canUndo:c,canRedo:l,redo:r,undo:i,insertImageElement:w,shapePoolVisible:N,linePoolVisible:V,chartPoolVisible:I,tableGeneratorVisible:S,mediaInputVisible:B,latexEditorVisible:L,creatingElement:n,drawText:T,drawShape:_,drawLine:M,createChartElement:g,createTableElement:x,createLatexElement:C,createVideoElement:k,createAudioElement:E}}});n("fcf0");const Tb=eo()(Lb,[["render",As],["__scopeId","data-v-e9ddaac8"]]);var _b=Tb,Mb={class:"add-slide"},Db=Object(j["createTextVNode"])("添加幻灯片"),zb={class:"select-btn"},Ab=["onMousedown"];function Fb(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconPlus"),r=Object(j["resolveComponent"])("LayoutPool"),i=Object(j["resolveComponent"])("IconDown"),u=Object(j["resolveComponent"])("Popover"),d=Object(j["resolveComponent"])("ThumbnailSlide"),s=Object(j["resolveComponent"])("Draggable"),f=Object(j["resolveDirective"])("contextmenu"),b=Object(j["resolveDirective"])("click-outside");return Object(j["withDirectives"])((Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"thumbnails",onMousedown:t[3]||(t[3]=function(){return e.setThumbnailsFocus(!0)})},[Object(j["createElementVNode"])("div",Mb,[Object(j["createElementVNode"])("div",{class:"btn",onClick:t[0]||(t[0]=function(t){return e.createSlide()})},[Object(j["createVNode"])(a,{class:"icon"}),Db]),Object(j["createVNode"])(u,{trigger:"click",placement:"bottomLeft",visible:e.presetLayoutPopoverVisible,"onUpdate:visible":t[2]||(t[2]=function(t){return e.presetLayoutPopoverVisible=t})},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{onSelect:t[1]||(t[1]=function(t){e.createSlideByTemplate(t),e.presetLayoutPopoverVisible=!1})})]})),default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",zb,[Object(j["createVNode"])(i)])]})),_:1},8,["visible"])]),Object(j["createVNode"])(s,{class:"thumbnail-list",modelValue:e.slides,animation:300,scroll:!0,scrollSensitivity:50,setData:null,onEnd:e.handleDragEnd,itemKey:"id"},{item:Object(j["withCtx"])((function(t){var n=t.element,o=t.index;return[Object(j["withDirectives"])((Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["thumbnail-item",{active:e.slideIndex===o,selected:e.selectedSlidesIndex.includes(o)}]),onMousedown:function(t){return e.handleClickSlideThumbnail(t,o)}},[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["label",{"offset-left":o>=99}])},Object(j["toDisplayString"])(e.fillDigit(o+1,2)),3),Object(j["createVNode"])(d,{class:"thumbnail",slide:n,size:120,visible:o<e.slidesLoadLimit},null,8,["slide","visible"])],42,Ab)),[[f,e.contextmenusThumbnailItem]])]})),_:1},8,["modelValue","onEnd"])],32)),[[b,function(){return e.setThumbnailsFocus(!1)}],[f,e.contextmenusThumbnails]])}var Rb=function(){var e=Object(y["c"])(ae()),t=e.slides,n=Object(j["ref"])(null),o=Object(j["ref"])(50),c=function e(){t.value.length>o.value?n.value=setTimeout((function(){o.value=o.value+20,e()}),600):o.value=9999};return Object(j["onMounted"])(c),Object(j["onUnmounted"])((function(){n.value&&clearTimeout(n.value)})),{slidesLoadLimit:o}},Pb=n("b76a"),Hb=n.n(Pb),qb={class:"layout-pool"},Ub=["onClick"];function Wb(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("ThumbnailSlide");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",qb,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.layouts,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"layout-item",key:t.id,onClick:function(n){return e.selectSlideTemplate(t)}},[Object(j["createVNode"])(a,{class:"thumbnail",slide:t,size:180},null,8,["slide"])],8,Ub)})),128))])}var Gb=Object(j["defineComponent"])({name:"layout-pool",emits:["select"],components:{ThumbnailSlide:ks},setup:function(e,t){var n=t.emit,o=Object(y["c"])(ae()),c=o.layouts,l=function(e){n("select",e)};return{layouts:c,selectSlideTemplate:l}}});n("e7b8");const Xb=eo()(Gb,[["render",Wb],["__scopeId","data-v-741b366e"]]);var Yb=Xb,Zb=Object(j["defineComponent"])({name:"thumbnails",components:{Draggable:Hb.a,ThumbnailSlide:ks,LayoutPool:Yb},setup:function(){var e=ue(),t=ae(),n=ke(),o=Object(y["c"])(e),c=o.selectedSlidesIndex,l=o.thumbnailsFocus,a=Object(y["c"])(t),r=a.slides,i=a.slideIndex,u=Object(y["c"])(n),d=u.ctrlKeyState,s=u.shiftKeyState,f=Rb(),b=f.slidesLoadLimit,m=Object(j["computed"])((function(){return[].concat(Object($["a"])(c.value),[i.value])})),p=Object(j["ref"])(!1),v=mt(),O=v.copySlide,h=v.pasteSlide,g=v.createSlide,x=v.createSlideByTemplate,C=v.copyAndPasteSlide,k=v.deleteSlide,E=v.cutSlide,w=v.selectAllSlide,N=function(n){e.setActiveElementIdList([]),i.value!==n&&t.updateSlideIndex(n)},V=function(t,n){var o=m.value.length>1;if(!o||!m.value.includes(n)||0===t.button)if(d.value)if(i.value===n){if(!o)return;var c=m.value.filter((function(e){return e!==n}));e.updateSelectedSlidesIndex(c),N(m.value[0])}else if(m.value.includes(n)){var l=m.value.filter((function(e){return e!==n}));e.updateSelectedSlidesIndex(l)}else{var a=[].concat(Object($["a"])(m.value),[n]);e.updateSelectedSlidesIndex(a),N(n)}else if(s.value){if(i.value===n&&!o)return;var r=Math.min.apply(Math,Object($["a"])(m.value)),u=n;n<r&&(u=Math.max.apply(Math,Object($["a"])(m.value)),r=n);for(var f=[],b=r;b<=u;b++)f.push(b);e.updateSelectedSlidesIndex(f),N(n)}else e.updateSelectedSlidesIndex([]),N(n)},I=function(t){l.value!==t&&(e.setThumbnailsFocus(t),t||e.updateSelectedSlidesIndex([]))},S=function(e){var n=e.newIndex,o=e.oldIndex;if(o!==n){var c=JSON.parse(JSON.stringify(r.value)),l=c[o];c.splice(o,1),c.splice(n,0,l),t.setSlides(c),t.updateSlideIndex(n)}},B=Et(),L=B.enterScreening,T=B.enterScreeningFromStart,_=function(){return[{text:"粘贴",subText:"Ctrl + V",handler:h},{text:"全选",subText:"Ctrl + A",handler:w},{text:"新建页面",subText:"Enter",handler:g},{text:"幻灯片放映",subText:"F5",handler:T}]},M=function(){return[{text:"剪切",subText:"Ctrl + X",handler:E},{text:"复制",subText:"Ctrl + C",handler:O},{text:"粘贴",subText:"Ctrl + V",handler:h},{text:"全选",subText:"Ctrl + A",handler:w},{divider:!0},{text:"新建页面",subText:"Enter",handler:g},{text:"复制页面",subText:"Ctrl + D",handler:C},{text:"删除页面",subText:"Delete",handler:function(){return k()}},{divider:!0},{text:"从当前放映",subText:"Shift + F5",handler:L}]};return{slides:r,slideIndex:i,selectedSlidesIndex:m,presetLayoutPopoverVisible:p,slidesLoadLimit:b,createSlide:g,createSlideByTemplate:x,setThumbnailsFocus:I,handleClickSlideThumbnail:V,contextmenusThumbnails:_,contextmenusThumbnailItem:M,fillDigit:we,handleDragEnd:S}}});n("fb37");const Jb=eo()(Zb,[["render",Fb],["__scopeId","data-v-17d8eefc"]]);var Kb=Jb,Qb={class:"toolbar"},$b={class:"tabs"},em=["onClick"],tm={class:"content"};function nm(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Qb,[Object(j["createElementVNode"])("div",$b,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.currentTabs,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["tab",{active:t.value===e.toolbarState}]),key:t.value,onClick:function(n){return e.setToolbarState(t.value)}},Object(j["toDisplayString"])(t.label),11,em)})),128))]),Object(j["createElementVNode"])("div",tm,[(Object(j["openBlock"])(),Object(j["createBlock"])(Object(j["resolveDynamicComponent"])(e.currentPanelComponent)))])])}var om={class:"element-style-panel"};function cm(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",om,[(Object(j["openBlock"])(),Object(j["createBlock"])(Object(j["resolveDynamicComponent"])(e.currentPanelComponent)))])}var lm=function(e){return Object(j["pushScopeId"])("data-v-eafe485c"),e=e(),Object(j["popScopeId"])(),e},am={class:"text-style-panel"},rm={class:"preset-style"},im=["onClick"],um=Object(j["createTextVNode"])("+"),dm=Object(j["createTextVNode"])("-"),sm={class:"link-popover"},fm={class:"btns"},bm=Object(j["createTextVNode"])("移除"),mm=Object(j["createTextVNode"])("确认"),pm={class:"row"},vm=lm((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"行间距：",-1)})),Om={class:"row"},hm=lm((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"段间距：",-1)})),jm={class:"row"},ym=lm((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"字间距：",-1)})),gm={class:"row"},xm=lm((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"首行缩进：",-1)})),Cm={class:"row"},km=lm((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"文本框填充：",-1)}));function Em(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("Divider"),r=Object(j["resolveComponent"])("IconFontSize"),i=Object(j["resolveComponent"])("SelectOption"),u=Object(j["resolveComponent"])("SelectOptGroup"),d=Object(j["resolveComponent"])("Select"),s=Object(j["resolveComponent"])("IconAddText"),f=Object(j["resolveComponent"])("InputGroup"),b=Object(j["resolveComponent"])("ColorPicker"),m=Object(j["resolveComponent"])("IconText"),p=Object(j["resolveComponent"])("Button"),v=Object(j["resolveComponent"])("Tooltip"),O=Object(j["resolveComponent"])("Popover"),h=Object(j["resolveComponent"])("IconHighLight"),y=Object(j["resolveComponent"])("ButtonGroup"),g=Object(j["resolveComponent"])("IconTextBold"),x=Object(j["resolveComponent"])("CheckboxButton"),C=Object(j["resolveComponent"])("IconTextItalic"),k=Object(j["resolveComponent"])("IconTextUnderline"),E=Object(j["resolveComponent"])("IconStrikethrough"),w=Object(j["resolveComponent"])("IconFormat"),N=Object(j["resolveComponent"])("CheckboxButtonGroup"),V=Object(j["resolveComponent"])("IconUpOne"),I=Object(j["resolveComponent"])("IconDownOne"),S=Object(j["resolveComponent"])("IconCode"),B=Object(j["resolveComponent"])("IconQuote"),L=Object(j["resolveComponent"])("Input"),T=Object(j["resolveComponent"])("IconLinkOne"),_=Object(j["resolveComponent"])("IconAlignTextLeft"),M=Object(j["resolveComponent"])("RadioButton"),D=Object(j["resolveComponent"])("IconAlignTextCenter"),z=Object(j["resolveComponent"])("IconAlignTextRight"),A=Object(j["resolveComponent"])("RadioGroup"),F=Object(j["resolveComponent"])("IconList"),R=Object(j["resolveComponent"])("IconOrderedList"),P=Object(j["resolveComponent"])("IconIndentLeft"),H=Object(j["resolveComponent"])("IconIndentRight"),q=Object(j["resolveComponent"])("IconRowHeight"),U=Object(j["resolveComponent"])("IconVerticalSpacingBetweenItems"),W=Object(j["resolveComponent"])("IconFullwidth"),G=Object(j["resolveComponent"])("ColorButton"),X=Object(j["resolveComponent"])("ElementOutline"),Y=Object(j["resolveComponent"])("ElementShadow"),Z=Object(j["resolveComponent"])("ElementOpacity");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",am,[Object(j["createElementVNode"])("div",rm,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.presetStyles,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"preset-style-item",key:t.label,style:Object(j["normalizeStyle"])(t.style),onClick:function(n){return e.emitBatchRichTextCommand(t.cmd)}},Object(j["toDisplayString"])(t.label),13,im)})),128))]),Object(j["createVNode"])(a),Object(j["createVNode"])(f,{compact:"",class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(d,{style:{flex:"3"},value:e.richTextAttrs.fontname,onChange:t[0]||(t[0]=function(t){return e.emitRichTextCommand("fontname",t)})},{suffixIcon:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r)]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{label:"系统字体"},{default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.availableFonts,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:e.value,value:e.value},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("span",{style:Object(j["normalizeStyle"])({fontFamily:e.value})},Object(j["toDisplayString"])(e.label),5)]})),_:2},1032,["value"])})),128))]})),_:1}),Object(j["createVNode"])(u,{label:"在线字体"},{default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.webFonts,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:e.value,value:e.value},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("span",null,Object(j["toDisplayString"])(e.label),1)]})),_:2},1032,["value"])})),128))]})),_:1})]})),_:1},8,["value"]),Object(j["createVNode"])(d,{style:{flex:"2"},value:e.richTextAttrs.fontsize,onChange:t[1]||(t[1]=function(t){return e.emitRichTextCommand("fontsize",t)})},{suffixIcon:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(s)]})),default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.fontSizeOptions,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:e,value:e},{default:Object(j["withCtx"])((function(){return[Object(j["createTextVNode"])(Object(j["toDisplayString"])(e),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]})),_:1}),Object(j["createVNode"])(y,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(O,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b,{modelValue:e.richTextAttrs.color,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.emitRichTextCommand("color",t)})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字颜色"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p,{class:"text-color-btn",style:{flex:"3"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(m),Object(j["createElementVNode"])("div",{class:"text-color-block",style:Object(j["normalizeStyle"])({backgroundColor:e.richTextAttrs.color})},null,4)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(O,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b,{modelValue:e.richTextAttrs.backcolor,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.emitRichTextCommand("backcolor",t)})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字高亮"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p,{class:"text-color-btn",style:{flex:"3"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(h),Object(j["createElementVNode"])("div",{class:"text-color-block",style:Object(j["normalizeStyle"])({backgroundColor:e.richTextAttrs.backcolor})},null,4)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"增大字号"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p,{class:"font-size-btn",style:{flex:"2"},onClick:t[4]||(t[4]=function(t){return e.emitRichTextCommand("fontsize-add")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r),um]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"减小字号"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p,{class:"font-size-btn",style:{flex:"2"},onClick:t[5]||(t[5]=function(t){return e.emitRichTextCommand("fontsize-reduce")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r),dm]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(N,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"加粗"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x,{style:{flex:"1"},checked:e.richTextAttrs.bold,onClick:t[6]||(t[6]=function(t){return e.emitRichTextCommand("bold")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(g)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"斜体"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x,{style:{flex:"1"},checked:e.richTextAttrs.em,onClick:t[7]||(t[7]=function(t){return e.emitRichTextCommand("em")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下划线"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x,{style:{flex:"1"},checked:e.richTextAttrs.underline,onClick:t[8]||(t[8]=function(t){return e.emitRichTextCommand("underline")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(k)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"删除线"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x,{style:{flex:"1"},checked:e.richTextAttrs.strikethrough,onClick:t[9]||(t[9]=function(t){return e.emitRichTextCommand("strikethrough")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(E)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"清除格式"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x,{style:{flex:"1"},onClick:t[10]||(t[10]=function(t){return e.emitRichTextCommand("clear")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(w)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(N,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"上标"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x,{style:{flex:"1"},checked:e.richTextAttrs.superscript,onClick:t[11]||(t[11]=function(t){return e.emitRichTextCommand("superscript")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(V)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下标"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x,{style:{flex:"1"},checked:e.richTextAttrs.subscript,onClick:t[12]||(t[12]=function(t){return e.emitRichTextCommand("subscript")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(I)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"行内代码"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x,{style:{flex:"1"},checked:e.richTextAttrs.code,onClick:t[13]||(t[13]=function(t){return e.emitRichTextCommand("code")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(S)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"引用"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x,{style:{flex:"1"},checked:e.richTextAttrs.blockquote,onClick:t[14]||(t[14]=function(t){return e.emitRichTextCommand("blockquote")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(B)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"超链接"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(O,{placement:"bottomRight",trigger:"click",visible:e.linkPopoverVisible,"onUpdate:visible":t[19]||(t[19]=function(t){return e.linkPopoverVisible=t})},{content:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",sm,[Object(j["createVNode"])(L,{value:e.link,"onUpdate:value":t[15]||(t[15]=function(t){return e.link=t}),placeholder:"请输入超链接"},null,8,["value"]),Object(j["createElementVNode"])("div",fm,[Object(j["createVNode"])(p,{size:"small",disabled:!e.richTextAttrs.link,onClick:t[16]||(t[16]=function(t){return e.updateLink()}),style:{"margin-right":"5px"}},{default:Object(j["withCtx"])((function(){return[bm]})),_:1},8,["disabled"]),Object(j["createVNode"])(p,{size:"small",type:"primary",onClick:t[17]||(t[17]=function(t){return e.updateLink(e.link)})},{default:Object(j["withCtx"])((function(){return[mm]})),_:1})])])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x,{style:{flex:"1"},checked:!!e.richTextAttrs.link,onClick:t[18]||(t[18]=function(t){return e.openLinkPopover()})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(T)]})),_:1},8,["checked"])]})),_:1},8,["visible"])]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(a),Object(j["createVNode"])(A,{class:"row","button-style":"solid",value:e.richTextAttrs.align,onChange:t[20]||(t[20]=function(t){return e.emitRichTextCommand("align",t.target.value)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(M,{value:"left",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(_)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(M,{value:"center",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(D)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(M,{value:"right",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(z)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1},8,["value"]),Object(j["createVNode"])(N,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"项目符号"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x,{style:{flex:"1"},checked:e.richTextAttrs.bulletList,onClick:t[21]||(t[21]=function(t){return e.emitRichTextCommand("bulletList")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(F)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"编号"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x,{style:{flex:"1"},checked:e.richTextAttrs.orderedList,onClick:t[22]||(t[22]=function(t){return e.emitRichTextCommand("orderedList")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(R)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(y,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"减小缩进"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p,{style:{flex:"1"},onClick:t[23]||(t[23]=function(t){return e.emitRichTextCommand("indent","-1")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(P)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"增大缩进"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p,{style:{flex:"1"},onClick:t[24]||(t[24]=function(t){return e.emitRichTextCommand("indent","+1")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(H)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(a),Object(j["createElementVNode"])("div",pm,[vm,Object(j["createVNode"])(d,{style:{flex:"3"},value:e.lineHeight,onChange:t[25]||(t[25]=function(t){return e.updateLineHeight(t)})},{suffixIcon:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(q)]})),default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.lineHeightOptions,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:e,value:e},{default:Object(j["withCtx"])((function(){return[Object(j["createTextVNode"])(Object(j["toDisplayString"])(e)+"倍",1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]),Object(j["createElementVNode"])("div",Om,[hm,Object(j["createVNode"])(d,{style:{flex:"3"},value:e.paragraphSpace,onChange:t[26]||(t[26]=function(t){return e.updateParagraphSpace(t)})},{suffixIcon:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(U)]})),default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.paragraphSpaceOptions,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:e,value:e},{default:Object(j["withCtx"])((function(){return[Object(j["createTextVNode"])(Object(j["toDisplayString"])(e)+"px",1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]),Object(j["createElementVNode"])("div",jm,[ym,Object(j["createVNode"])(d,{style:{flex:"3"},value:e.wordSpace,onChange:t[27]||(t[27]=function(t){return e.updateWordSpace(t)})},{suffixIcon:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(W)]})),default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.wordSpaceOptions,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:e,value:e},{default:Object(j["withCtx"])((function(){return[Object(j["createTextVNode"])(Object(j["toDisplayString"])(e)+"px",1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]),Object(j["createElementVNode"])("div",gm,[xm,Object(j["createVNode"])(d,{style:{flex:"3"},value:e.textIndent,onChange:t[28]||(t[28]=function(t){return e.updateTextIndent(t)})},{suffixIcon:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(H)]})),default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.textIndentOptions,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:e,value:e},{default:Object(j["withCtx"])((function(){return[Object(j["createTextVNode"])(Object(j["toDisplayString"])(e)+"px",1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]),Object(j["createElementVNode"])("div",Cm,[km,Object(j["createVNode"])(O,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b,{modelValue:e.fill,"onUpdate:modelValue":t[29]||(t[29]=function(t){return e.updateFill(t)})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(G,{color:e.fill,style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createVNode"])(a),Object(j["createVNode"])(X),Object(j["createVNode"])(a),Object(j["createVNode"])(Y),Object(j["createVNode"])(a),Object(j["createVNode"])(Z)])}var wm=function(e){return Object(j["pushScopeId"])("data-v-5c7dbabc"),e=e(),Object(j["popScopeId"])(),e},Nm={class:"element-opacity"},Vm={class:"row"},Im=wm((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"不透明度：",-1)}));function Sm(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("Slider");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Nm,[Object(j["createElementVNode"])("div",Vm,[Im,Object(j["createVNode"])(a,{class:"slider",min:0,max:1,step:.1,value:e.opacity,onChange:t[0]||(t[0]=function(t){return e.updateOpacity(t)})},null,8,["step","value"])])])}var Bm=Object(j["defineComponent"])({name:"element-opacity",setup:function(){var e=ae(),t=Object(y["c"])(ue()),n=t.handleElement,o=Object(j["ref"])(1);Object(j["watch"])(n,(function(){n.value&&(o.value="opacity"in n.value&&void 0!==n.value.opacity?n.value.opacity:1)}),{deep:!0,immediate:!0});var c=dt(),l=c.addHistorySnapshot,a=function(t){if(n.value){var o={opacity:t};e.updateElement({id:n.value.id,props:o}),l()}};return{opacity:o,updateOpacity:a}}});n("767c");const Lm=eo()(Bm,[["render",Sm],["__scopeId","data-v-5c7dbabc"]]);var Tm=Lm,_m=(n("c7cd"),function(e){return Object(j["pushScopeId"])("data-v-a6510a8a"),e=e(),Object(j["popScopeId"])(),e}),Mm={class:"element-outline"},Dm={key:0,class:"row"},zm=_m((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"启用边框：",-1)})),Am={class:"switch-wrapper",style:{flex:"3"}},Fm={class:"row"},Rm=_m((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"边框样式：",-1)})),Pm=Object(j["createTextVNode"])("实线边框"),Hm=Object(j["createTextVNode"])("虚线边框"),qm={class:"row"},Um=_m((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"边框颜色：",-1)})),Wm={class:"row"},Gm=_m((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"边框粗细：",-1)}));function Xm(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("Switch"),r=Object(j["resolveComponent"])("SelectOption"),i=Object(j["resolveComponent"])("Select"),u=Object(j["resolveComponent"])("ColorPicker"),d=Object(j["resolveComponent"])("ColorButton"),s=Object(j["resolveComponent"])("Popover"),f=Object(j["resolveComponent"])("InputNumber");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Mm,[e.fixed?Object(j["createCommentVNode"])("",!0):(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Dm,[zm,Object(j["createElementVNode"])("div",Am,[Object(j["createVNode"])(a,{checked:e.hasOutline,onChange:t[0]||(t[0]=function(t){return e.toggleOutline(t)})},null,8,["checked"])])])),e.hasOutline&&e.outline?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:1},[Object(j["createElementVNode"])("div",Fm,[Rm,Object(j["createVNode"])(i,{style:{flex:"3"},value:e.outline.style,onChange:t[1]||(t[1]=function(t){return e.updateOutline({style:t})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{value:"solid"},{default:Object(j["withCtx"])((function(){return[Pm]})),_:1}),Object(j["createVNode"])(r,{value:"dashed"},{default:Object(j["withCtx"])((function(){return[Hm]})),_:1})]})),_:1},8,["value"])]),Object(j["createElementVNode"])("div",qm,[Um,Object(j["createVNode"])(s,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{modelValue:e.outline.color,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.updateOutline({color:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(d,{color:e.outline.color||"#000",style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createElementVNode"])("div",Wm,[Gm,Object(j["createVNode"])(f,{value:e.outline.width,onChange:t[3]||(t[3]=function(t){return e.updateOutline({width:t})}),style:{flex:"3"}},null,8,["value"])])],64)):Object(j["createCommentVNode"])("",!0)])}var Ym={class:"color-block"};function Zm(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconPlatte"),r=Object(j["resolveComponent"])("Button");return Object(j["openBlock"])(),Object(j["createBlock"])(r,{class:"color-btn"},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",Ym,[Object(j["createElementVNode"])("div",{class:"content",style:Object(j["normalizeStyle"])({backgroundColor:e.color})},null,4)]),Object(j["createVNode"])(a,{class:"color-btn-icon"})]})),_:1})}var Jm=Object(j["defineComponent"])({name:"color-button",props:{color:{type:String,required:!0}}});n("d7a4");const Km=eo()(Jm,[["render",Zm],["__scopeId","data-v-204d666d"]]);var Qm=Km,$m=Object(j["defineComponent"])({name:"element-outline",components:{ColorButton:Qm},props:{fixed:{type:Boolean,default:!1}},setup:function(){var e=ae(),t=Object(y["c"])(ue()),n=t.handleElement,o=Object(j["ref"])(),c=Object(j["ref"])(!1);Object(j["watch"])(n,(function(){n.value&&(o.value="outline"in n.value?n.value.outline:void 0,c.value=!!o.value)}),{deep:!0,immediate:!0});var l=dt(),a=l.addHistorySnapshot,r=function(t){if(n.value){var c={outline:Object(L["a"])(Object(L["a"])({},o.value),t)};e.updateElement({id:n.value.id,props:c}),a()}},i=function(t){if(n.value){if(t){var o={width:2,color:"#000",style:"solid"};e.updateElement({id:n.value.id,props:{outline:o}})}else e.removeElementProps({id:n.value.id,propName:"outline"});a()}};return{outline:o,hasOutline:c,toggleOutline:i,updateOutline:r}}});n("d582");const ep=eo()($m,[["render",Xm],["__scopeId","data-v-a6510a8a"]]);var tp=ep,np=function(e){return Object(j["pushScopeId"])("data-v-6bafb099"),e=e(),Object(j["popScopeId"])(),e},op={class:"element-shadow"},cp={class:"row"},lp=np((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"启用阴影：",-1)})),ap={class:"switch-wrapper",style:{flex:"3"}},rp={class:"row"},ip=np((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"水平阴影：",-1)})),up={class:"row"},dp=np((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"垂直阴影：",-1)})),sp={class:"row"},fp=np((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"模糊距离：",-1)})),bp={class:"row"},mp=np((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"阴影颜色：",-1)}));function pp(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("Switch"),r=Object(j["resolveComponent"])("Slider"),i=Object(j["resolveComponent"])("ColorPicker"),u=Object(j["resolveComponent"])("ColorButton"),d=Object(j["resolveComponent"])("Popover");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",op,[Object(j["createElementVNode"])("div",cp,[lp,Object(j["createElementVNode"])("div",ap,[Object(j["createVNode"])(a,{checked:e.hasShadow,onChange:t[0]||(t[0]=function(t){return e.toggleShadow(t)})},null,8,["checked"])])]),e.hasShadow&&e.shadow?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[Object(j["createElementVNode"])("div",rp,[ip,Object(j["createVNode"])(r,{class:"slider",min:-10,max:10,step:1,value:e.shadow.h,onChange:t[1]||(t[1]=function(t){return e.updateShadow({h:t})})},null,8,["value"])]),Object(j["createElementVNode"])("div",up,[dp,Object(j["createVNode"])(r,{class:"slider",min:-10,max:10,step:1,value:e.shadow.v,onChange:t[2]||(t[2]=function(t){return e.updateShadow({v:t})})},null,8,["value"])]),Object(j["createElementVNode"])("div",sp,[fp,Object(j["createVNode"])(r,{class:"slider",min:1,max:20,step:1,value:e.shadow.blur,onChange:t[3]||(t[3]=function(t){return e.updateShadow({blur:t})})},null,8,["value"])]),Object(j["createElementVNode"])("div",bp,[mp,Object(j["createVNode"])(d,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{modelValue:e.shadow.color,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.updateShadow({color:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{color:e.shadow.color,style:{flex:"3"}},null,8,["color"])]})),_:1})])],64)):Object(j["createCommentVNode"])("",!0)])}var vp=Object(j["defineComponent"])({name:"element-shadow",components:{ColorButton:Qm},setup:function(){var e=ae(),t=Object(y["c"])(ue()),n=t.handleElement,o=Object(j["ref"])(),c=Object(j["ref"])(!1);Object(j["watch"])(n,(function(){n.value&&(o.value="shadow"in n.value?n.value.shadow:void 0,c.value=!!o.value)}),{deep:!0,immediate:!0});var l=dt(),a=l.addHistorySnapshot,r=function(t){if(n.value&&o.value){var c=Object(L["a"])(Object(L["a"])({},o.value),t);e.updateElement({id:n.value.id,props:{shadow:c}}),a()}},i=function(t){if(n.value){if(t){var o={h:1,v:1,blur:2,color:"#000"};e.updateElement({id:n.value.id,props:{shadow:o}})}else e.removeElementProps({id:n.value.id,propName:"shadow"});a()}};return{shadow:o,hasShadow:c,toggleShadow:i,updateShadow:r}}});n("0c90");const Op=eo()(vp,[["render",pp],["__scopeId","data-v-6bafb099"]]);var hp=Op,jp=[{label:"大标题",style:{fontSize:"26px",fontWeight:700},cmd:[{command:"clear"},{command:"fontsize",value:"48px"},{command:"align",value:"center"},{command:"bold"}]},{label:"小标题",style:{fontSize:"22px",fontWeight:700},cmd:[{command:"clear"},{command:"fontsize",value:"36px"},{command:"align",value:"center"},{command:"bold"}]},{label:"正文",style:{fontSize:"20px"},cmd:[{command:"clear"},{command:"fontsize",value:"20px"}]},{label:"正文[小]",style:{fontSize:"18px"},cmd:[{command:"clear"},{command:"fontsize",value:"18px"}]},{label:"注释 1",style:{fontSize:"16px",fontStyle:"italic"},cmd:[{command:"clear"},{command:"fontsize",value:"16px"},{command:"em"}]},{label:"注释 2",style:{fontSize:"16px",textDecoration:"underline"},cmd:[{command:"clear"},{command:"fontsize",value:"16px"},{command:"underline"}]}],yp=B,gp=Object(j["defineComponent"])({name:"text-style-panel",components:{ElementOpacity:Tm,ElementOutline:tp,ElementShadow:hp,ColorButton:Qm},setup:function(){var e=ae(),t=Object(y["c"])(ue()),n=t.handleElement,o=t.handleElementId,c=t.richTextAttrs,l=t.availableFonts,a=dt(),r=a.addHistorySnapshot,i=function(t){e.updateElement({id:o.value,props:t}),r()},u=Object(j["ref"])("#000"),d=Object(j["ref"])(),s=Object(j["ref"])(),f=Object(j["ref"])(),b=Object(j["ref"])();Object(j["watch"])(n,(function(){n.value&&"text"===n.value.type&&(u.value=n.value.fill||"#fff",d.value=n.value.lineHeight||1.5,s.value=n.value.wordSpace||0,f.value=n.value.textIndent||0,b.value=void 0===n.value.paragraphSpace?5:n.value.paragraphSpace)}),{deep:!0,immediate:!0});var m=["12px","14px","16px","18px","20px","22px","24px","28px","32px","36px","40px","44px","48px","54px","60px","66px","72px","76px","80px","88px","96px","104px","112px","120px"],p=[.9,1,1.15,1.2,1.4,1.5,1.8,2,2.5,3],v=[0,1,2,3,4,5,6,8,10],O=[0,48,96,144,192,240,288,336],h=[0,5,10,15,20,25,30,40,50,80],g=function(e){i({lineHeight:e})},x=function(e){i({paragraphSpace:e})},C=function(e){i({wordSpace:e})},k=function(e){i({textIndent:e})},E=function(e){i({fill:e})},w=function(e,t){Cl.emit(zc.RICH_TEXT_COMMAND,{action:{command:e,value:t}})},N=function(e){Cl.emit(zc.RICH_TEXT_COMMAND,{action:e})},V=Object(j["ref"])(""),I=Object(j["ref"])(!1);Object(j["watch"])(c,(function(){return I.value=!1}));var S=function(){V.value=c.value.link,I.value=!0},B=function(e){if(e){var t=/^(https?):\/\/[\w\-]+(\.[\w\-]+)+([\w\-.,@?^=%&:\/~+#]*[\w\-@?^=%&\/~+#])?$/;if(!t.test(e))return De["a"].error("不是正确的网页链接地址")}w("link",e),I.value=!1};return{fill:u,lineHeight:d,wordSpace:s,textIndent:f,paragraphSpace:b,richTextAttrs:c,availableFonts:l,webFonts:yp,fontSizeOptions:m,lineHeightOptions:p,wordSpaceOptions:v,textIndentOptions:O,paragraphSpaceOptions:h,updateLineHeight:g,updateParagraphSpace:x,updateWordSpace:C,updateTextIndent:k,updateFill:E,emitRichTextCommand:w,emitBatchRichTextCommand:N,presetStyles:jp,link:V,linkPopoverVisible:I,openLinkPopover:S,updateLink:B}}});n("dec8");const xp=eo()(gp,[["render",Em],["__scopeId","data-v-eafe485c"]]);var Cp=xp,kp=function(e){return Object(j["pushScopeId"])("data-v-54b23b9e"),e=e(),Object(j["popScopeId"])(),e},Ep={class:"image-style-panel"},wp=Object(j["createTextVNode"])(" 裁剪图片"),Np={class:"clip"},Vp=kp((function(){return Object(j["createElementVNode"])("div",{class:"title"},"按形状：",-1)})),Ip={class:"shape-clip"},Sp=["onClick"],Bp={key:0,class:"title"},Lp=Object(j["createTextVNode"])(" 替换图片"),Tp=Object(j["createTextVNode"])(" 重置样式"),_p=Object(j["createTextVNode"])(" 设为背景");function Mp(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("ElementFlip"),r=Object(j["resolveComponent"])("IconTailoring"),i=Object(j["resolveComponent"])("Button"),u=Object(j["resolveComponent"])("ButtonGroup"),d=Object(j["resolveComponent"])("IconDown"),s=Object(j["resolveComponent"])("Popover"),f=Object(j["resolveComponent"])("Divider"),b=Object(j["resolveComponent"])("ElementFilter"),m=Object(j["resolveComponent"])("ElementOutline"),p=Object(j["resolveComponent"])("ElementShadow"),v=Object(j["resolveComponent"])("IconTransform"),O=Object(j["resolveComponent"])("FileInput"),h=Object(j["resolveComponent"])("IconUndo"),y=Object(j["resolveComponent"])("IconTheme");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Ep,[Object(j["createElementVNode"])("div",{class:"origin-image",style:Object(j["normalizeStyle"])({backgroundImage:"url(".concat(e.handleElement.src,")")})},null,4),Object(j["createVNode"])(a),Object(j["createVNode"])(u,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{style:{flex:"5"},onClick:t[0]||(t[0]=function(t){return e.clipImage()})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{class:"btn-icon"}),wp]})),_:1}),Object(j["createVNode"])(s,{trigger:"click",visible:e.clipPanelVisible,"onUpdate:visible":t[1]||(t[1]=function(t){return e.clipPanelVisible=t})},{content:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",Np,[Vp,Object(j["createElementVNode"])("div",Ip,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.shapeClipPathOptions,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"shape-clip-item",key:n,onClick:function(t){return e.presetImageClip(n)}},[Object(j["createElementVNode"])("div",{class:"shape",style:Object(j["normalizeStyle"])({clipPath:t.style})},null,4)],8,Sp)})),128))]),(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.ratioClipOptions,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:t.label},[t.label?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Bp,"按"+Object(j["toDisplayString"])(t.label)+"：",1)):Object(j["createCommentVNode"])("",!0),Object(j["createVNode"])(u,{class:"row"},{default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(t.children,(function(t){return Object(j["openBlock"])(),Object(j["createBlock"])(i,{style:{flex:"1"},key:t.key,onClick:function(n){return e.presetImageClip("rect",t.ratio)}},{default:Object(j["withCtx"])((function(){return[Object(j["createTextVNode"])(Object(j["toDisplayString"])(t.key),1)]})),_:2},1032,["onClick"])})),128))]})),_:2},1024)],64)})),128))])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{class:"no-padding",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(d)]})),_:1})]})),_:1},8,["visible"])]})),_:1}),Object(j["createVNode"])(f),Object(j["createVNode"])(b),Object(j["createVNode"])(f),Object(j["createVNode"])(m),Object(j["createVNode"])(f),Object(j["createVNode"])(p),Object(j["createVNode"])(f),Object(j["createVNode"])(O,{onChange:t[2]||(t[2]=function(t){return e.replaceImage(t)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{class:"full-width-btn"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v,{class:"btn-icon"}),Lp]})),_:1})]})),_:1}),Object(j["createVNode"])(i,{class:"full-width-btn",onClick:t[3]||(t[3]=function(t){return e.resetImage()})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(h,{class:"btn-icon"}),Tp]})),_:1}),Object(j["createVNode"])(i,{class:"full-width-btn",onClick:t[4]||(t[4]=function(t){return e.setBackgroundImage()})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(y,{class:"btn-icon"}),_p]})),_:1})])}var Dp={class:"element-flip"},zp=Object(j["createTextVNode"])(" 垂直翻转"),Ap=Object(j["createTextVNode"])(" 水平翻转");function Fp(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconFlipVertically"),r=Object(j["resolveComponent"])("CheckboxButton"),i=Object(j["resolveComponent"])("IconFlipHorizontally"),u=Object(j["resolveComponent"])("CheckboxButtonGroup");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Dp,[Object(j["createVNode"])(u,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},checked:e.flipV,onClick:t[0]||(t[0]=function(t){return e.updateFlip({flipV:!e.flipV})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(a),zp]})),_:1},8,["checked"]),Object(j["createVNode"])(r,{style:{flex:"1"},checked:e.flipH,onClick:t[1]||(t[1]=function(t){return e.updateFlip({flipH:!e.flipH})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i),Ap]})),_:1},8,["checked"])]})),_:1})])}var Rp=Object(j["defineComponent"])({name:"element-flip",setup:function(){var e=ae(),t=Object(y["c"])(ue()),n=t.handleElement,o=Object(j["ref"])(!1),c=Object(j["ref"])(!1);Object(j["watch"])(n,(function(){!n.value||"image"!==n.value.type&&"shape"!==n.value.type||(o.value=!!n.value.flipH,c.value=!!n.value.flipV)}),{deep:!0,immediate:!0});var l=dt(),a=l.addHistorySnapshot,r=function(t){n.value&&(e.updateElement({id:n.value.id,props:t}),a())};return{flipH:o,flipV:c,updateFlip:r}}});n("0c35");const Pp=eo()(Rp,[["render",Fp],["__scopeId","data-v-7bd50f1a"]]);var Hp=Pp,qp=function(e){return Object(j["pushScopeId"])("data-v-2c215feb"),e=e(),Object(j["popScopeId"])(),e},Up={class:"element-filter"},Wp={class:"row"},Gp=qp((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"启用滤镜：",-1)})),Xp={class:"switch-wrapper",style:{flex:"3"}},Yp={key:0,class:"filter"},Zp={class:"name"};function Jp(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("Switch"),r=Object(j["resolveComponent"])("Slider");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Up,[Object(j["createElementVNode"])("div",Wp,[Gp,Object(j["createElementVNode"])("div",Xp,[Object(j["createVNode"])(a,{checked:e.hasFilters,onChange:t[0]||(t[0]=function(t){return e.toggleFilters(t)})},null,8,["checked"])])]),e.hasFilters?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Yp,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.filterOptions,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"filter-item",key:t.key},[Object(j["createElementVNode"])("div",Zp,Object(j["toDisplayString"])(t.label),1),Object(j["createVNode"])(r,{class:"filter-slider",max:t.max,min:0,step:t.step,value:t.value,onChange:function(n){return e.updateFilter(t,n)}},null,8,["max","step","value","onChange"])])})),128))])):Object(j["createCommentVNode"])("",!0)])}var Kp=[{label:"模糊",key:"blur",default:0,value:0,unit:"px",max:10,step:1},{label:"亮度",key:"brightness",default:100,value:100,unit:"%",max:200,step:5},{label:"对比度",key:"contrast",default:100,value:100,unit:"%",max:200,step:5},{label:"灰度",key:"grayscale",default:0,value:0,unit:"%",max:100,step:5},{label:"饱和度",key:"saturate",default:100,value:100,unit:"%",max:200,step:5},{label:"色相",key:"hue-rotate",default:0,value:0,unit:"deg",max:360,step:10},{label:"不透明度",key:"opacity",default:100,value:100,unit:"%",max:100,step:5}],Qp=Object(j["defineComponent"])({name:"element-filter",setup:function(){var e=ae(),t=Object(y["c"])(ue()),n=t.handleElement,o=t.handleElementId,c=Object(j["ref"])(JSON.parse(JSON.stringify(Kp))),l=Object(j["ref"])(!1),a=dt(),r=a.addHistorySnapshot;Object(j["watch"])(n,(function(){if(n.value&&"image"===n.value.type){var e=n.value.filters;e?(c.value=Kp.map((function(t){return void 0!==e[t.key]?Object(L["a"])(Object(L["a"])({},t),{},{value:parseInt(e[t.key])}):t})),l.value=!0):(c.value=JSON.parse(JSON.stringify(Kp)),l.value=!1)}}),{deep:!0,immediate:!0});var i=function(t,c){var l=n.value,a=l.filters||{},i=Object(L["a"])(Object(L["a"])({},a),{},Object(pe["a"])({},t.key,"".concat(c).concat(t.unit)));e.updateElement({id:o.value,props:{filters:i}}),r()},u=function(t){n.value&&(t?e.updateElement({id:n.value.id,props:{filters:{}}}):e.removeElementProps({id:n.value.id,propName:"filters"}),r())};return{filterOptions:c,hasFilters:l,toggleFilters:u,updateFilter:i}}});n("1821");const $p=eo()(Qp,[["render",Jp],["__scopeId","data-v-2c215feb"]]);var ev=$p,tv=Do,nv=[{label:"纵横比（方形）",children:[{key:"1:1",ratio:1}]},{label:"纵横比（纵向）",children:[{key:"2:3",ratio:1.5},{key:"3:4",ratio:4/3},{key:"3:5",ratio:5/3},{key:"4:5",ratio:5/4}]},{label:"纵横比（横向）",children:[{key:"3:2",ratio:2/3},{key:"4:3",ratio:3/4},{key:"5:3",ratio:.6},{key:"5:4",ratio:.8}]},{children:[{key:"16:9",ratio:9/16},{key:"16:10",ratio:.625}]}],ov=Object(j["defineComponent"])({name:"image-style-panel",components:{ElementOutline:tp,ElementShadow:hp,ElementFlip:Hp,ElementFilter:ev},setup:function(){var e=ue(),t=ae(),n=Object(y["c"])(e),o=n.handleElement,c=n.handleElementId,l=Object(y["c"])(t),a=l.currentSlide,r=Object(j["ref"])(!1),i=dt(),u=i.addHistorySnapshot,d=function(){e.setClipingImageElementId(c.value),r.value=!1},s=function(){var e=o.value,t=e.width,n=e.height,c=e.left,l=e.top,a=e.clip?e.clip.range:[[0,0],[100,100]],r=t/((a[1][0]-a[0][0])/100),i=n/((a[1][1]-a[0][1])/100),u=c-r*(a[0][0]/100),d=l-i*(a[0][1]/100);return{originClipRange:a,originWidth:r,originHeight:i,originLeft:u,originTop:d}},f=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=o.value,a=s(),r=a.originClipRange,i=a.originWidth,f=a.originHeight,b=a.originLeft,m=a.originTop;if(n){var p,v=f/i,O=0,h=100;if(v>n){var j=(1-n/v)/2*100;p=[[O,j],[h,h-j]]}else{var y=(1-v/n)/2*100;p=[[y,O],[h-y,h]]}t.updateElement({id:c.value,props:{clip:Object(L["a"])(Object(L["a"])({},l.clip),{},{shape:e,range:p}),left:b+i*(p[0][0]/100),top:m+f*(p[0][1]/100),width:i*(p[1][0]-p[0][0])/100,height:f*(p[1][1]-p[0][1])/100}})}else t.updateElement({id:c.value,props:{clip:Object(L["a"])(Object(L["a"])({},l.clip),{},{shape:e,range:r})}});d(),u()},b=function(e){var n=e[0];n&&(lt(n).then((function(e){var n={src:e};t.updateElement({id:c.value,props:n})})),u())},m=function(){var e=o.value;if(e.clip){var n=s(),l=n.originWidth,a=n.originHeight,r=n.originLeft,i=n.originTop;t.updateElement({id:c.value,props:{left:r,top:i,width:l,height:a}})}t.removeElementProps({id:c.value,propName:["clip","outline","flip","shadow","filters"]}),u()},p=function(){var e=o.value,n=Object(L["a"])(Object(L["a"])({},a.value.background),{},{type:"image",image:e.src,imageSize:"cover"});t.updateSlide({background:n}),u()};return{clipPanelVisible:r,shapeClipPathOptions:tv,ratioClipOptions:nv,handleElement:o,clipImage:d,presetImageClip:f,replaceImage:b,resetImage:m,setBackgroundImage:p}}});n("ed98");const cv=eo()(ov,[["render",Mp],["__scopeId","data-v-54b23b9e"]]);var lv=cv,av=function(e){return Object(j["pushScopeId"])("data-v-42b07d61"),e=e(),Object(j["popScopeId"])(),e},rv={class:"shape-style-panel"},iv={class:"row"},uv=Object(j["createTextVNode"])("纯色填充"),dv=Object(j["createTextVNode"])("渐变填充"),sv=av((function(){return Object(j["createElementVNode"])("div",{style:{flex:"1"}},null,-1)})),fv=Object(j["createTextVNode"])("线性渐变"),bv=Object(j["createTextVNode"])("径向渐变"),mv={class:"row"},pv=av((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"起点颜色：",-1)})),vv={class:"row"},Ov=av((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"终点颜色：",-1)})),hv={key:0,class:"row"},jv=av((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"渐变角度：",-1)})),yv=Object(j["createTextVNode"])("+"),gv=Object(j["createTextVNode"])("-");function xv(e,t,n,o,c,l){var a,r,i=Object(j["resolveComponent"])("SelectOption"),u=Object(j["resolveComponent"])("Select"),d=Object(j["resolveComponent"])("ColorPicker"),s=Object(j["resolveComponent"])("ColorButton"),f=Object(j["resolveComponent"])("Popover"),b=Object(j["resolveComponent"])("Slider"),m=Object(j["resolveComponent"])("ElementFlip"),p=Object(j["resolveComponent"])("Divider"),v=Object(j["resolveComponent"])("IconFontSize"),O=Object(j["resolveComponent"])("SelectOptGroup"),h=Object(j["resolveComponent"])("IconAddText"),y=Object(j["resolveComponent"])("InputGroup"),g=Object(j["resolveComponent"])("IconText"),x=Object(j["resolveComponent"])("Button"),C=Object(j["resolveComponent"])("Tooltip"),k=Object(j["resolveComponent"])("IconHighLight"),E=Object(j["resolveComponent"])("ButtonGroup"),w=Object(j["resolveComponent"])("IconTextBold"),N=Object(j["resolveComponent"])("CheckboxButton"),V=Object(j["resolveComponent"])("IconTextItalic"),I=Object(j["resolveComponent"])("IconTextUnderline"),S=Object(j["resolveComponent"])("IconFormat"),B=Object(j["resolveComponent"])("CheckboxButtonGroup"),L=Object(j["resolveComponent"])("IconAlignTextLeft"),T=Object(j["resolveComponent"])("RadioButton"),_=Object(j["resolveComponent"])("IconAlignTextCenter"),M=Object(j["resolveComponent"])("IconAlignTextRight"),D=Object(j["resolveComponent"])("RadioGroup"),z=Object(j["resolveComponent"])("IconAlignTextTopOne"),A=Object(j["resolveComponent"])("IconAlignTextMiddleOne"),F=Object(j["resolveComponent"])("IconAlignTextBottomOne"),R=Object(j["resolveComponent"])("ElementOutline"),P=Object(j["resolveComponent"])("ElementShadow"),H=Object(j["resolveComponent"])("ElementOpacity");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",rv,[Object(j["createElementVNode"])("div",iv,[Object(j["createVNode"])(u,{style:{flex:"10"},value:e.fillType,onChange:t[0]||(t[0]=function(t){return e.updateFillType(t)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{value:"fill"},{default:Object(j["withCtx"])((function(){return[uv]})),_:1}),Object(j["createVNode"])(i,{value:"gradient"},{default:Object(j["withCtx"])((function(){return[dv]})),_:1})]})),_:1},8,["value"]),sv,"fill"===e.fillType?(Object(j["openBlock"])(),Object(j["createBlock"])(f,{key:0,trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(d,{modelValue:e.fill,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.updateFill(t)})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(s,{color:e.fill,style:{flex:"10"}},null,8,["color"])]})),_:1})):(Object(j["openBlock"])(),Object(j["createBlock"])(u,{key:1,style:{flex:"10"},value:e.gradient.type,onChange:t[2]||(t[2]=function(t){return e.updateGradient({type:t})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{value:"linear"},{default:Object(j["withCtx"])((function(){return[fv]})),_:1}),Object(j["createVNode"])(i,{value:"radial"},{default:Object(j["withCtx"])((function(){return[bv]})),_:1})]})),_:1},8,["value"]))]),"gradient"===e.fillType?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[Object(j["createElementVNode"])("div",mv,[pv,Object(j["createVNode"])(f,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(d,{modelValue:e.gradient.color[0],"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.updateGradient({color:[t,e.gradient.color[1]]})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(s,{color:e.gradient.color[0],style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createElementVNode"])("div",vv,[Ov,Object(j["createVNode"])(f,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(d,{modelValue:e.gradient.color[1],"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.updateGradient({color:[e.gradient.color[0],t]})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(s,{color:e.gradient.color[1],style:{flex:"3"}},null,8,["color"])]})),_:1})]),"linear"===e.gradient.type?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",hv,[jv,Object(j["createVNode"])(b,{class:"slider",min:0,max:360,step:15,value:e.gradient.rotate,onChange:t[5]||(t[5]=function(t){return e.updateGradient({rotate:t})})},null,8,["value"])])):Object(j["createCommentVNode"])("",!0)],64)):Object(j["createCommentVNode"])("",!0),Object(j["createVNode"])(m),Object(j["createVNode"])(p),null!==(a=e.handleElement)&&void 0!==a&&null!==(r=a.text)&&void 0!==r&&r.content?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:1},[Object(j["createVNode"])(y,{compact:"",class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{style:{flex:"3"},value:e.richTextAttrs.fontname,onChange:t[6]||(t[6]=function(t){return e.emitRichTextCommand("fontname",t)})},{suffixIcon:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v)]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(O,{label:"系统字体"},{default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.availableFonts,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:e.value,value:e.value},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("span",{style:Object(j["normalizeStyle"])({fontFamily:e.value})},Object(j["toDisplayString"])(e.label),5)]})),_:2},1032,["value"])})),128))]})),_:1}),Object(j["createVNode"])(O,{label:"在线字体"},{default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.webFonts,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:e.value,value:e.value},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("span",null,Object(j["toDisplayString"])(e.label),1)]})),_:2},1032,["value"])})),128))]})),_:1})]})),_:1},8,["value"]),Object(j["createVNode"])(u,{style:{flex:"2"},value:e.richTextAttrs.fontsize,onChange:t[7]||(t[7]=function(t){return e.emitRichTextCommand("fontsize",t)})},{suffixIcon:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(h)]})),default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.fontSizeOptions,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:e,value:e},{default:Object(j["withCtx"])((function(){return[Object(j["createTextVNode"])(Object(j["toDisplayString"])(e),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]})),_:1}),Object(j["createVNode"])(E,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(d,{modelValue:e.richTextAttrs.color,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.emitRichTextCommand("color",t)})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字颜色"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x,{class:"text-color-btn",style:{flex:"3"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(g),Object(j["createElementVNode"])("div",{class:"text-color-block",style:Object(j["normalizeStyle"])({backgroundColor:e.richTextAttrs.color})},null,4)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(f,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(d,{modelValue:e.richTextAttrs.backcolor,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.emitRichTextCommand("backcolor",t)})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字高亮"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x,{class:"text-color-btn",style:{flex:"3"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(k),Object(j["createElementVNode"])("div",{class:"text-color-block",style:Object(j["normalizeStyle"])({backgroundColor:e.richTextAttrs.backcolor})},null,4)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(C,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"增大字号"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x,{class:"font-size-btn",style:{flex:"2"},onClick:t[10]||(t[10]=function(t){return e.emitRichTextCommand("fontsize-add")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v),yv]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(C,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"减小字号"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x,{class:"font-size-btn",style:{flex:"2"},onClick:t[11]||(t[11]=function(t){return e.emitRichTextCommand("fontsize-reduce")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v),gv]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(B,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"加粗"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(N,{style:{flex:"1"},checked:e.richTextAttrs.bold,onClick:t[12]||(t[12]=function(t){return e.emitRichTextCommand("bold")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(w)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(C,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"斜体"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(N,{style:{flex:"1"},checked:e.richTextAttrs.em,onClick:t[13]||(t[13]=function(t){return e.emitRichTextCommand("em")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(V)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(C,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下划线"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(N,{style:{flex:"1"},checked:e.richTextAttrs.underline,onClick:t[14]||(t[14]=function(t){return e.emitRichTextCommand("underline")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(I)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(C,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"清除格式"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(N,{style:{flex:"1"},onClick:t[15]||(t[15]=function(t){return e.emitRichTextCommand("clear")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(S)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(D,{class:"row","button-style":"solid",value:e.richTextAttrs.align,onChange:t[16]||(t[16]=function(t){return e.emitRichTextCommand("align",t.target.value)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(T,{value:"left",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(L)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(C,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(T,{value:"center",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(_)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(C,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(T,{value:"right",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(M)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1},8,["value"]),Object(j["createVNode"])(D,{class:"row","button-style":"solid",value:e.textAlign,onChange:t[17]||(t[17]=function(t){return e.updateTextAlign(t.target.value)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"顶对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(T,{value:"top",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(z)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(C,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(T,{value:"middle",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(A)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(C,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"底对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(T,{value:"bottom",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(F)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1},8,["value"]),Object(j["createVNode"])(p)],64)):Object(j["createCommentVNode"])("",!0),Object(j["createVNode"])(R),Object(j["createVNode"])(p),Object(j["createVNode"])(P),Object(j["createVNode"])(p),Object(j["createVNode"])(H)])}var Cv=B,kv=Object(j["defineComponent"])({name:"shape-style-panel",components:{ElementOpacity:Tm,ElementOutline:tp,ElementShadow:hp,ElementFlip:Hp,ColorButton:Qm},setup:function(){var e=ue(),t=ae(),n=Object(y["c"])(e),o=n.handleElement,c=n.handleElementId,l=n.richTextAttrs,a=n.availableFonts,r=Object(j["ref"])("#000"),i=Object(j["ref"])({type:"linear",rotate:0,color:["#fff","#fff"]}),u=Object(j["ref"])("fill"),d=Object(j["ref"])("middle");Object(j["watch"])(o,(function(){var e,t;o.value&&"shape"===o.value.type&&(r.value=o.value.fill||"#fff",i.value=o.value.gradient||{type:"linear",rotate:0,color:[r.value,"#fff"]},u.value=o.value.gradient?"gradient":"fill",d.value=(null===(e=o.value)||void 0===e||null===(t=e.text)||void 0===t?void 0:t.align)||"middle")}),{deep:!0,immediate:!0});var s=dt(),f=s.addHistorySnapshot,b=function(e){t.updateElement({id:c.value,props:e}),f()},m=function(e){"fill"===e?(t.removeElementProps({id:c.value,propName:"gradient"}),f()):b({gradient:i.value})},p=function(e){if(i.value){var t=Object(L["a"])(Object(L["a"])({},i.value),e);b({gradient:t})}},v=function(e){b({fill:e})},O=function(e){var t=o.value,n={content:"",defaultFontName:"微软雅黑",defaultColor:"#000",align:"middle"},c=t.text||n;b({text:Object(L["a"])(Object(L["a"])({},c),{},{align:e})})},h=["12px","14px","16px","18px","20px","22px","24px","28px","32px","36px","40px","44px","48px","54px","60px","66px","72px","76px","80px","88px","96px","104px","112px","120px"],g=function(e,t){Cl.emit(zc.RICH_TEXT_COMMAND,{action:{command:e,value:t}})};return{fill:r,gradient:i,fillType:u,textAlign:d,richTextAttrs:l,availableFonts:a,fontSizeOptions:h,webFonts:Cv,handleElement:o,emitRichTextCommand:g,updateFillType:m,updateFill:v,updateGradient:p,updateTextAlign:O}}});n("ee0f");const Ev=eo()(kv,[["render",xv],["__scopeId","data-v-42b07d61"]]);var wv=Ev,Nv=function(e){return Object(j["pushScopeId"])("data-v-ad75cd30"),e=e(),Object(j["popScopeId"])(),e},Vv={class:"line-style-panel"},Iv={class:"row"},Sv=Nv((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"线条样式：",-1)})),Bv=Object(j["createTextVNode"])("实线"),Lv=Object(j["createTextVNode"])("虚线"),Tv={class:"row"},_v=Nv((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"线条颜色：",-1)})),Mv={class:"row"},Dv=Nv((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"线条宽度：",-1)})),zv={class:"row"},Av=Nv((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"起点样式：",-1)})),Fv=Object(j["createTextVNode"])("无"),Rv=Object(j["createTextVNode"])("箭头"),Pv=Object(j["createTextVNode"])("圆点"),Hv={class:"row"},qv=Nv((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"终点样式：",-1)})),Uv=Object(j["createTextVNode"])("无"),Wv=Object(j["createTextVNode"])("箭头"),Gv=Object(j["createTextVNode"])("圆点");function Xv(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("SelectOption"),r=Object(j["resolveComponent"])("Select"),i=Object(j["resolveComponent"])("ColorPicker"),u=Object(j["resolveComponent"])("ColorButton"),d=Object(j["resolveComponent"])("Popover"),s=Object(j["resolveComponent"])("InputNumber"),f=Object(j["resolveComponent"])("Divider"),b=Object(j["resolveComponent"])("ElementShadow");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Vv,[Object(j["createElementVNode"])("div",Iv,[Sv,Object(j["createVNode"])(r,{style:{flex:"3"},value:e.handleElement.style,onChange:t[0]||(t[0]=function(t){return e.updateLine({style:t})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(a,{value:"solid"},{default:Object(j["withCtx"])((function(){return[Bv]})),_:1}),Object(j["createVNode"])(a,{value:"dashed"},{default:Object(j["withCtx"])((function(){return[Lv]})),_:1})]})),_:1},8,["value"])]),Object(j["createElementVNode"])("div",Tv,[_v,Object(j["createVNode"])(d,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{modelValue:e.handleElement.color,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.updateLine({color:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{color:e.handleElement.color,style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createElementVNode"])("div",Mv,[Dv,Object(j["createVNode"])(s,{value:e.handleElement.width,onChange:t[2]||(t[2]=function(t){return e.updateLine({width:t})}),style:{flex:"3"}},null,8,["value"])]),Object(j["createElementVNode"])("div",zv,[Av,Object(j["createVNode"])(r,{style:{flex:"3"},value:e.handleElement.points[0],onChange:t[3]||(t[3]=function(t){return e.updateLine({points:[t,e.handleElement.points[1]]})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(a,{value:""},{default:Object(j["withCtx"])((function(){return[Fv]})),_:1}),Object(j["createVNode"])(a,{value:"arrow"},{default:Object(j["withCtx"])((function(){return[Rv]})),_:1}),Object(j["createVNode"])(a,{value:"dot"},{default:Object(j["withCtx"])((function(){return[Pv]})),_:1})]})),_:1},8,["value"])]),Object(j["createElementVNode"])("div",Hv,[qv,Object(j["createVNode"])(r,{style:{flex:"3"},value:e.handleElement.points[1],onChange:t[4]||(t[4]=function(t){return e.updateLine({points:[e.handleElement.points[0],t]})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(a,{value:""},{default:Object(j["withCtx"])((function(){return[Uv]})),_:1}),Object(j["createVNode"])(a,{value:"arrow"},{default:Object(j["withCtx"])((function(){return[Wv]})),_:1}),Object(j["createVNode"])(a,{value:"dot"},{default:Object(j["withCtx"])((function(){return[Gv]})),_:1})]})),_:1},8,["value"])]),Object(j["createVNode"])(f),Object(j["createVNode"])(b)])}var Yv=Object(j["defineComponent"])({name:"line-style-panel",components:{ElementShadow:hp,ColorButton:Qm},setup:function(){var e=ae(),t=Object(y["c"])(ue()),n=t.handleElement,o=dt(),c=o.addHistorySnapshot,l=function(t){n.value&&(e.updateElement({id:n.value.id,props:t}),c())};return{handleElement:n,updateLine:l}}});n("7686");const Zv=eo()(Yv,[["render",Xv],["__scopeId","data-v-ad75cd30"]]);var Jv=Zv,Kv=function(e){return Object(j["pushScopeId"])("data-v-1a47c852"),e=e(),Object(j["popScopeId"])(),e},Qv={class:"chart-style-panel"},$v=Object(j["createTextVNode"])(" 编辑图表数据 "),eO={class:"row"},tO=Object(j["createTextVNode"])("面积图样式"),nO=Object(j["createTextVNode"])("散点图样式"),oO={class:"row"},cO=Object(j["createTextVNode"])("使用平滑曲线"),lO={key:1,class:"row"},aO=Object(j["createTextVNode"])("条形图样式"),rO=Object(j["createTextVNode"])("堆叠样式"),iO={key:2,class:"row"},uO=Object(j["createTextVNode"])("环形图样式"),dO={class:"row"},sO=Kv((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"图例：",-1)})),fO=Object(j["createTextVNode"])("不显示"),bO=Object(j["createTextVNode"])("显示在上方"),mO=Object(j["createTextVNode"])("显示在下方"),pO={class:"row"},vO=Kv((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"背景填充：",-1)})),OO={class:"row"},hO=Kv((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"网格颜色：",-1)})),jO={style:{flex:"2"}},yO={class:"color-btn-wrap",style:{flex:"3"}},gO=["onClick"],xO={class:"preset-themes"},CO=["onClick","onMouseenter"],kO=Object(j["createTextVNode"])("推荐主题"),EO=Object(j["createTextVNode"])(" 添加主题色 ");function wO(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconEdit"),r=Object(j["resolveComponent"])("Button"),i=Object(j["resolveComponent"])("Divider"),u=Object(j["resolveComponent"])("Checkbox"),d=Object(j["resolveComponent"])("SelectOption"),s=Object(j["resolveComponent"])("Select"),f=Object(j["resolveComponent"])("ColorPicker"),b=Object(j["resolveComponent"])("ColorButton"),m=Object(j["resolveComponent"])("Popover"),p=Object(j["resolveComponent"])("IconCloseSmall"),v=Object(j["resolveComponent"])("Tooltip"),O=Object(j["resolveComponent"])("IconPlus"),h=Object(j["resolveComponent"])("ButtonGroup"),y=Object(j["resolveComponent"])("ElementOutline"),g=Object(j["resolveComponent"])("ChartDataEditor"),x=Object(j["resolveComponent"])("Modal");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Qv,[Object(j["createVNode"])(r,{class:"full-width-btn",onClick:t[0]||(t[0]=function(t){return e.chartDataEditorVisible=!0})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(a,{class:"btn-icon"}),$v]})),_:1}),Object(j["createVNode"])(i),"line"===e.handleElement.chartType?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[Object(j["createElementVNode"])("div",eO,[Object(j["createVNode"])(u,{onChange:t[1]||(t[1]=function(t){return e.updateOptions({showArea:t.target.checked})}),checked:e.showArea,style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[tO]})),_:1},8,["checked"]),Object(j["createVNode"])(u,{onChange:t[2]||(t[2]=function(t){return e.updateOptions({showLine:!t.target.checked})}),checked:!e.showLine,style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[nO]})),_:1},8,["checked"])]),Object(j["createElementVNode"])("div",oO,[Object(j["createVNode"])(u,{onChange:t[3]||(t[3]=function(t){return e.updateOptions({lineSmooth:t.target.checked})}),checked:e.lineSmooth},{default:Object(j["withCtx"])((function(){return[cO]})),_:1},8,["checked"])])],64)):Object(j["createCommentVNode"])("",!0),"bar"===e.handleElement.chartType?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",lO,[Object(j["createVNode"])(u,{onChange:t[4]||(t[4]=function(t){return e.updateOptions({horizontalBars:t.target.checked})}),checked:e.horizontalBars},{default:Object(j["withCtx"])((function(){return[aO]})),_:1},8,["checked"]),Object(j["createVNode"])(u,{onChange:t[5]||(t[5]=function(t){return e.updateOptions({stackBars:t.target.checked})}),checked:e.stackBars},{default:Object(j["withCtx"])((function(){return[rO]})),_:1},8,["checked"])])):Object(j["createCommentVNode"])("",!0),"pie"===e.handleElement.chartType?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",iO,[Object(j["createVNode"])(u,{onChange:t[6]||(t[6]=function(t){return e.updateOptions({donut:t.target.checked})}),checked:e.donut},{default:Object(j["withCtx"])((function(){return[uO]})),_:1},8,["checked"])])):Object(j["createCommentVNode"])("",!0),Object(j["createVNode"])(i),Object(j["createElementVNode"])("div",dO,[sO,Object(j["createVNode"])(s,{style:{flex:"3"},value:e.legend,onChange:t[7]||(t[7]=function(t){return e.updateLegend(t)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(d,{value:""},{default:Object(j["withCtx"])((function(){return[fO]})),_:1}),Object(j["createVNode"])(d,{value:"top"},{default:Object(j["withCtx"])((function(){return[bO]})),_:1}),Object(j["createVNode"])(d,{value:"bottom"},{default:Object(j["withCtx"])((function(){return[mO]})),_:1})]})),_:1},8,["value"])]),Object(j["createVNode"])(i),Object(j["createElementVNode"])("div",pO,[vO,Object(j["createVNode"])(m,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f,{modelValue:e.fill,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.updateFill(t)})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b,{color:e.fill,style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createElementVNode"])("div",OO,[hO,Object(j["createVNode"])(m,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f,{modelValue:e.gridColor,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.updateGridColor(t)})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b,{color:e.gridColor,style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createVNode"])(i),(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.themeColor,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"row",key:n},[Object(j["createElementVNode"])("div",jO,Object(j["toDisplayString"])(0===n?"主题配色：":""),1),Object(j["createVNode"])(m,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f,{modelValue:t,"onUpdate:modelValue":function(t){return e.updateTheme(t,n)}},null,8,["modelValue","onUpdate:modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",yO,[Object(j["createVNode"])(b,{color:t,style:{width:"100%"}},null,8,["color"]),Object(j["createVNode"])(v,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"删除"},{default:Object(j["withCtx"])((function(){return[0!==n?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:0,class:"delete-color-btn",onClick:Object(j["withModifiers"])((function(t){return e.deleteThemeColor(n)}),["stop"])},[Object(j["createVNode"])(p)],8,gO)):Object(j["createCommentVNode"])("",!0)]})),_:2},1032,["mouseEnterDelay"])])]})),_:2},1024)])})),128)),Object(j["createVNode"])(h,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(m,{trigger:"click",visible:e.presetThemesVisible,"onUpdate:visible":t[11]||(t[11]=function(t){return e.presetThemesVisible=t})},{content:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",xO,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.presetChartThemes,(function(n,o){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"preset-theme",key:o},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(n,(function(c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["preset-theme-color",{select:e.presetThemeColorHoverIndex[0]===o&&l<=e.presetThemeColorHoverIndex[1]}]),key:c,style:Object(j["normalizeStyle"])({backgroundColor:c}),onClick:function(t){return e.applyPresetTheme(n,l)},onMouseenter:function(t){return e.presetThemeColorHoverIndex=[o,l]},onMouseleave:t[10]||(t[10]=function(t){return e.presetThemeColorHoverIndex=[-1,-1]})},null,46,CO)})),128))])})),128))])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{class:"no-padding",style:{flex:"2"}},{default:Object(j["withCtx"])((function(){return[kO]})),_:1})]})),_:1},8,["visible"]),Object(j["createVNode"])(r,{class:"no-padding",disabled:e.themeColor.length>=10,style:{flex:"3"},onClick:t[12]||(t[12]=function(t){return e.addThemeColor()})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(O,{class:"btn-icon"}),EO]})),_:1},8,["disabled"])]})),_:1}),Object(j["createVNode"])(i),Object(j["createVNode"])(y),Object(j["createVNode"])(x,{visible:e.chartDataEditorVisible,"onUpdate:visible":t[15]||(t[15]=function(t){return e.chartDataEditorVisible=t}),footer:null,centered:"",closable:!1,width:648,destroyOnClose:""},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(g,{data:e.handleElement.data,onClose:t[13]||(t[13]=function(t){return e.chartDataEditorVisible=!1}),onSave:t[14]||(t[14]=function(t){return e.updateData(t)})},null,8,["data"])]})),_:1},8,["visible"])])}var NO={class:"chart-data-editor"},VO={class:"editor-content"},IO={class:"range-box"},SO=["id","onFocus","onPaste"],BO={class:"btns"},LO={class:"left"},TO=Object(j["createTextVNode"])("清空"),_O={class:"right"},MO=Object(j["createTextVNode"])("取消"),DO=Object(j["createTextVNode"])("确认");function zO(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("Button");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",NO,[Object(j["createElementVNode"])("div",VO,[Object(j["createElementVNode"])("div",IO,[Object(j["createElementVNode"])("div",{class:"temp-range",style:Object(j["normalizeStyle"])({width:e.tempRangeSize.width+"px",height:e.tempRangeSize.height+"px"})},null,4),(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.rangeLines,(function(e){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["range-line",e.type]),key:e.type,style:Object(j["normalizeStyle"])(e.style)},null,6)})),128)),Object(j["createElementVNode"])("div",{class:"resizable",style:Object(j["normalizeStyle"])(e.resizablePointStyle),onMousedown:t[0]||(t[0]=Object(j["withModifiers"])((function(t){return e.changeSelectRange(t)}),["stop"]))},null,36)]),Object(j["createElementVNode"])("table",null,[Object(j["createElementVNode"])("tbody",null,[(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(31,(function(t){return Object(j["createElementVNode"])("tr",{key:t},[(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(7,(function(n){return Object(j["createElementVNode"])("td",{key:n,class:Object(j["normalizeClass"])({head:1===n&&t<=e.selectedRange[1]||1===t&&n<=e.selectedRange[0]})},[Object(j["createElementVNode"])("input",{class:Object(j["normalizeClass"])(["item",{selected:t<=e.selectedRange[1]&&n<=e.selectedRange[0]}]),id:"cell-".concat(t-1,"-").concat(n-1),autocomplete:"off",onFocus:function(o){return e.focusCell=[t-1,n-1]},onPaste:function(o){return e.handlePaste(o,t-1,n-1)}},null,42,SO)],2)})),64))])})),64))])])]),Object(j["createElementVNode"])("div",BO,[Object(j["createElementVNode"])("div",LO,[Object(j["createVNode"])(a,{class:"btn",onClick:t[1]||(t[1]=function(t){return e.clear()})},{default:Object(j["withCtx"])((function(){return[TO]})),_:1})]),Object(j["createElementVNode"])("div",_O,[Object(j["createVNode"])(a,{class:"btn",onClick:t[2]||(t[2]=function(t){return e.closeEditor()})},{default:Object(j["withCtx"])((function(){return[MO]})),_:1}),Object(j["createVNode"])(a,{type:"primary",class:"btn",onClick:t[3]||(t[3]=function(t){return e.getTableData()}),style:{"margin-left":"10px"}},{default:Object(j["withCtx"])((function(){return[DO]})),_:1})])])])}var AO=100,FO=32,RO=Object(j["defineComponent"])({name:"chart-data-editor",emits:["save","close"],props:{data:{type:Object,required:!0}},setup:function(e,t){var n=t.emit,o=Object(j["ref"])([0,0]),c=Object(j["ref"])({width:0,height:0}),l=Object(j["ref"])(null),a=Object(j["computed"])((function(){var e=o.value[0]*AO,t=o.value[1]*FO;return[{type:"t",style:{width:e+"px"}},{type:"b",style:{top:t+"px",width:e+"px"}},{type:"l",style:{height:t+"px"}},{type:"r",style:{left:e+"px",height:t+"px"}}]})),r=Object(j["computed"])((function(){var e=o.value[0]*AO,t=o.value[1]*FO;return{left:e+"px",top:t+"px"}})),i=function(){var t=[],n=e.data,c=n.labels,l=n.legends,a=n.series,r=c.length,i=a.length;t.push([""].concat(Object($["a"])(l)));for(var u=0;u<r;u++){for(var d=[c[u]],s=0;s<i;s++)d.push(a[s][u]+"");t.push(d)}for(var f=0;f<r+1;f++)for(var b=0;b<i+1;b++){var m=document.querySelector("#cell-".concat(f,"-").concat(b));m&&(m.value=t[f][b]+"")}o.value=[i+1,r+1]};Object(j["onMounted"])(i);var u=function(){if(l.value){var e=Object(ve["a"])(l.value,2),t=e[0],n=e[1],o=document.querySelector("#cell-".concat(t+1,"-").concat(n));o&&o.focus()}},d=function(e){var t=e.key.toUpperCase();t===I.ENTER&&u()};Object(j["onMounted"])((function(){document.addEventListener("keydown",d)})),Object(j["onUnmounted"])((function(){document.removeEventListener("keydown",d)}));var s=function(){for(var e=Object(ve["a"])(o.value,2),t=e[0],c=e[1],l=[],a=[],r=[],i=1;i<c;i++){var u="类别".concat(i),d=document.querySelector("#cell-".concat(i,"-0"));d&&d.value&&(u=d.value),l.push(u)}for(var s=1;s<t;s++){var f="系列".concat(s),b=document.querySelector("#cell-0-".concat(s));b&&b.value&&(f=b.value),a.push(f)}for(var m=1;m<t;m++){for(var p=[],v=1;v<c;v++){var O=document.querySelector("#cell-".concat(v,"-").concat(m)),h=0;O&&O.value&&+O.value&&(h=+O.value),p.push(h)}r.push(p)}n("save",{labels:l,legends:a,series:r})},f=function(){for(var e=1;e<31;e++)for(var t=1;t<7;t++){var n=document.querySelector("#cell-".concat(e,"-").concat(t));n&&(n.value="")}},b=function(e,t,n){if(e.preventDefault(),e.clipboardData){var o=e.clipboardData.items[0];o&&"string"===o.kind&&"text/plain"===o.type&&o.getAsString((function(e){var o=Ge(e);if("object"!==Object(nt["a"])(o)){var c=Xe(e);if(c)for(var l=t+c.length,a=n+c[0].length,r=t;r<l;r++)for(var i=n;i<a;i++){var u=document.querySelector("#cell-".concat(r,"-").concat(i));u&&(u.value=c[r-t][i-n])}}}))}},m=function(){return n("close")},p=function(e){var t=!0,n=e.pageX,l=e.pageY,a=o.value[0]*AO,r=o.value[1]*FO;document.onmousemove=function(e){if(t){var o=e.pageX,i=e.pageY,u=o-n,d=i-l,s=a+u,f=r+d;c.value={width:s,height:f}}},document.onmouseup=function(e){t=!1,document.onmousemove=null,document.onmouseup=null;var a=e.pageX,r=e.pageY;if(n!==a||l!==r){var i=c.value.width,u=c.value.height;i%AO>.5*AO&&(i+=AO-i%AO),u%FO>.5*FO&&(u+=FO-u%FO);var d=Math.round(u/FO),s=Math.round(i/AO);d<3&&(d=3),s<2&&(s=2),o.value=[s,d],c.value={width:0,height:0}}}};return{tempRangeSize:c,rangeLines:a,resizablePointStyle:r,selectedRange:o,focusCell:l,changeSelectRange:p,getTableData:s,closeEditor:m,clear:f,handlePaste:b}}});n("6856");const PO=eo()(RO,[["render",zO],["__scopeId","data-v-9a62f784"]]);var HO=PO,qO=[["#d87c7c","#919e8b","#d7ab82","#6e7074","#61a0a8","#efa18d"],["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78"],["#516b91","#59c4e6","#edafda","#93b7e3","#a5e7f0","#cbb0e3"],["#893448","#d95850","#eb8146","#ffb248","#f2d643","#ebdba4"],["#4ea397","#22c3aa","#7bd9a5","#d0648a","#f58db2","#f2b3c9"],["#3fb1e3","#6be6c1","#626c91","#a0a7e6","#c4ebad","#96dee8"],["#fc97af","#87f7cf","#f7f494","#72ccff","#f7c5a0","#d4a4eb"],["#c1232b","#27727b","#fcce10","#e87c25","#b5c334","#fe8463"],["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3"],["#e01f54","#001852","#f5e8c8","#b8d2c7","#c6b38e","#a4d8c2"],["#c12e34","#e6b600","#0098d9","#2b821d","#005eaa","#339ca8"],["#8a7ca8","#e098c7","#8fd3e8","#71669e","#cc70af","#7cb4cc"]],UO=Object(j["defineComponent"])({name:"chart-style-panel",components:{ElementOutline:tp,ChartDataEditor:HO,ColorButton:Qm},setup:function(){var e=ue(),t=ae(),n=Object(y["c"])(e),o=n.handleElement,c=n.handleElementId,l=Object(y["c"])(t),a=l.theme,r=Object(j["ref"])(!1),i=Object(j["ref"])(!1),u=Object(j["ref"])([-1,-1]),d=dt(),s=d.addHistorySnapshot,f=Object(j["ref"])("#000"),b=Object(j["ref"])([]),m=Object(j["ref"])(""),p=Object(j["ref"])(""),v=Object(j["ref"])(!0),O=Object(j["ref"])(!0),h=Object(j["ref"])(!1),g=Object(j["ref"])(!1),x=Object(j["ref"])(!1),C=Object(j["ref"])(!1);Object(j["watch"])(o,(function(){if(o.value&&"chart"===o.value.type){if(f.value=o.value.fill||"#fff",o.value.options){var e=o.value.options,t=e.lineSmooth,n=e.showLine,c=e.showArea,l=e.horizontalBars,a=e.donut,r=e.stackBars;void 0!==t&&(v.value=t),void 0!==n&&(O.value=n),void 0!==c&&(h.value=c),void 0!==l&&(g.value=l),void 0!==a&&(x.value=a),void 0!==r&&(C.value=r)}b.value=o.value.themeColor,m.value=o.value.gridColor||"#333",p.value=o.value.legend||""}}),{deep:!0,immediate:!0});var k=function(e){t.updateElement({id:c.value,props:e}),s()},E=function(e){r.value=!1,k({data:e})},w=function(e){k({fill:e})},N=function(e){var t=o.value,n=Object(L["a"])(Object(L["a"])({},t.options),e);k({options:n})},V=function(e,t){var n={themeColor:b.value.map((function(n,o){return o===t?e:n}))};k(n)},I=function(){var e={themeColor:[].concat(Object($["a"])(b.value),[a.value.themeColor])};k(e)},S=function(e,t){var n=e.slice(0,t+1);k({themeColor:n}),i.value=!1},B=function(e){var t={themeColor:b.value.filter((function(t,n){return n!==e}))};k(t)},T=function(e){k({gridColor:e})},_=function(e){k({legend:e})},M=function(){return r.value=!0};return Cl.on(zc.OPEN_CHART_DATA_EDITOR,M),Object(j["onUnmounted"])((function(){Cl.off(zc.OPEN_CHART_DATA_EDITOR,M)})),{chartDataEditorVisible:r,presetThemesVisible:i,presetThemeColorHoverIndex:u,handleElement:o,updateData:E,fill:f,updateFill:w,lineSmooth:v,showLine:O,showArea:h,horizontalBars:g,donut:x,stackBars:C,updateOptions:N,themeColor:b,gridColor:m,legend:p,updateTheme:V,addThemeColor:I,deleteThemeColor:B,updateGridColor:T,updateLegend:_,presetChartThemes:qO,applyPresetTheme:S}}});n("f196");const WO=eo()(UO,[["render",wO],["__scopeId","data-v-1a47c852"]]);var GO=WO,XO=function(e){return Object(j["pushScopeId"])("data-v-3da8fdb7"),e=e(),Object(j["popScopeId"])(),e},YO={class:"table-style-panel"},ZO={class:"row"},JO=XO((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"行数：",-1)})),KO={class:"set-count",style:{flex:"3"}},QO={class:"count-text"},$O={class:"row"},eh=XO((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"列数：",-1)})),th={class:"set-count",style:{flex:"3"}},nh={class:"count-text"},oh={class:"row theme-switch"},ch=XO((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"启用主题表格：",-1)})),lh={class:"switch-wrapper",style:{flex:"3"}},ah={class:"row"},rh=Object(j["createTextVNode"])("标题行"),ih=Object(j["createTextVNode"])("汇总行"),uh={class:"row"},dh=Object(j["createTextVNode"])("第一列"),sh=Object(j["createTextVNode"])("最后一列"),fh={class:"row"},bh=XO((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"主题颜色：",-1)}));function mh(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconFontSize"),r=Object(j["resolveComponent"])("SelectOption"),i=Object(j["resolveComponent"])("SelectOptGroup"),u=Object(j["resolveComponent"])("Select"),d=Object(j["resolveComponent"])("IconAddText"),s=Object(j["resolveComponent"])("InputGroup"),f=Object(j["resolveComponent"])("ColorPicker"),b=Object(j["resolveComponent"])("IconText"),m=Object(j["resolveComponent"])("Button"),p=Object(j["resolveComponent"])("Tooltip"),v=Object(j["resolveComponent"])("Popover"),O=Object(j["resolveComponent"])("IconFill"),h=Object(j["resolveComponent"])("ButtonGroup"),y=Object(j["resolveComponent"])("IconTextBold"),g=Object(j["resolveComponent"])("CheckboxButton"),x=Object(j["resolveComponent"])("IconTextItalic"),C=Object(j["resolveComponent"])("IconTextUnderline"),k=Object(j["resolveComponent"])("IconStrikethrough"),E=Object(j["resolveComponent"])("CheckboxButtonGroup"),w=Object(j["resolveComponent"])("IconAlignTextLeft"),N=Object(j["resolveComponent"])("RadioButton"),V=Object(j["resolveComponent"])("IconAlignTextCenter"),I=Object(j["resolveComponent"])("IconAlignTextRight"),S=Object(j["resolveComponent"])("RadioGroup"),B=Object(j["resolveComponent"])("Divider"),L=Object(j["resolveComponent"])("ElementOutline"),T=Object(j["resolveComponent"])("IconMinus"),_=Object(j["resolveComponent"])("IconPlus"),M=Object(j["resolveComponent"])("Switch"),D=Object(j["resolveComponent"])("Checkbox"),z=Object(j["resolveComponent"])("ColorButton");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",YO,[Object(j["createVNode"])(s,{compact:"",class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{style:{flex:"3"},value:e.textAttrs.fontname,onChange:t[0]||(t[0]=function(t){return e.updateTextAttrs({fontname:t})})},{suffixIcon:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(a)]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{label:"系统字体"},{default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.availableFonts,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:e.value,value:e.value},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("span",{style:Object(j["normalizeStyle"])({fontFamily:e.value})},Object(j["toDisplayString"])(e.label),5)]})),_:2},1032,["value"])})),128))]})),_:1}),Object(j["createVNode"])(i,{label:"在线字体"},{default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.webFonts,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:e.value,value:e.value},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("span",null,Object(j["toDisplayString"])(e.label),1)]})),_:2},1032,["value"])})),128))]})),_:1})]})),_:1},8,["value"]),Object(j["createVNode"])(u,{style:{flex:"2"},value:e.textAttrs.fontsize,onChange:t[1]||(t[1]=function(t){return e.updateTextAttrs({fontsize:t})})},{suffixIcon:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(d)]})),default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.fontSizeOptions,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:e,value:e},{default:Object(j["withCtx"])((function(){return[Object(j["createTextVNode"])(Object(j["toDisplayString"])(e),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]})),_:1}),Object(j["createVNode"])(h,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f,{modelValue:e.textAttrs.color,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.updateTextAttrs({color:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字颜色"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(m,{class:"text-color-btn",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b),Object(j["createElementVNode"])("div",{class:"text-color-block",style:Object(j["normalizeStyle"])({backgroundColor:e.textAttrs.color})},null,4)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(v,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f,{modelValue:e.textAttrs.backcolor,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.updateTextAttrs({backcolor:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"单元格填充"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(m,{class:"text-color-btn",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(O),Object(j["createElementVNode"])("div",{class:"text-color-block",style:Object(j["normalizeStyle"])({backgroundColor:e.textAttrs.backcolor})},null,4)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1})]})),_:1}),Object(j["createVNode"])(E,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"加粗"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(g,{style:{flex:"1"},checked:e.textAttrs.bold,onClick:t[4]||(t[4]=function(t){return e.updateTextAttrs({bold:!e.textAttrs.bold})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(y)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"斜体"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(g,{style:{flex:"1"},checked:e.textAttrs.em,onClick:t[5]||(t[5]=function(t){return e.updateTextAttrs({em:!e.textAttrs.em})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下划线"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(g,{style:{flex:"1"},checked:e.textAttrs.underline,onClick:t[6]||(t[6]=function(t){return e.updateTextAttrs({underline:!e.textAttrs.underline})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"删除线"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(g,{style:{flex:"1"},checked:e.textAttrs.strikethrough,onClick:t[7]||(t[7]=function(t){return e.updateTextAttrs({strikethrough:!e.textAttrs.strikethrough})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(k)]})),_:1},8,["checked"])]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(S,{class:"row","button-style":"solid",value:e.textAttrs.align,onChange:t[8]||(t[8]=function(t){return e.updateTextAttrs({align:t.target.value})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(N,{value:"left",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(w)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(N,{value:"center",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(V)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(p,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(N,{value:"right",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(I)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1},8,["value"]),Object(j["createVNode"])(B),Object(j["createVNode"])(L,{fixed:!0}),Object(j["createVNode"])(B),Object(j["createElementVNode"])("div",ZO,[JO,Object(j["createElementVNode"])("div",KO,[Object(j["createVNode"])(m,{class:"btn",disabled:e.rowCount<=1,onClick:t[9]||(t[9]=function(t){return e.setTableRow(e.rowCount-1)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(T)]})),_:1},8,["disabled"]),Object(j["createElementVNode"])("div",QO,Object(j["toDisplayString"])(e.rowCount),1),Object(j["createVNode"])(m,{class:"btn",disabled:e.rowCount>=30,onClick:t[10]||(t[10]=function(t){return e.setTableRow(e.rowCount+1)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(_)]})),_:1},8,["disabled"])])]),Object(j["createElementVNode"])("div",$O,[eh,Object(j["createElementVNode"])("div",th,[Object(j["createVNode"])(m,{class:"btn",disabled:e.colCount<=1,onClick:t[11]||(t[11]=function(t){return e.setTableCol(e.colCount-1)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(T)]})),_:1},8,["disabled"]),Object(j["createElementVNode"])("div",nh,Object(j["toDisplayString"])(e.colCount),1),Object(j["createVNode"])(m,{class:"btn",disabled:e.colCount>=30,onClick:t[12]||(t[12]=function(t){return e.setTableCol(e.colCount+1)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(_)]})),_:1},8,["disabled"])])]),Object(j["createVNode"])(B),Object(j["createElementVNode"])("div",oh,[ch,Object(j["createElementVNode"])("div",lh,[Object(j["createVNode"])(M,{checked:e.hasTheme,onChange:t[13]||(t[13]=function(t){return e.toggleTheme(t)})},null,8,["checked"])])]),e.theme?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[Object(j["createElementVNode"])("div",ah,[Object(j["createVNode"])(D,{onChange:t[14]||(t[14]=function(t){return e.updateTheme({rowHeader:t.target.checked})}),checked:e.theme.rowHeader,style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[rh]})),_:1},8,["checked"]),Object(j["createVNode"])(D,{onChange:t[15]||(t[15]=function(t){return e.updateTheme({rowFooter:t.target.checked})}),checked:e.theme.rowFooter,style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[ih]})),_:1},8,["checked"])]),Object(j["createElementVNode"])("div",uh,[Object(j["createVNode"])(D,{onChange:t[16]||(t[16]=function(t){return e.updateTheme({colHeader:t.target.checked})}),checked:e.theme.colHeader,style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[dh]})),_:1},8,["checked"]),Object(j["createVNode"])(D,{onChange:t[17]||(t[17]=function(t){return e.updateTheme({colFooter:t.target.checked})}),checked:e.theme.colFooter,style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[sh]})),_:1},8,["checked"])]),Object(j["createElementVNode"])("div",fh,[bh,Object(j["createVNode"])(v,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f,{modelValue:e.theme.color,"onUpdate:modelValue":t[18]||(t[18]=function(t){return e.updateTheme({color:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(z,{color:e.theme.color,style:{flex:"3"}},null,8,["color"])]})),_:1})])],64)):Object(j["createCommentVNode"])("",!0)])}var ph=B,vh=Object(j["defineComponent"])({name:"table-style-panel",components:{ElementOutline:tp,ColorButton:Qm},setup:function(){var e=ae(),t=Object(y["c"])(ue()),n=t.handleElement,o=t.handleElementId,c=t.selectedTableCells,l=t.availableFonts,a=Object(j["computed"])((function(){return e.theme.themeColor})),r=["12px","14px","16px","18px","20px","22px","24px","28px","32px"],i=Object(j["ref"])({bold:!1,em:!1,underline:!1,strikethrough:!1,color:"#000",backcolor:"#000",fontsize:"12px",fontname:"微软雅黑",align:"left"}),u=Object(j["ref"])(),d=Object(j["ref"])(!1),s=Object(j["ref"])(0),f=Object(j["ref"])(0),b=Object(j["ref"])(0),m=Object(j["ref"])(0);Object(j["watch"])(n,(function(){n.value&&"table"===n.value.type&&(u.value=n.value.theme,d.value=!!u.value,s.value=n.value.data.length,f.value=n.value.data[0].length,b.value=n.value.data.length,m.value=n.value.data[0].length)}),{deep:!0,immediate:!0});var p=dt(),v=p.addHistorySnapshot,O=function(){if(n.value&&"table"===n.value.type){var e=0,t=0;if(c.value.length){var o=c.value[0];e=+o.split("_")[0],t=+o.split("_")[1]}var l=n.value.data[e][t].style;i.value=l?{bold:!!l.bold,em:!!l.em,underline:!!l.underline,strikethrough:!!l.strikethrough,color:l.color||"#000",backcolor:l.backcolor||"#000",fontsize:l.fontsize||"12px",fontname:l.fontname||"微软雅黑",align:l.align||"left"}:{bold:!1,em:!1,underline:!1,strikethrough:!1,color:"#000",backcolor:"#000",fontsize:"12px",fontname:"微软雅黑",align:"left"}}};Object(j["onMounted"])((function(){c.value.length&&O()})),Object(j["watch"])(c,O);var h=function(t){e.updateElement({id:o.value,props:t}),v()},g=function(e){for(var t=n.value,o=JSON.parse(JSON.stringify(t.data)),l=0;l<o.length;l++)for(var a=0;a<o[l].length;a++)if(!c.value.length||c.value.includes("".concat(l,"_").concat(a))){var r=o[l][a].style||{};o[l][a].style=Object(L["a"])(Object(L["a"])({},r),e)}h({data:o}),O()},x=function(e){if(u.value){var t=Object(L["a"])(Object(L["a"])({},u.value),e);h({theme:t})}},k=function(t){if(t){var n={theme:{color:a.value,rowHeader:!0,rowFooter:!1,colHeader:!1,colFooter:!1}};h(n)}else e.removeElementProps({id:o.value,propName:"theme"}),v()},E=function(e){var t=n.value,o=t.data.length;if(e>o){var c=new Array(f.value).fill({id:Object(C["b"])(10),colspan:1,rowspan:1,text:""}),l=new Array(e-o).fill(c),a=JSON.parse(JSON.stringify(t.data));a.push.apply(a,Object($["a"])(l)),h({data:a})}else{var r=t.data.slice(0,e);h({data:r})}},w=function(e){var t=n.value,o=t.data[0].length,c=t.data,l=t.colWidths.map((function(e){return e*t.width}));if(e>o){var a;c=c.map((function(t){var n=new Array(e-o).fill({id:Object(C["b"])(10),colspan:1,rowspan:1,text:""});return t.push.apply(t,Object($["a"])(n)),t}));var r=new Array(e-o).fill(100);(a=l).push.apply(a,Object($["a"])(r))}else c=c.map((function(t){return t.slice(0,e)})),l=l.slice(0,e);var i=l.reduce((function(e,t){return e+t})),u=l.map((function(e){return e/i})),d={width:i,data:c,colWidths:u};h(d)};return{availableFonts:l,fontSizeOptions:r,textAttrs:i,updateTextAttrs:g,theme:u,rowCount:s,colCount:f,minRowCount:b,minColCount:m,hasTheme:d,toggleTheme:k,updateTheme:x,setTableRow:E,setTableCol:w,webFonts:ph}}});n("91e0");const Oh=eo()(vh,[["render",mh],["__scopeId","data-v-3da8fdb7"]]);var hh=Oh,jh=function(e){return Object(j["pushScopeId"])("data-v-e3a2bd30"),e=e(),Object(j["popScopeId"])(),e},yh={class:"latex-style-panel"},gh={class:"row"},xh=Object(j["createTextVNode"])("编辑 LaTeX"),Ch={class:"row"},kh=jh((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"颜色：",-1)})),Eh={class:"row"},wh=jh((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"粗细：",-1)}));function Nh(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("Button"),r=Object(j["resolveComponent"])("Divider"),i=Object(j["resolveComponent"])("ColorPicker"),u=Object(j["resolveComponent"])("ColorButton"),d=Object(j["resolveComponent"])("Popover"),s=Object(j["resolveComponent"])("InputNumber"),f=Object(j["resolveComponent"])("LaTeXEditor"),b=Object(j["resolveComponent"])("Modal");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",yh,[Object(j["createElementVNode"])("div",gh,[Object(j["createVNode"])(a,{style:{flex:"1"},onClick:t[0]||(t[0]=function(t){return e.latexEditorVisible=!0})},{default:Object(j["withCtx"])((function(){return[xh]})),_:1})]),Object(j["createVNode"])(r),Object(j["createElementVNode"])("div",Ch,[kh,Object(j["createVNode"])(d,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{modelValue:e.handleElement.color,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.updateLatex({color:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{color:e.handleElement.color,style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createElementVNode"])("div",Eh,[wh,Object(j["createVNode"])(s,{min:1,max:3,value:e.handleElement.strokeWidth,onChange:t[2]||(t[2]=function(t){return e.updateLatex({strokeWidth:t})}),style:{flex:"3"}},null,8,["value"])]),Object(j["createVNode"])(b,{visible:e.latexEditorVisible,"onUpdate:visible":t[5]||(t[5]=function(t){return e.latexEditorVisible=t}),footer:null,centered:"",width:880,destroyOnClose:""},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f,{value:e.handleElement.latex,onClose:t[3]||(t[3]=function(t){return e.latexEditorVisible=!1}),onUpdate:t[4]||(t[4]=function(t){e.updateLatexData(t),e.latexEditorVisible=!1})},null,8,["value"])]})),_:1},8,["visible"])])}var Vh=Object(j["defineComponent"])({name:"latex-style-panel",components:{ColorButton:Qm,LaTeXEditor:Bb},setup:function(){var e=ae(),t=Object(y["c"])(ue()),n=t.handleElement,o=Object(j["ref"])(!1),c=dt(),l=c.addHistorySnapshot,a=function(t){n.value&&(e.updateElement({id:n.value.id,props:t}),l())},r=function(e){a({path:e.path,latex:e.latex,width:e.w,height:e.h,viewBox:[e.w,e.h]})},i=function(){return o.value=!0};return Cl.on(zc.OPEN_LATEX_EDITOR,i),Object(j["onUnmounted"])((function(){Cl.off(zc.OPEN_LATEX_EDITOR,i)})),{handleElement:n,latexEditorVisible:o,updateLatex:a,updateLatexData:r}}});n("04ba");const Ih=eo()(Vh,[["render",Nh],["__scopeId","data-v-e3a2bd30"]]);var Sh=Ih,Bh=function(e){return Object(j["pushScopeId"])("data-v-61bcaa2a"),e=e(),Object(j["popScopeId"])(),e},Lh={class:"video-style-panel"},Th=Bh((function(){return Object(j["createElementVNode"])("div",{class:"title"},"视频预览封面",-1)})),_h={class:"background-image-wrapper"},Mh={class:"background-image"},Dh={class:"row"},zh=Object(j["createTextVNode"])("重置封面");function Ah(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconPlus"),r=Object(j["resolveComponent"])("FileInput"),i=Object(j["resolveComponent"])("Button");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Lh,[Th,Object(j["createElementVNode"])("div",_h,[Object(j["createVNode"])(r,{onChange:t[0]||(t[0]=function(t){return e.setVideoPoster(t)})},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",Mh,[Object(j["createElementVNode"])("div",{class:"content",style:Object(j["normalizeStyle"])({backgroundImage:"url(".concat(e.handleElement.poster,")")})},[Object(j["createVNode"])(a)],4)])]})),_:1})]),Object(j["createElementVNode"])("div",Dh,[Object(j["createVNode"])(i,{style:{flex:"1"},onClick:t[1]||(t[1]=function(t){return e.updateVideo({poster:""})})},{default:Object(j["withCtx"])((function(){return[zh]})),_:1})])])}var Fh=Object(j["defineComponent"])({name:"video-style-panel",setup:function(){var e=ae(),t=Object(y["c"])(ue()),n=t.handleElement,o=dt(),c=o.addHistorySnapshot,l=function(t){n.value&&(e.updateElement({id:n.value.id,props:t}),c())},a=function(e){var t=e[0];t&&lt(t).then((function(e){return l({poster:e})}))};return{handleElement:n,updateVideo:l,setVideoPoster:a}}});n("c43a");const Rh=eo()(Fh,[["render",Ah],["__scopeId","data-v-61bcaa2a"]]);var Ph=Rh,Hh=function(e){return Object(j["pushScopeId"])("data-v-58a36be6"),e=e(),Object(j["popScopeId"])(),e},qh={class:"audio-style-panel"},Uh={class:"row"},Wh=Hh((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"图标颜色：",-1)})),Gh={class:"row switch-row"},Xh=Hh((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"自动播放：",-1)})),Yh={class:"switch-wrapper",style:{flex:"3"}},Zh={class:"row switch-row"},Jh=Hh((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"循环播放：",-1)})),Kh={class:"switch-wrapper",style:{flex:"3"}};function Qh(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("ColorPicker"),r=Object(j["resolveComponent"])("ColorButton"),i=Object(j["resolveComponent"])("Popover"),u=Object(j["resolveComponent"])("Switch");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",qh,[Object(j["createElementVNode"])("div",Uh,[Wh,Object(j["createVNode"])(i,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(a,{modelValue:e.handleElement.color,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.updateAudio({color:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{color:e.handleElement.color,style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createElementVNode"])("div",Gh,[Xh,Object(j["createElementVNode"])("div",Yh,[Object(j["createVNode"])(u,{checked:e.handleElement.autoplay,onChange:t[1]||(t[1]=function(t){return e.updateAudio({autoplay:t})})},null,8,["checked"])])]),Object(j["createElementVNode"])("div",Zh,[Jh,Object(j["createElementVNode"])("div",Kh,[Object(j["createVNode"])(u,{checked:e.handleElement.loop,onChange:t[2]||(t[2]=function(t){return e.updateAudio({loop:t})})},null,8,["checked"])])])])}var $h=Object(j["defineComponent"])({name:"audio-style-panel",components:{ColorButton:Qm},setup:function(){var e=ae(),t=Object(y["c"])(ue()),n=t.handleElement,o=dt(),c=o.addHistorySnapshot,l=function(t){n.value&&(e.updateElement({id:n.value.id,props:t}),c())};return{handleElement:n,updateAudio:l}}});n("413c");const ej=eo()($h,[["render",Qh],["__scopeId","data-v-58a36be6"]]);var tj=ej,nj=function(e){return Object(j["pushScopeId"])("data-v-e5e0fba2"),e=e(),Object(j["popScopeId"])(),e},oj={class:"multi-style-panel"},cj={class:"row"},lj=nj((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"填充颜色：",-1)})),aj={class:"row"},rj=nj((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"边框样式：",-1)})),ij=Object(j["createTextVNode"])("实线边框"),uj=Object(j["createTextVNode"])("虚线边框"),dj={class:"row"},sj=nj((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"边框颜色：",-1)})),fj={class:"row"},bj=nj((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"边框粗细：",-1)})),mj=Object(j["createTextVNode"])("+"),pj=Object(j["createTextVNode"])("-");function vj(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("ColorPicker"),r=Object(j["resolveComponent"])("ColorButton"),i=Object(j["resolveComponent"])("Popover"),u=Object(j["resolveComponent"])("Divider"),d=Object(j["resolveComponent"])("SelectOption"),s=Object(j["resolveComponent"])("Select"),f=Object(j["resolveComponent"])("InputNumber"),b=Object(j["resolveComponent"])("IconFontSize"),m=Object(j["resolveComponent"])("SelectOptGroup"),p=Object(j["resolveComponent"])("IconAddText"),v=Object(j["resolveComponent"])("InputGroup"),O=Object(j["resolveComponent"])("IconText"),h=Object(j["resolveComponent"])("Button"),y=Object(j["resolveComponent"])("Tooltip"),g=Object(j["resolveComponent"])("IconHighLight"),x=Object(j["resolveComponent"])("ButtonGroup"),C=Object(j["resolveComponent"])("IconAlignTextLeft"),k=Object(j["resolveComponent"])("RadioButton"),E=Object(j["resolveComponent"])("IconAlignTextCenter"),w=Object(j["resolveComponent"])("IconAlignTextRight"),N=Object(j["resolveComponent"])("RadioGroup");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",oj,[Object(j["createElementVNode"])("div",cj,[lj,Object(j["createVNode"])(i,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(a,{modelValue:e.fill,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.updateFill(t)})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{color:e.fill,style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createVNode"])(u),Object(j["createElementVNode"])("div",aj,[rj,Object(j["createVNode"])(s,{style:{flex:"3"},value:e.outline.style,onChange:t[1]||(t[1]=function(t){return e.updateOutline({style:t})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(d,{value:"solid"},{default:Object(j["withCtx"])((function(){return[ij]})),_:1}),Object(j["createVNode"])(d,{value:"dashed"},{default:Object(j["withCtx"])((function(){return[uj]})),_:1})]})),_:1},8,["value"])]),Object(j["createElementVNode"])("div",dj,[sj,Object(j["createVNode"])(i,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(a,{modelValue:e.outline.color,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.updateOutline({color:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{color:e.outline.color||"#000",style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createElementVNode"])("div",fj,[bj,Object(j["createVNode"])(f,{value:e.outline.width,onChange:t[3]||(t[3]=function(t){return e.updateOutline({width:t})}),style:{flex:"3"}},null,8,["value"])]),Object(j["createVNode"])(u),Object(j["createVNode"])(v,{compact:"",class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(s,{style:{flex:"3"},value:e.richTextAttrs.fontname,onChange:t[4]||(t[4]=function(t){return e.updateFontStyle("fontname",t)})},{suffixIcon:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b)]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(m,{label:"系统字体"},{default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.availableFonts,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(d,{key:e.value,value:e.value},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("span",{style:Object(j["normalizeStyle"])({fontFamily:e.value})},Object(j["toDisplayString"])(e.label),5)]})),_:2},1032,["value"])})),128))]})),_:1}),Object(j["createVNode"])(m,{label:"在线字体"},{default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.webFonts,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(d,{key:e.value,value:e.value},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("span",null,Object(j["toDisplayString"])(e.label),1)]})),_:2},1032,["value"])})),128))]})),_:1})]})),_:1},8,["value"]),Object(j["createVNode"])(s,{style:{flex:"2"},value:e.richTextAttrs.fontsize,onChange:t[5]||(t[5]=function(t){return e.updateFontStyle("fontsize",t)})},{suffixIcon:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p)]})),default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.fontSizeOptions,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(d,{key:e,value:e},{default:Object(j["withCtx"])((function(){return[Object(j["createTextVNode"])(Object(j["toDisplayString"])(e),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]})),_:1}),Object(j["createVNode"])(x,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(a,{modelValue:e.richTextAttrs.color,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.updateFontStyle("color",t)})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(y,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字颜色"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(h,{class:"text-color-btn",style:{flex:"3"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(O),Object(j["createElementVNode"])("div",{class:"text-color-block",style:Object(j["normalizeStyle"])({backgroundColor:e.richTextAttrs.color})},null,4)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(i,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(a,{modelValue:e.richTextAttrs.backcolor,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.updateFontStyle("backcolor",t)})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(y,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"文字高亮"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(h,{class:"text-color-btn",style:{flex:"3"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(g),Object(j["createElementVNode"])("div",{class:"text-color-block",style:Object(j["normalizeStyle"])({backgroundColor:e.richTextAttrs.backcolor})},null,4)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(y,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"增大字号"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(h,{class:"font-size-btn",style:{flex:"2"},onClick:t[8]||(t[8]=function(t){return e.updateFontStyle("fontsize-add","2")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b),mj]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(y,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"减小字号"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(h,{class:"font-size-btn",style:{flex:"2"},onClick:t[9]||(t[9]=function(t){return e.updateFontStyle("fontsize-reduce","2")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b),pj]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(N,{class:"row","button-style":"solid",value:e.richTextAttrs.align,onChange:t[10]||(t[10]=function(t){return e.updateFontStyle("align",t.target.value)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(y,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(k,{value:"left",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(y,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"居中"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(k,{value:"center",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(E)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(y,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(k,{value:"right",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(w)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1},8,["value"])])}var Oj=B,hj=Object(j["defineComponent"])({name:"multi-style-panel",components:{ColorButton:Qm},setup:function(){var e=ae(),t=Object(y["c"])(ue()),n=t.richTextAttrs,o=t.availableFonts,c=t.activeElementList,l=dt(),a=l.addHistorySnapshot,r=function(t,n){e.updateElement({id:t,props:n}),a()},i=["12px","14px","16px","18px","20px","22px","24px","28px","32px","36px","40px","44px","48px","54px","60px","66px","72px","76px","80px","88px","96px","104px","112px","120px"],u=Object(j["ref"])("#fff"),d=Object(j["ref"])({width:0,color:"#fff",style:"solid"}),s=function(e){var t,n=Object(T["a"])(c.value);try{for(n.s();!(t=n.n()).done;){var o=t.value;if("text"!==o.type&&"shape"!==o.type&&"chart"!==o.type||r(o.id,{fill:e}),"table"===o.type){for(var l=JSON.parse(JSON.stringify(o.data)),a=0;a<l.length;a++)for(var i=0;i<l[a].length;i++){var d=l[a][i].style||{};l[a][i].style=Object(L["a"])(Object(L["a"])({},d),{},{backcolor:e})}r(o.id,{data:l})}"audio"===o.type&&r(o.id,{color:e})}}catch(s){n.e(s)}finally{n.f()}u.value=e},f=function(e){var t,n=Object(T["a"])(c.value);try{for(n.s();!(t=n.n()).done;){var o=t.value;if("text"===o.type||"image"===o.type||"shape"===o.type||"table"===o.type||"chart"===o.type){var l=o.outline||{width:2,color:"#000",style:"solid"},a={outline:Object(L["a"])(Object(L["a"])({},l),e)};r(o.id,a)}"line"===o.type&&r(o.id,e)}}catch(i){n.e(i)}finally{n.f()}d.value=Object(L["a"])(Object(L["a"])({},d.value),e)},b=function(e,t){var n,o=Object(T["a"])(c.value);try{for(o.s();!(n=o.n()).done;){var l,a=n.value;if(("text"===a.type||"shape"===a.type&&null!==(l=a.text)&&void 0!==l&&l.content)&&Cl.emit(zc.RICH_TEXT_COMMAND,{target:a.id,action:{command:e,value:t}}),"table"===a.type){for(var i=JSON.parse(JSON.stringify(a.data)),u=0;u<i.length;u++)for(var d=0;d<i[u].length;d++){var s=i[u][d].style||{};i[u][d].style=Object(L["a"])(Object(L["a"])({},s),{},Object(pe["a"])({},e,t))}r(a.id,{data:i})}"latex"===a.type&&"color"===e&&r(a.id,{color:t})}}catch(f){o.e(f)}finally{o.f()}};return{webFonts:Oj,richTextAttrs:n,availableFonts:o,fontSizeOptions:i,fill:u,outline:d,updateFill:s,updateOutline:f,updateFontStyle:b}}});n("37cc");const jj=eo()(hj,[["render",vj],["__scopeId","data-v-e5e0fba2"]]);var yj,gj=jj,xj=(yj={},Object(pe["a"])(yj,Te.TEXT,Cp),Object(pe["a"])(yj,Te.IMAGE,lv),Object(pe["a"])(yj,Te.SHAPE,wv),Object(pe["a"])(yj,Te.LINE,Jv),Object(pe["a"])(yj,Te.CHART,GO),Object(pe["a"])(yj,Te.TABLE,hh),Object(pe["a"])(yj,Te.LATEX,Sh),Object(pe["a"])(yj,Te.VIDEO,Ph),Object(pe["a"])(yj,Te.AUDIO,tj),yj),Cj=Object(j["defineComponent"])({name:"element-style-panel",setup:function(){var e=Object(y["c"])(ue()),t=e.activeElementIdList,n=e.activeElementList,o=e.handleElement,c=e.activeGroupElementId,l=Object(j["computed"])((function(){if(t.value.length>1){if(!c.value)return gj;var e=n.value.find((function(e){return e.id===c.value}));return e&&xj[e.type]||null}return o.value&&xj[o.value.type]||null}));return{handleElement:o,currentPanelComponent:l}}});const kj=eo()(Cj,[["render",cm]]);var Ej=kj,wj=function(e){return Object(j["pushScopeId"])("data-v-4f10fba6"),e=e(),Object(j["popScopeId"])(),e},Nj={class:"element-positopn-panel"},Vj=wj((function(){return Object(j["createElementVNode"])("div",{class:"title"},"层级：",-1)})),Ij=Object(j["createTextVNode"])(" 置于顶层"),Sj=Object(j["createTextVNode"])(" 置于底层"),Bj=Object(j["createTextVNode"])(" 上移一层"),Lj=Object(j["createTextVNode"])(" 下移一层"),Tj=wj((function(){return Object(j["createElementVNode"])("div",{class:"title"},"对齐：",-1)})),_j={class:"row"},Mj=wj((function(){return Object(j["createElementVNode"])("div",{style:{flex:"3"}},"位置：",-1)})),Dj=wj((function(){return Object(j["createElementVNode"])("div",{style:{flex:"1"}},null,-1)})),zj=Object(j["createStaticVNode"])('<div class="row" data-v-4f10fba6><div style="flex:3;" data-v-4f10fba6></div><div style="flex:4;" class="label" data-v-4f10fba6>X</div><div style="flex:1;" data-v-4f10fba6></div><div style="flex:4;" class="label" data-v-4f10fba6>Y</div></div>',1),Aj={class:"row"},Fj=wj((function(){return Object(j["createElementVNode"])("div",{style:{flex:"3"}},"大小：",-1)})),Rj={key:1,style:{flex:"1"}},Pj=Object(j["createStaticVNode"])('<div class="row" data-v-4f10fba6><div style="flex:3;" data-v-4f10fba6></div><div style="flex:4;" class="label" data-v-4f10fba6>宽</div><div style="flex:1;" data-v-4f10fba6></div><div style="flex:4;" class="label" data-v-4f10fba6>高</div></div>',1),Hj={class:"row"},qj=wj((function(){return Object(j["createElementVNode"])("div",{style:{flex:"3"}},"旋转：",-1)})),Uj=wj((function(){return Object(j["createElementVNode"])("div",{style:{flex:"1"}},null,-1)}));function Wj(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconSendToBack"),r=Object(j["resolveComponent"])("Button"),i=Object(j["resolveComponent"])("IconBringToFrontOne"),u=Object(j["resolveComponent"])("ButtonGroup"),d=Object(j["resolveComponent"])("IconBringToFront"),s=Object(j["resolveComponent"])("IconSentToBack"),f=Object(j["resolveComponent"])("Divider"),b=Object(j["resolveComponent"])("IconAlignLeft"),m=Object(j["resolveComponent"])("Tooltip"),p=Object(j["resolveComponent"])("IconAlignVertically"),v=Object(j["resolveComponent"])("IconAlignRight"),O=Object(j["resolveComponent"])("IconAlignTop"),h=Object(j["resolveComponent"])("IconAlignHorizontally"),y=Object(j["resolveComponent"])("IconAlignBottom"),g=Object(j["resolveComponent"])("InputNumber"),x=Object(j["resolveComponent"])("IconLock"),C=Object(j["resolveComponent"])("IconUnlock"),k=Object(j["resolveComponent"])("IconRotate");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Nj,[Vj,Object(j["createVNode"])(u,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[0]||(t[0]=function(t){return e.orderElement(e.handleElement,e.ElementOrderCommands.TOP)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(a,{class:"btn-icon"}),Ij]})),_:1}),Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[1]||(t[1]=function(t){return e.orderElement(e.handleElement,e.ElementOrderCommands.BOTTOM)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{class:"btn-icon"}),Sj]})),_:1})]})),_:1}),Object(j["createVNode"])(u,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[2]||(t[2]=function(t){return e.orderElement(e.handleElement,e.ElementOrderCommands.UP)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(d,{class:"btn-icon"}),Bj]})),_:1}),Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[3]||(t[3]=function(t){return e.orderElement(e.handleElement,e.ElementOrderCommands.DOWN)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(s,{class:"btn-icon"}),Lj]})),_:1})]})),_:1}),Object(j["createVNode"])(f),Tj,Object(j["createVNode"])(u,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[4]||(t[4]=function(t){return e.alignElementToCanvas(e.ElementAlignCommands.LEFT)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"水平居中"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[5]||(t[5]=function(t){return e.alignElementToCanvas(e.ElementAlignCommands.HORIZONTAL)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[6]||(t[6]=function(t){return e.alignElementToCanvas(e.ElementAlignCommands.RIGHT)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(u,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"上对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[7]||(t[7]=function(t){return e.alignElementToCanvas(e.ElementAlignCommands.TOP)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(O)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"垂直居中"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[8]||(t[8]=function(t){return e.alignElementToCanvas(e.ElementAlignCommands.VERTICAL)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(h)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[9]||(t[9]=function(t){return e.alignElementToCanvas(e.ElementAlignCommands.BOTTOM)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(y)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(f),Object(j["createElementVNode"])("div",_j,[Mj,Object(j["createVNode"])(g,{step:5,value:e.left,onChange:t[10]||(t[10]=function(t){return e.updateLeft(t)}),style:{flex:"4"}},null,8,["value"]),Dj,Object(j["createVNode"])(g,{step:5,value:e.top,onChange:t[11]||(t[11]=function(t){return e.updateTop(t)}),style:{flex:"4"}},null,8,["value"])]),zj,"line"!==e.handleElement.type?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[Object(j["createElementVNode"])("div",Aj,[Fj,Object(j["createVNode"])(g,{min:e.minSize,max:1500,step:5,value:e.width,onChange:t[12]||(t[12]=function(t){return e.updateWidth(t)}),style:{flex:"4"}},null,8,["min","value"]),["image","shape","audio"].includes(e.handleElement.type)?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[e.fixedRatio?(Object(j["openBlock"])(),Object(j["createBlock"])(m,{key:0,mouseLeaveDelay:0,mouseEnterDelay:.5,title:"解除宽高比锁定"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x,{style:{flex:"1"},class:"icon-btn",onClick:t[13]||(t[13]=function(t){return e.updateFixedRatio(!1)})})]})),_:1},8,["mouseEnterDelay"])):(Object(j["openBlock"])(),Object(j["createBlock"])(m,{key:1,mouseLeaveDelay:0,mouseEnterDelay:.5,title:"宽高比锁定"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C,{style:{flex:"1"},class:"icon-btn",onClick:t[14]||(t[14]=function(t){return e.updateFixedRatio(!0)})})]})),_:1},8,["mouseEnterDelay"]))],64)):(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Rj)),Object(j["createVNode"])(g,{min:e.minSize,max:800,step:5,disabled:"text"===e.handleElement.type,value:e.height,onChange:t[15]||(t[15]=function(t){return e.updateHeight(t)}),style:{flex:"4"}},null,8,["min","disabled","value"])]),Pj],64)):Object(j["createCommentVNode"])("",!0),["line","video","audio"].includes(e.handleElement.type)?Object(j["createCommentVNode"])("",!0):(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:1},[Object(j["createVNode"])(f),Object(j["createElementVNode"])("div",Hj,[qj,Object(j["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"逆时针旋转"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(k,{class:"icon-btn",onClick:t[16]||(t[16]=function(t){return e.updateRotate45("-")}),style:{flex:"2"}})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(m,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"顺时针旋转"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(k,{class:"icon-btn",onClick:t[17]||(t[17]=function(t){return e.updateRotate45("+")}),style:Object(j["normalizeStyle"])({flex:2,transform:"rotateY(180deg)"})},null,8,["style"])]})),_:1},8,["mouseEnterDelay"]),Uj,Object(j["createVNode"])(g,{min:-180,max:180,step:5,value:e.rotate,onChange:t[18]||(t[18]=function(t){return e.updateRotate(t)}),style:{flex:"4"}},null,8,["value"])])],64))])}var Gj=Object(j["defineComponent"])({name:"element-positopn-panel",setup:function(){var e=ae(),t=Object(y["c"])(ue()),n=t.handleElement,o=t.handleElementId,c=Object(j["ref"])(0),l=Object(j["ref"])(0),a=Object(j["ref"])(0),r=Object(j["ref"])(0),i=Object(j["ref"])(0),u=Object(j["ref"])(!1),d=Object(j["computed"])((function(){return n.value&&jo[n.value.type]||20}));Object(j["watch"])(n,(function(){n.value&&(c.value=Object(ne["round"])(n.value.left,1),l.value=Object(ne["round"])(n.value.top,1),u.value="fixedRatio"in n.value&&!!n.value.fixedRatio,"line"!==n.value.type&&(a.value=Object(ne["round"])(n.value.width,1),r.value=Object(ne["round"])(n.value.height,1),i.value="rotate"in n.value&&void 0!==n.value.rotate?Object(ne["round"])(n.value.rotate,1):0))}),{deep:!0,immediate:!0});var s=gt(),f=s.orderElement,b=Io(),m=b.alignElementToCanvas,p=dt(),v=p.addHistorySnapshot,O=function(t){var n={left:t};e.updateElement({id:o.value,props:n}),v()},h=function(t){var n={top:t};e.updateElement({id:o.value,props:n}),v()},g=function(t){var n={width:t};e.updateElement({id:o.value,props:n}),v()},x=function(t){var n={height:t};e.updateElement({id:o.value,props:n}),v()},C=function(t){var n={rotate:t};e.updateElement({id:o.value,props:n}),v()},w=function(t){var n={fixedRatio:t};e.updateElement({id:o.value,props:n}),v()},N=function(t){var n=45*Math.floor(i.value/45);"+"===t?n+=45:"-"===t&&(n-=45),n<-180&&(n=-180),n>180&&(n=180);var c={rotate:n};e.updateElement({id:o.value,props:c}),v()};return{handleElement:n,orderElement:f,alignElementToCanvas:m,left:c,top:l,width:a,height:r,rotate:i,fixedRatio:u,minSize:d,updateLeft:O,updateTop:h,updateWidth:g,updateHeight:x,updateRotate:C,updateFixedRatio:w,updateRotate45:N,ElementOrderCommands:k,ElementAlignCommands:E}}});n("568a");const Xj=eo()(Gj,[["render",Wj],["__scopeId","data-v-4f10fba6"]]);var Yj=Xj,Zj=function(e){return Object(j["pushScopeId"])("data-v-2079ad20"),e=e(),Object(j["popScopeId"])(),e},Jj={class:"element-animation-panel"},Kj={key:0,class:"element-animation"},Qj={class:"tabs"},$j=["onClick"],ey={class:"type-title"},ty={class:"pool-item-wrapper"},ny=["onMouseenter","onClick"],oy={key:0,class:"mask"},cy=Object(j["createTextVNode"])(" 添加动画 "),ly={key:1,class:"tip"},ay=Object(j["createTextVNode"])(" 选中画布中的元素添加动画"),ry={class:"sequence-content"},iy={class:"index"},uy={class:"text"},dy={class:"handler"},sy={key:0,class:"configs"},fy={class:"config-item"},by=Zj((function(){return Object(j["createElementVNode"])("div",{style:{flex:"3"}},"持续时长：",-1)})),my={class:"config-item"},py=Zj((function(){return Object(j["createElementVNode"])("div",{style:{flex:"3"}},"触发方式：",-1)})),vy=Object(j["createTextVNode"])("主动触发"),Oy=Object(j["createTextVNode"])("与上一动画同时"),hy=Object(j["createTextVNode"])("上一动画之后"),jy={class:"config-item"},yy=Object(j["createTextVNode"])("更换动画");function gy(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconEffects"),r=Object(j["resolveComponent"])("Button"),i=Object(j["resolveComponent"])("Popover"),u=Object(j["resolveComponent"])("IconClick"),d=Object(j["resolveComponent"])("Divider"),s=Object(j["resolveComponent"])("IconPlayOne"),f=Object(j["resolveComponent"])("Tooltip"),b=Object(j["resolveComponent"])("IconCloseSmall"),m=Object(j["resolveComponent"])("InputNumber"),p=Object(j["resolveComponent"])("SelectOption"),v=Object(j["resolveComponent"])("Select"),O=Object(j["resolveComponent"])("Draggable");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Jj,[e.handleElement?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Kj,[Object(j["createVNode"])(i,{trigger:"click",visible:e.animationPoolVisible,"onUpdate:visible":t[2]||(t[2]=function(t){return e.animationPoolVisible=t}),onVisibleChange:t[3]||(t[3]=function(t){return e.handlePopoverVisibleChange(t)})},{content:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",Qj,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.tabs,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["tab",t.key,{active:e.activeTab===t.key}]),key:t.key,onClick:function(n){return e.activeTab=t.key}},Object(j["toDisplayString"])(t.label),11,$j)})),128))]),(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.animationTypes,(function(n){return Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],null,[e.activeTab===n?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["animation-pool",n]),key:n},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.animations[n],(function(o){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"pool-type",key:o.name},[Object(j["createElementVNode"])("div",ey,Object(j["toDisplayString"])(o.name)+"：",1),Object(j["createElementVNode"])("div",ty,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(o.children,(function(o){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"pool-item",key:o.name,onMouseenter:function(t){return e.hoverPreviewAnimation=o.value},onMouseleave:t[0]||(t[0]=function(t){return e.hoverPreviewAnimation=""}),onClick:function(t){return e.addAnimation(n,o.value)}},[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["animation-box",["".concat(e.prefix,"animated"),"".concat(e.prefix,"fast"),e.hoverPreviewAnimation===o.value&&"".concat(e.prefix).concat(o.value)]])},Object(j["toDisplayString"])(o.name),3)],40,ny)})),128))])])})),128)),e.popoverMaskHide?Object(j["createCommentVNode"])("",!0):(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",oy))],2)):Object(j["createCommentVNode"])("",!0)],64)})),256))]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{class:"element-animation-btn",onClick:t[1]||(t[1]=function(t){return e.handleAnimationId=""})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(a,{style:{"margin-right":"5px"}}),cy]})),_:1})]})),_:1},8,["visible"])])):(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",ly,[Object(j["createVNode"])(u,{style:{"margin-right":"5px"}}),ay])),Object(j["createVNode"])(d),Object(j["createVNode"])(O,{class:"animation-sequence",modelValue:e.animationSequence,animation:300,scroll:!0,scrollSensitivity:50,handle:".sequence-content",onEnd:e.handleDragEnd,itemKey:"id"},{item:Object(j["withCtx"])((function(t){var n,o,c=t.element;return[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["sequence-item",[c.type,{active:(null===(n=e.handleElement)||void 0===n?void 0:n.id)===c.elId}]])},[Object(j["createElementVNode"])("div",ry,[Object(j["createElementVNode"])("div",iy,Object(j["toDisplayString"])(c.index),1),Object(j["createElementVNode"])("div",uy,"【"+Object(j["toDisplayString"])(c.elType)+"】"+Object(j["toDisplayString"])(c.animationEffect),1),Object(j["createElementVNode"])("div",dy,[Object(j["createVNode"])(f,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"预览"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(s,{class:"handler-btn",onClick:function(t){return e.runAnimation(c.elId,c.effect,c.duration)}},null,8,["onClick"])]})),_:2},1032,["mouseEnterDelay"]),Object(j["createVNode"])(f,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"删除"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b,{class:"handler-btn",onClick:function(t){return e.deleteAnimation(c.id)}},null,8,["onClick"])]})),_:2},1032,["mouseEnterDelay"])])]),(null===(o=e.handleElementAnimation[0])||void 0===o?void 0:o.elId)===c.elId?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",sy,[Object(j["createVNode"])(d,{style:{margin:"16px 0"}}),Object(j["createElementVNode"])("div",fy,[by,Object(j["createVNode"])(m,{min:500,max:3e3,step:500,value:c.duration,onChange:function(t){return e.updateElementAnimationDuration(c.id,t)},style:{flex:"5"}},null,8,["value","onChange"])]),Object(j["createElementVNode"])("div",my,[py,Object(j["createVNode"])(v,{value:c.trigger,onChange:function(t){return e.updateElementAnimationTrigger(c.id,t)},style:{flex:"5"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p,{value:"click"},{default:Object(j["withCtx"])((function(){return[vy]})),_:1}),Object(j["createVNode"])(p,{value:"meantime"},{default:Object(j["withCtx"])((function(){return[Oy]})),_:1}),Object(j["createVNode"])(p,{value:"auto"},{default:Object(j["withCtx"])((function(){return[hy]})),_:1})]})),_:2},1032,["value","onChange"])]),Object(j["createElementVNode"])("div",jy,[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:function(t){return e.openAnimationPool(c.id)}},{default:Object(j["withCtx"])((function(){return[yy]})),_:2},1032,["onClick"])])])):Object(j["createCommentVNode"])("",!0)],2)]})),_:1},8,["modelValue","onEnd"])])}var xy,Cy=1e3,ky="click",Ey="animate__",wy=[{type:"bounce",name:"弹跳",children:[{name:"弹入",value:"bounceIn"},{name:"向右弹入",value:"bounceInLeft"},{name:"向左弹入",value:"bounceInRight"},{name:"向上弹入",value:"bounceInUp"},{name:"向下弹入",value:"bounceInDown"}]},{type:"fade",name:"浮现",children:[{name:"浮入",value:"fadeIn"},{name:"向下浮入",value:"fadeInDown"},{name:"向下长距浮入",value:"fadeInDownBig"},{name:"向右浮入",value:"fadeInLeft"},{name:"向右长距浮入",value:"fadeInLeftBig"},{name:"向左浮入",value:"fadeInRight"},{name:"向左长距浮入",value:"fadeInRightBig"},{name:"向上浮入",value:"fadeInUp"},{name:"向上长距浮入",value:"fadeInUpBig"},{name:"从左上浮入",value:"fadeInTopLeft"},{name:"从右上浮入",value:"fadeInTopRight"},{name:"从左下浮入",value:"fadeInBottomLeft"},{name:"从右下浮入",value:"fadeInBottomRight"}]},{type:"rotate",name:"旋转",children:[{name:"旋转进入",value:"rotateIn"},{name:"绕左下进入",value:"rotateInDownLeft"},{name:"绕右下进入",value:"rotateInDownRight"},{name:"绕左上进入",value:"rotateInUpLeft"},{name:"绕右上进入",value:"rotateInUpRight"}]},{type:"zoom",name:"缩放",children:[{name:"放大进入",value:"zoomIn"},{name:"向下放大进入",value:"zoomInDown"},{name:"从左放大进入",value:"zoomInLeft"},{name:"从右放大进入",value:"zoomInRight"},{name:"向上放大进入",value:"zoomInUp"}]},{type:"slide",name:"滑入",children:[{name:"向下滑入",value:"slideInDown"},{name:"从右滑入",value:"slideInLeft"},{name:"从左滑入",value:"slideInRight"},{name:"向上滑入",value:"slideInUp"}]},{type:"flip",name:"翻转",children:[{name:"X轴翻转进入",value:"flipInX"},{name:"Y轴翻转进入",value:"flipInY"}]},{type:"back",name:"放大滑入",children:[{name:"向下放大滑入",value:"backInDown"},{name:"从左放大滑入",value:"backInLeft"},{name:"从右放大滑入",value:"backInRight"},{name:"向上放大滑入",value:"backInUp"}]},{type:"lightSpeed",name:"飞入",children:[{name:"从右飞入",value:"lightSpeedInRight"},{name:"从左飞入",value:"lightSpeedInLeft"}]}],Ny=[{type:"bounce",name:"弹跳",children:[{name:"弹出",value:"bounceOut"},{name:"向左弹出",value:"bounceOutLeft"},{name:"向右弹出",value:"bounceOutRight"},{name:"向上弹出",value:"bounceOutUp"},{name:"向下弹出",value:"bounceOutDown"}]},{type:"fade",name:"浮现",children:[{name:"浮出",value:"fadeOut"},{name:"向下浮出",value:"fadeOutDown"},{name:"向下长距浮出",value:"fadeOutDownBig"},{name:"向左浮出",value:"fadeOutLeft"},{name:"向左长距浮出",value:"fadeOutLeftBig"},{name:"向右浮出",value:"fadeOutRight"},{name:"向右长距浮出",value:"fadeOutRightBig"},{name:"向上浮出",value:"fadeOutUp"},{name:"向上长距浮出",value:"fadeOutUpBig"},{name:"从左上浮出",value:"fadeOutTopLeft"},{name:"从右上浮出",value:"fadeOutTopRight"},{name:"从左下浮出",value:"fadeOutBottomLeft"},{name:"从右下浮出",value:"fadeOutBottomRight"}]},{type:"rotate",name:"旋转",children:[{name:"旋转退出",value:"rotateOut"},{name:"绕左下退出",value:"rotateOutDownLeft"},{name:"绕右下退出",value:"rotateOutDownRight"},{name:"绕左上退出",value:"rotateOutUpLeft"},{name:"绕右上退出",value:"rotateOutUpRight"}]},{type:"zoom",name:"缩放",children:[{name:"缩小退出",value:"zoomOut"},{name:"向下缩小退出",value:"zoomOutDown"},{name:"从左缩小退出",value:"zoomOutLeft"},{name:"从右缩小退出",value:"zoomOutRight"},{name:"向上缩小退出",value:"zoomOutUp"}]},{type:"slide",name:"滑出",children:[{name:"向下滑出",value:"slideOutDown"},{name:"从左滑出",value:"slideOutLeft"},{name:"从右滑出",value:"slideOutRight"},{name:"向上滑出",value:"slideOutUp"}]},{type:"flip",name:"翻转",children:[{name:"X轴翻转退出",value:"flipOutX"},{name:"Y轴翻转退出",value:"flipOutY"}]},{type:"back",name:"缩小滑出",children:[{name:"向下缩小滑出",value:"backOutDown"},{name:"从左缩小滑出",value:"backOutLeft"},{name:"从右缩小滑出",value:"backOutRight"},{name:"向上缩小滑出",value:"backOutUp"}]},{type:"lightSpeed",name:"飞出",children:[{name:"从右飞出",value:"lightSpeedOutRight"},{name:"从左飞出",value:"lightSpeedOutLeft"}]}],Vy=[{type:"shake",name:"晃动",children:[{name:"左右摇晃",value:"shakeX"},{name:"上下摇晃",value:"shakeY"},{name:"摇头",value:"headShake"},{name:"摆动",value:"swing"},{name:"晃动",value:"wobble"},{name:"惊恐",value:"tada"},{name:"果冻",value:"jello"}]},{type:"other",name:"其他",children:[{name:"弹跳",value:"bounce"},{name:"闪烁",value:"flash"},{name:"脉搏",value:"pulse"},{name:"橡皮筋",value:"rubberBand"},{name:"心跳（快）",value:"heartBeat"}]}],Iy={},Sy=Object(T["a"])(wy);try{for(Sy.s();!(xy=Sy.n()).done;){var By,Ly=xy.value,Ty=Object(T["a"])(Ly.children);try{for(Ty.s();!(By=Ty.n()).done;){var _y=By.value;Iy[_y.value]=_y.name}}catch(lL){Ty.e(lL)}finally{Ty.f()}}}catch(lL){Sy.e(lL)}finally{Sy.f()}var My,Dy=Object(T["a"])(Ny);try{for(Dy.s();!(My=Dy.n()).done;){var zy,Ay=My.value,Fy=Object(T["a"])(Ay.children);try{for(Fy.s();!(zy=Fy.n()).done;){var Ry=zy.value;Iy[Ry.value]=Ry.name}}catch(lL){Fy.e(lL)}finally{Fy.f()}}}catch(lL){Dy.e(lL)}finally{Dy.f()}var Py,Hy=Object(T["a"])(Vy);try{for(Hy.s();!(Py=Hy.n()).done;){var qy,Uy=Py.value,Wy=Object(T["a"])(Uy.children);try{for(Wy.s();!(qy=Wy.n()).done;){var Gy=qy.value;Iy[Gy.value]=Gy.name}}catch(lL){Wy.e(lL)}finally{Wy.f()}}}catch(lL){Hy.e(lL)}finally{Hy.f()}var Xy=["in","out","attention"],Yy=Object(j["defineComponent"])({name:"element-animation-panel",components:{Draggable:Hb.a},setup:function(){var e=ae(),t=Object(y["c"])(ue()),n=t.handleElement,o=t.handleElementId,c=Object(y["c"])(e),l=c.currentSlide,a=c.formatedAnimations,r=c.currentSlideAnimations,i=[{key:"in",label:"入场"},{key:"out",label:"退场"},{key:"attention",label:"强调"}],u=Object(j["ref"])("in");Object(j["watch"])((function(){return o.value}),(function(){s.value=!1}));var d=Object(j["ref"])(""),s=Object(j["ref"])(!1),f=dt(),b=f.addHistorySnapshot,m=Object(j["computed"])((function(){for(var e=[],t=0;t<a.value.length;t++)for(var n=a.value[t],o=function(o){var c=n.animations[o],a=l.value.elements.find((function(e){return e.id===c.elId}));if(!a)return"continue";var r=ho[a.type],i=Iy[c.effect];e.push(Object(L["a"])(Object(L["a"])({},c),{},{index:0===o?t+1:"",elType:r,animationEffect:i}))},c=0;c<n.animations.length;c++)o(c);return e})),p=Object(j["computed"])((function(){var e=r.value,t=e.filter((function(e){return e.elId===o.value}));return t||[]})),v=function(t){var n=r.value.filter((function(e){return e.id!==t}));e.updateSlide({animations:n}),b()},O=function(t){var n=t.newIndex,o=t.oldIndex;if(o!==n){var c=JSON.parse(JSON.stringify(r.value)),l=c[o];c.splice(o,1),c.splice(n,0,l),e.updateSlide({animations:c}),b()}},h=function(e,t,n){var o=document.querySelector("#editable-element-".concat(e," [class^=editable-element-]"));if(o){var c="".concat(Ey).concat(t);document.documentElement.style.setProperty("--animate-duration","".concat(n,"ms")),o.classList.add("".concat(Ey,"animated"),c);var l=function(){document.documentElement.style.removeProperty("--animate-duration"),o.classList.remove("".concat(Ey,"animated"),c)};o.addEventListener("animationend",l,{once:!0})}},g=function(t,n){if(!(n<100||n>5e3)){var o=r.value.map((function(e){return e.id===t?Object(L["a"])(Object(L["a"])({},e),{},{duration:n}):e}));e.updateSlide({animations:o}),b()}},x=function(t,n){var o=r.value.map((function(e){return e.id===t?Object(L["a"])(Object(L["a"])({},e),{},{trigger:n}):e}));e.updateSlide({animations:o}),b()},k=function(t,n){var c=r.value.map((function(e){return e.id===E.value?Object(L["a"])(Object(L["a"])({},e),{},{type:t,effect:n}):e}));e.updateSlide({animations:c}),s.value=!1,b();var l=r.value.find((function(e){return e.elId===o.value})),a=(null===l||void 0===l?void 0:l.duration)||Cy;h(o.value,n,a)},E=Object(j["ref"])(""),w=function(t,n){if(E.value)k(t,n);else{var c=JSON.parse(JSON.stringify(r.value));c.push({id:Object(C["b"])(10),elId:o.value,type:t,effect:n,duration:Cy,trigger:ky}),e.updateSlide({animations:c}),s.value=!1,b(),h(o.value,n,Cy)}},N=Object(j["ref"])(!1),V=function(e){e?setTimeout((function(){return N.value=!0}),600):N.value=!1},I=function(e){s.value=!0,E.value=e,V(!0)};return{tabs:i,activeTab:u,handleAnimationId:E,handleElement:n,animationPoolVisible:s,animationSequence:m,hoverPreviewAnimation:d,handleElementAnimation:p,popoverMaskHide:N,animations:{in:wy,out:Ny,attention:Vy},prefix:Ey,animationTypes:Xy,addAnimation:w,deleteAnimation:v,handleDragEnd:O,runAnimation:h,updateElementAnimationDuration:g,updateElementAnimationTrigger:x,handlePopoverVisibleChange:V,openAnimationPool:I}}});n("e89f");const Zy=eo()(Yy,[["render",gy],["__scopeId","data-v-2079ad20"]]);var Jy=Zy,Ky=function(e){return Object(j["pushScopeId"])("data-v-26058d12"),e=e(),Object(j["popScopeId"])(),e},Qy={class:"slide-design-panel"},$y=Ky((function(){return Object(j["createElementVNode"])("div",{class:"title"},"背景填充",-1)})),eg={class:"row"},tg=Object(j["createTextVNode"])("纯色填充"),ng=Object(j["createTextVNode"])("图片填充"),og=Object(j["createTextVNode"])("渐变填充"),cg=Ky((function(){return Object(j["createElementVNode"])("div",{style:{flex:"1"}},null,-1)})),lg=Object(j["createTextVNode"])("缩放"),ag=Object(j["createTextVNode"])("拼贴"),rg=Object(j["createTextVNode"])("缩放铺满"),ig=Object(j["createTextVNode"])("线性渐变"),ug=Object(j["createTextVNode"])("径向渐变"),dg={key:0,class:"background-image-wrapper"},sg={class:"background-image"},fg={key:1,class:"background-gradient-wrapper"},bg={class:"row"},mg=Ky((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"起点颜色：",-1)})),pg={class:"row"},vg=Ky((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"终点颜色：",-1)})),Og={key:0,class:"row"},hg=Ky((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"渐变角度：",-1)})),jg={class:"row"},yg=Object(j["createTextVNode"])("应用背景到全部"),gg={class:"row"},xg=Ky((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"画布尺寸：",-1)})),Cg=Object(j["createTextVNode"])("宽屏 16 : 9"),kg=Object(j["createTextVNode"])("宽屏 16 ：10"),Eg=Object(j["createTextVNode"])("标准 4 ：3"),wg=Ky((function(){return Object(j["createElementVNode"])("div",{class:"title"},"全局主题",-1)})),Ng={class:"row"},Vg=Ky((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"字体：",-1)})),Ig={class:"row"},Sg=Ky((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"字体颜色：",-1)})),Bg={class:"row"},Lg=Ky((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"背景颜色：",-1)})),Tg={class:"row"},_g=Ky((function(){return Object(j["createElementVNode"])("div",{style:{flex:"2"}},"主题色：",-1)})),Mg=Object(j["createTextVNode"])(" 预置主题 "),Dg={key:2,class:"theme-list"},zg=["onClick"],Ag={class:"theme-item-content"},Fg={class:"row"},Rg=Object(j["createTextVNode"])("应用主题到全部");function Pg(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("SelectOption"),r=Object(j["resolveComponent"])("Select"),i=Object(j["resolveComponent"])("ColorPicker"),u=Object(j["resolveComponent"])("ColorButton"),d=Object(j["resolveComponent"])("Popover"),s=Object(j["resolveComponent"])("IconPlus"),f=Object(j["resolveComponent"])("FileInput"),b=Object(j["resolveComponent"])("Slider"),m=Object(j["resolveComponent"])("Button"),p=Object(j["resolveComponent"])("Divider"),v=Object(j["resolveComponent"])("SelectOptGroup"),O=Object(j["resolveComponent"])("IconDown");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Qy,[$y,Object(j["createElementVNode"])("div",eg,[Object(j["createVNode"])(r,{style:{flex:"10"},value:e.background.type,onChange:t[0]||(t[0]=function(t){return e.updateBackgroundType(t)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(a,{value:"solid"},{default:Object(j["withCtx"])((function(){return[tg]})),_:1}),Object(j["createVNode"])(a,{value:"image"},{default:Object(j["withCtx"])((function(){return[ng]})),_:1}),Object(j["createVNode"])(a,{value:"gradient"},{default:Object(j["withCtx"])((function(){return[og]})),_:1})]})),_:1},8,["value"]),cg,"solid"===e.background.type?(Object(j["openBlock"])(),Object(j["createBlock"])(d,{key:0,trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{modelValue:e.background.color,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.updateBackground({color:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{color:e.background.color||"#fff",style:{flex:"10"}},null,8,["color"])]})),_:1})):"image"===e.background.type?(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:1,style:{flex:"10"},value:e.background.imageSize||"cover",onChange:t[2]||(t[2]=function(t){return e.updateBackground({imageSize:t})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(a,{value:"contain"},{default:Object(j["withCtx"])((function(){return[lg]})),_:1}),Object(j["createVNode"])(a,{value:"repeat"},{default:Object(j["withCtx"])((function(){return[ag]})),_:1}),Object(j["createVNode"])(a,{value:"cover"},{default:Object(j["withCtx"])((function(){return[rg]})),_:1})]})),_:1},8,["value"])):(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:2,style:{flex:"10"},value:e.background.gradientType,onChange:t[3]||(t[3]=function(t){return e.updateBackground({gradientType:t})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(a,{value:"linear"},{default:Object(j["withCtx"])((function(){return[ig]})),_:1}),Object(j["createVNode"])(a,{value:"radial"},{default:Object(j["withCtx"])((function(){return[ug]})),_:1})]})),_:1},8,["value"]))]),"image"===e.background.type?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",dg,[Object(j["createVNode"])(f,{onChange:t[4]||(t[4]=function(t){return e.uploadBackgroundImage(t)})},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",sg,[Object(j["createElementVNode"])("div",{class:"content",style:Object(j["normalizeStyle"])({backgroundImage:"url(".concat(e.background.image,")")})},[Object(j["createVNode"])(s)],4)])]})),_:1})])):Object(j["createCommentVNode"])("",!0),"gradient"===e.background.type?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",fg,[Object(j["createElementVNode"])("div",bg,[mg,Object(j["createVNode"])(d,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{modelValue:e.background.gradientColor[0],"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.updateBackground({gradientColor:[t,e.background.gradientColor[1]]})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{color:e.background.gradientColor[0],style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createElementVNode"])("div",pg,[vg,Object(j["createVNode"])(d,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{modelValue:e.background.gradientColor[1],"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.updateBackground({gradientColor:[e.background.gradientColor[0],t]})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{color:e.background.gradientColor[1],style:{flex:"3"}},null,8,["color"])]})),_:1})]),"linear"===e.background.gradientType?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Og,[hg,Object(j["createVNode"])(b,{class:"slider",min:0,max:360,step:15,value:e.background.gradientRotate,onChange:t[7]||(t[7]=function(t){return e.updateBackground({gradientRotate:t})})},null,8,["value"])])):Object(j["createCommentVNode"])("",!0)])):Object(j["createCommentVNode"])("",!0),Object(j["createElementVNode"])("div",jg,[Object(j["createVNode"])(m,{style:{flex:"1"},onClick:t[8]||(t[8]=function(t){return e.applyBackgroundAllSlide()})},{default:Object(j["withCtx"])((function(){return[yg]})),_:1})]),Object(j["createVNode"])(p),Object(j["createElementVNode"])("div",gg,[xg,Object(j["createVNode"])(r,{style:{flex:"3"},value:e.viewportRatio,onChange:t[9]||(t[9]=function(t){return e.updateViewportRatio(t)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(a,{value:.5625},{default:Object(j["withCtx"])((function(){return[Cg]})),_:1},8,["value"]),Object(j["createVNode"])(a,{value:.625},{default:Object(j["withCtx"])((function(){return[kg]})),_:1},8,["value"]),Object(j["createVNode"])(a,{value:.75},{default:Object(j["withCtx"])((function(){return[Eg]})),_:1},8,["value"])]})),_:1},8,["value"])]),Object(j["createVNode"])(p),wg,Object(j["createElementVNode"])("div",Ng,[Vg,Object(j["createVNode"])(r,{style:{flex:"3"},value:e.theme.fontName,onChange:t[10]||(t[10]=function(t){return e.updateTheme({fontName:t})})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v,{label:"系统字体"},{default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.availableFonts,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:e.value,value:e.value},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("span",{style:Object(j["normalizeStyle"])({fontFamily:e.value})},Object(j["toDisplayString"])(e.label),5)]})),_:2},1032,["value"])})),128))]})),_:1}),Object(j["createVNode"])(v,{label:"在线字体"},{default:Object(j["withCtx"])((function(){return[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.webFonts,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:e.value,value:e.value},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("span",null,Object(j["toDisplayString"])(e.label),1)]})),_:2},1032,["value"])})),128))]})),_:1})]})),_:1},8,["value"])]),Object(j["createElementVNode"])("div",Ig,[Sg,Object(j["createVNode"])(d,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{modelValue:e.theme.fontColor,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.updateTheme({fontColor:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{color:e.theme.fontColor,style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createElementVNode"])("div",Bg,[Lg,Object(j["createVNode"])(d,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{modelValue:e.theme.backgroundColor,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.updateTheme({backgroundColor:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{color:e.theme.backgroundColor,style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createElementVNode"])("div",Tg,[_g,Object(j["createVNode"])(d,{trigger:"click"},{content:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{modelValue:e.theme.themeColor,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.updateTheme({themeColor:t})})},null,8,["modelValue"])]})),default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{color:e.theme.themeColor,style:{flex:"3"}},null,8,["color"])]})),_:1})]),Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["title dropdown",{active:e.showPresetThemes}]),onClick:t[14]||(t[14]=function(t){return e.togglePresetThemesVisible()}),style:{"margin-top":"20px"}},[Mg,Object(j["createVNode"])(O,{class:"icon"})],2),e.showPresetThemes?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Dg,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.themes,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"theme-item",key:n,style:Object(j["normalizeStyle"])({backgroundColor:t.background}),onClick:function(n){return e.updateTheme({fontColor:t.text,backgroundColor:t.background,themeColor:t.color})}},[Object(j["createElementVNode"])("div",Ag,[Object(j["createElementVNode"])("div",{class:"text",style:Object(j["normalizeStyle"])({color:t.text})},"Aa",4),Object(j["createElementVNode"])("div",{class:"color-block",style:Object(j["normalizeStyle"])({backgroundColor:t.color})},null,4)])],12,zg)})),128))])):Object(j["createCommentVNode"])("",!0),Object(j["createElementVNode"])("div",Fg,[Object(j["createVNode"])(m,{style:{flex:"1"},onClick:t[15]||(t[15]=function(t){return e.applyThemeAllSlide()})},{default:Object(j["withCtx"])((function(){return[Rg]})),_:1})])])}var Hg=[{color:"#d14424",background:"#ffffff",text:"#333"},{color:"#42464b",background:"#ffffff",text:"#333"},{color:"#5d82ba",background:"#ffffff",text:"#333"},{color:"#005a6f",background:"#ffffff",text:"#333"},{color:"#d0614c",background:"#dfb044",text:"#333"},{color:"#86a1ad",background:"#dfdbd4",text:"#333"},{color:"#697586",background:"#d5c4a4",text:"#333"},{color:"#333333",background:"#7acfa6",text:"#333"},{color:"#42464b",background:"#415065",text:"#fff"},{color:"#0c5999",background:"#35a2cd",text:"#fff"},{color:"#c49a41",background:"#8c4357",text:"#fff"},{color:"#dfaa00",background:"#2e4e7d",text:"#fff"},{color:"#d1ad88",background:"#f99070",text:"#fff"},{color:"#464d52",background:"#657984",text:"#fff"},{color:"#ffcfb6",background:"#1e4c6f",text:"#fff"},{color:"#c3a043",background:"#43292a",text:"#fff"},{color:"#464d52",background:"#60546f",text:"#fff"},{color:"#df9636",background:"#5b89a0",text:"#fff"},{color:"#b898a4",background:"#93716b",text:"#fff"},{color:"#c47a11",background:"#187db1",text:"#fff"},{color:"#333333",background:"#759564",text:"#fff"},{color:"#355b5e",background:"#424b50",text:"#fff"},{color:"#d29090",background:"#942a32",text:"#fff"},{color:"#00cfdf",background:"#3b434d",text:"#fff"},{color:"#424246",background:"#c70042",text:"#fff"},{color:"#2e4155",background:"#b35d44",text:"#fff"},{color:"#11bfce",background:"#8f98aa",text:"#fff"},{color:"#333333",background:"#549688",text:"#fff"}],qg=Hg,Ug=B,Wg=Object(j["defineComponent"])({name:"slide-design-panel",components:{ColorButton:Qm},setup:function(){var e=ae(),t=Object(y["c"])(ue()),n=t.availableFonts,o=Object(y["c"])(e),c=o.slides,l=o.currentSlide,a=o.viewportRatio,r=o.theme,i=Object(j["computed"])((function(){return l.value.background?l.value.background:{type:"solid",value:"#fff"}})),u=dt(),d=u.addHistorySnapshot,s=function(t){if("solid"===t){var n=Object(L["a"])(Object(L["a"])({},i.value),{},{type:"solid",color:i.value.color||"#fff"});e.updateSlide({background:n})}else if("image"===t){var o=Object(L["a"])(Object(L["a"])({},i.value),{},{type:"image",image:i.value.image||"",imageSize:i.value.imageSize||"cover"});e.updateSlide({background:o})}else{var c=Object(L["a"])(Object(L["a"])({},i.value),{},{type:"gradient",gradientType:i.value.gradientType||"linear",gradientColor:i.value.gradientColor||["#fff","#fff"],gradientRotate:i.value.gradientRotate||0});e.updateSlide({background:c})}d()},f=function(t){e.updateSlide({background:Object(L["a"])(Object(L["a"])({},i.value),t)}),d()},b=function(e){var t=e[0];t&&lt(t).then((function(e){return f({image:e})}))},m=function(){var t=c.value.map((function(e){return Object(L["a"])(Object(L["a"])({},e),{},{background:l.value.background})}));e.setSlides(t),d()},p=function(t){e.setTheme(t)},v=function(){var t,n=JSON.parse(JSON.stringify(c.value)),o=r.value,l=o.themeColor,a=o.backgroundColor,i=o.fontColor,u=o.fontName,s=Object(T["a"])(n);try{for(s.s();!(t=s.n()).done;){var f=t.value;f.background&&"image"===f.background.type||(f.background=Object(L["a"])(Object(L["a"])({},f.background),{},{type:"solid",color:a}));var b,m=f.elements,p=Object(T["a"])(m);try{for(p.s();!(b=p.n()).done;){var v=b.value;if("shape"===v.type)v.fill=l;else if("line"===v.type)v.color=l;else if("text"===v.type)v.defaultColor=i,v.defaultFontName=u,v.fill&&(v.fill=l);else if("table"===v.type){v.theme&&(v.theme.color=l);var O,h=Object(T["a"])(v.data);try{for(h.s();!(O=h.n()).done;){var j,y=O.value,g=Object(T["a"])(y);try{for(g.s();!(j=g.n()).done;){var x=j.value;x.style&&(x.style.color=i,x.style.fontname=u)}}catch(lL){g.e(lL)}finally{g.f()}}}catch(lL){h.e(lL)}finally{h.f()}}else"chart"===v.type?(v.themeColor=[l],v.gridColor=i):"latex"===v.type?v.color=i:"audio"===v.type&&(v.color=l)}}catch(lL){p.e(lL)}finally{p.f()}}}catch(lL){s.e(lL)}finally{s.f()}e.setSlides(n),d()},O=Object(j["ref"])(!0),h=function(){O.value=!O.value},g=function(t){e.setViewportRatio(t)};return{availableFonts:n,background:i,updateBackgroundType:s,updateBackground:f,uploadBackgroundImage:b,applyBackgroundAllSlide:m,themes:qg,theme:r,webFonts:Ug,updateTheme:p,applyThemeAllSlide:v,viewportRatio:a,updateViewportRatio:g,showPresetThemes:O,togglePresetThemesVisible:h}}});n("a26f");const Gg=eo()(Wg,[["render",Pg],["__scopeId","data-v-26058d12"]]);var Xg=Gg,Yg={class:"slide-animation-panel"},Zg={class:"animation-pool"},Jg=["onClick"],Kg={class:"animation-text"},Qg=Object(j["createTextVNode"])("应用到全部");function $g(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("Button");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Yg,[Object(j["createElementVNode"])("div",Zg,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.animations,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["animation-item",{active:e.currentTurningMode===t.value}]),key:t.label,onClick:function(n){return e.updateTurningMode(t.value)}},[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["animation-block",t.value])},null,2),Object(j["createElementVNode"])("div",Kg,Object(j["toDisplayString"])(t.label),1)],10,Jg)})),128))]),Object(j["createVNode"])(a,{style:{width:"100%"},onClick:t[0]||(t[0]=function(t){return e.applyAllSlide()})},{default:Object(j["withCtx"])((function(){return[Qg]})),_:1})])}var ex=Object(j["defineComponent"])({name:"slide-animation-panel",setup:function(){var e=ae(),t=Object(y["c"])(e),n=t.slides,o=t.currentSlide,c=Object(j["computed"])((function(){return o.value.turningMode||"slideY"})),l=[{label:"无",value:"no"},{label:"淡入淡出",value:"fade"},{label:"左右推移",value:"slideX"},{label:"上下推移",value:"slideY"}],a=dt(),r=a.addHistorySnapshot,i=function(t){t!==c.value&&(e.updateSlide({turningMode:t}),r())},u=function(){var t=n.value.map((function(e){return Object(L["a"])(Object(L["a"])({},e),{},{turningMode:o.value.turningMode})}));e.setSlides(t),r()};return{currentTurningMode:c,animations:l,updateTurningMode:i,applyAllSlide:u}}});n("6e42");const tx=eo()(ex,[["render",$g],["__scopeId","data-v-251ceb05"]]);var nx=tx,ox={class:"multi-position-panel"},cx=Object(j["createTextVNode"])("水平均匀分布"),lx=Object(j["createTextVNode"])("垂直均匀分布"),ax=Object(j["createTextVNode"])("组合"),rx=Object(j["createTextVNode"])("取消组合");function ix(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconAlignLeft"),r=Object(j["resolveComponent"])("Button"),i=Object(j["resolveComponent"])("Tooltip"),u=Object(j["resolveComponent"])("IconAlignHorizontally"),d=Object(j["resolveComponent"])("IconAlignRight"),s=Object(j["resolveComponent"])("ButtonGroup"),f=Object(j["resolveComponent"])("IconAlignTop"),b=Object(j["resolveComponent"])("IconAlignVertically"),m=Object(j["resolveComponent"])("IconAlignBottom"),p=Object(j["resolveComponent"])("Divider"),v=Object(j["resolveComponent"])("IconGroup"),O=Object(j["resolveComponent"])("IconUngroup");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",ox,[Object(j["createVNode"])(s,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"左对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[0]||(t[0]=function(t){return e.alignElement(e.ElementAlignCommands.LEFT)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(a)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(i,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"水平居中"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[1]||(t[1]=function(t){return e.alignElement(e.ElementAlignCommands.HORIZONTAL)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(i,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"右对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[2]||(t[2]=function(t){return e.alignElement(e.ElementAlignCommands.RIGHT)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(d)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),Object(j["createVNode"])(s,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"上对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[3]||(t[3]=function(t){return e.alignElement(e.ElementAlignCommands.TOP)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(i,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"垂直居中"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[4]||(t[4]=function(t){return e.alignElement(e.ElementAlignCommands.VERTICAL)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b)]})),_:1})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(i,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"下对齐"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[5]||(t[5]=function(t){return e.alignElement(e.ElementAlignCommands.BOTTOM)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(m)]})),_:1})]})),_:1},8,["mouseEnterDelay"])]})),_:1}),e.displayItemCount>2?(Object(j["openBlock"])(),Object(j["createBlock"])(s,{key:0,class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[6]||(t[6]=function(t){return e.uniformHorizontalDisplay()})},{default:Object(j["withCtx"])((function(){return[cx]})),_:1}),Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[7]||(t[7]=function(t){return e.uniformVerticalDisplay()})},{default:Object(j["withCtx"])((function(){return[lx]})),_:1})]})),_:1})):Object(j["createCommentVNode"])("",!0),Object(j["createVNode"])(p),Object(j["createVNode"])(s,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{disabled:!e.canCombine,onClick:t[8]||(t[8]=function(t){return e.combineElements()}),style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v,{style:{"margin-right":"3px"}}),ax]})),_:1},8,["disabled"]),Object(j["createVNode"])(r,{disabled:e.canCombine,onClick:t[9]||(t[9]=function(t){return e.uncombineElements()}),style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(O,{style:{"margin-right":"3px"}}),rx]})),_:1},8,["disabled"])]})),_:1})])}var ux=function(){var e=ae(),t=Object(y["c"])(ue()),n=t.activeElementIdList,o=t.activeElementList,c=Object(y["c"])(e),l=c.currentSlide,a=dt(),r=a.addHistorySnapshot,i=function(t){var c,a=Ke(o.value),i=a.minX,u=a.maxX,d=a.minY,s=a.maxY,f=JSON.parse(JSON.stringify(l.value.elements)),b={},m=Object(T["a"])(o.value);try{var p=function(){var e=c.value;if(e.groupId&&!b[e.groupId]){var t=o.value.filter((function(t){return t.groupId===e.groupId}));b[e.groupId]=Ke(t)}};for(m.s();!(c=m.n()).done;)p()}catch(lL){m.e(lL)}finally{m.f()}if(t===E.LEFT)f.forEach((function(e){if(n.value.includes(e.id))if(e.groupId){var t=b[e.groupId],o=t.minX-i;e.left=e.left-o}else if("rotate"in e&&e.rotate){var c=Ze({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate}),l=c.offsetX;e.left=i-l}else e.left=i}));else if(t===E.RIGHT)f.forEach((function(e){if(n.value.includes(e.id))if(e.groupId){var t=b[e.groupId],o=t.maxX-u;e.left=e.left-o}else{var c="line"===e.type?Math.max(e.start[0],e.end[0]):e.width;if("rotate"in e&&e.rotate){var l=Ze({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate}),a=l.offsetX;e.left=u-c+a}else e.left=u-c}}));else if(t===E.TOP)f.forEach((function(e){if(n.value.includes(e.id))if(e.groupId){var t=b[e.groupId],o=t.minY-d;e.top=e.top-o}else if("rotate"in e&&e.rotate){var c=Ze({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate}),l=c.offsetY;e.top=d-l}else e.top=d}));else if(t===E.BOTTOM)f.forEach((function(e){if(n.value.includes(e.id))if(e.groupId){var t=b[e.groupId],o=t.maxY-s;e.top=e.top-o}else{var c="line"===e.type?Math.max(e.start[1],e.end[1]):e.height;if("rotate"in e&&e.rotate){var l=Ze({left:e.left,top:e.top,width:e.width,height:e.height,rotate:e.rotate}),a=l.offsetY;e.top=s-c+a}else e.top=s-c}}));else if(t===E.HORIZONTAL){var v=(i+u)/2;f.forEach((function(e){if(n.value.includes(e.id))if(e.groupId){var t=b[e.groupId],o=(t.maxX+t.minX)/2,c=o-v;e.left=e.left-c}else{var l="line"===e.type?Math.max(e.start[0],e.end[0]):e.width;e.left=v-l/2}}))}else if(t===E.VERTICAL){var O=(d+s)/2;f.forEach((function(e){if(n.value.includes(e.id))if(e.groupId){var t=b[e.groupId],o=(t.maxY+t.minY)/2,c=o-O;e.top=e.top-c}else{var l="line"===e.type?Math.max(e.start[1],e.end[1]):e.height;e.top=O-l/2}}))}e.updateSlide({elements:f}),r()};return{alignActiveElement:i}},dx=(n("4e82"),function(){var e=ae(),t=Object(y["c"])(ue()),n=t.activeElementIdList,o=t.activeElementList,c=Object(y["c"])(e),l=c.currentSlide,a=dt(),r=a.addHistorySnapshot,i=Object(j["computed"])((function(){var e,t=0,n=[],c=Object(T["a"])(o.value);try{for(c.s();!(e=c.n()).done;){var l=e.value;l.groupId?n.includes(l.groupId)||(n.push(l.groupId),t+=1):t+=1}}catch(lL){c.e(lL)}finally{c.f()}return t})),u=function(){var t,c=Ke(o.value),a=c.minX,i=c.maxX,u=JSON.parse(JSON.stringify(o.value)),d=JSON.parse(JSON.stringify(l.value.elements)),s=[],f=[],b=Object(T["a"])(u);try{var m=function(){var e=t.value;if(e.groupId){var n=f.find((function(t){return t.groupId===e.groupId}));n?f=f.map((function(t){return t.groupId===e.groupId?Object(L["a"])(Object(L["a"])({},t),{},{els:[].concat(Object($["a"])(t.els),[e])}):t})):f.push({groupId:e.groupId,els:[e]})}else{var o=Je(e),c=o.minX,l=o.maxX;s.push({min:c,max:l,el:e})}};for(b.s();!(t=b.n()).done;)m()}catch(lL){b.e(lL)}finally{b.f()}var p,v=[],O=Object(T["a"])(f);try{for(O.s();!(p=O.n()).done;){var h=p.value,j=Ke(h.els),y=j.minX,g=j.maxX;v.push({min:y,max:g,els:h.els})}}catch(lL){O.e(lL)}finally{O.f()}var x=[].concat(s,v);x.sort((function(e,t){return e.min-t.min}));var C,k=0,E=Object(T["a"])(x);try{for(E.s();!(C=E.n()).done;){var w=C.value,N=w.max-w.min;k+=N}}catch(lL){E.e(lL)}finally{E.f()}var V=(i-a-k)/(x.length-1),I=[],S=x[0],B={min:S.min,max:S.max};if("el"in S)I.push({pos:S.min,el:S.el});else{var _,M=Object(T["a"])(S.els);try{for(M.s();!(_=M.n()).done;){var D=_.value,z=Je(D),A=z.minX;I.push({pos:A,el:D})}}catch(lL){M.e(lL)}finally{M.f()}}for(var F=1;F<x.length;F++){var R=x[F],P=B.max-B.min,H=B.min+P+V,q=R.max-R.min;if(B={min:H,max:H+q},"el"in R)I.push({pos:H,el:R.el});else{var U,W=Object(T["a"])(R.els);try{for(W.s();!(U=W.n()).done;){var G=U.value,X=Je(G),Y=X.minX,Z=Y-R.min;I.push({pos:H+Z,el:G})}}catch(lL){W.e(lL)}finally{W.f()}}}var J,K=Object(T["a"])(d);try{for(K.s();!(J=K.n()).done;){var Q=J.value;if(n.value.includes(Q.id)){var ee,te=Object(T["a"])(I);try{for(te.s();!(ee=te.n()).done;){var ne=ee.value;if(ne.el.id===Q.id)if("rotate"in Q&&Q.rotate){var oe=Ze({left:Q.left,top:Q.top,width:Q.width,height:Q.height,rotate:Q.rotate}),ce=oe.offsetX;Q.left=ne.pos-ce}else Q.left=ne.pos}}catch(lL){te.e(lL)}finally{te.f()}}}}catch(lL){K.e(lL)}finally{K.f()}e.updateSlide({elements:d}),r()},d=function(){var t,c=Ke(o.value),a=c.minY,i=c.maxY,u=JSON.parse(JSON.stringify(o.value)),d=JSON.parse(JSON.stringify(l.value.elements)),s=[],f=[],b=Object(T["a"])(u);try{var m=function(){var e=t.value;if(e.groupId){var n=f.find((function(t){return t.groupId===e.groupId}));n?f=f.map((function(t){return t.groupId===e.groupId?Object(L["a"])(Object(L["a"])({},t),{},{els:[].concat(Object($["a"])(t.els),[e])}):t})):f.push({groupId:e.groupId,els:[e]})}else{var o=Je(e),c=o.minY,l=o.maxY;s.push({min:c,max:l,el:e})}};for(b.s();!(t=b.n()).done;)m()}catch(lL){b.e(lL)}finally{b.f()}var p,v=[],O=Object(T["a"])(f);try{for(O.s();!(p=O.n()).done;){var h=p.value,j=Ke(h.els),y=j.minY,g=j.maxY;v.push({min:y,max:g,els:h.els})}}catch(lL){O.e(lL)}finally{O.f()}var x=[].concat(s,v);x.sort((function(e,t){return e.min-t.min}));var C,k=0,E=Object(T["a"])(x);try{for(E.s();!(C=E.n()).done;){var w=C.value,N=w.max-w.min;k+=N}}catch(lL){E.e(lL)}finally{E.f()}var V=(i-a-k)/(x.length-1),I=[],S=x[0],B={min:S.min,max:S.max};if("el"in S)I.push({pos:S.min,el:S.el});else{var _,M=Object(T["a"])(S.els);try{for(M.s();!(_=M.n()).done;){var D=_.value,z=Je(D),A=z.minY;I.push({pos:A,el:D})}}catch(lL){M.e(lL)}finally{M.f()}}for(var F=1;F<x.length;F++){var R=x[F],P=B.max-B.min,H=B.min+P+V,q=R.max-R.min;if(B={min:H,max:H+q},"el"in R)I.push({pos:H,el:R.el});else{var U,W=Object(T["a"])(R.els);try{for(W.s();!(U=W.n()).done;){var G=U.value,X=Je(G),Y=X.minY,Z=Y-R.min;I.push({pos:H+Z,el:G})}}catch(lL){W.e(lL)}finally{W.f()}}}var J,K=Object(T["a"])(d);try{for(K.s();!(J=K.n()).done;){var Q=J.value;if(n.value.includes(Q.id)){var ee,te=Object(T["a"])(I);try{for(te.s();!(ee=te.n()).done;){var ne=ee.value;if(ne.el.id===Q.id)if("rotate"in Q&&Q.rotate){var oe=Ze({left:Q.left,top:Q.top,width:Q.width,height:Q.height,rotate:Q.rotate}),ce=oe.offsetY;Q.top=ne.pos-ce}else Q.top=ne.pos}}catch(lL){te.e(lL)}finally{te.f()}}}}catch(lL){K.e(lL)}finally{K.f()}e.updateSlide({elements:d}),r()};return{displayItemCount:i,uniformHorizontalDisplay:u,uniformVerticalDisplay:d}}),sx=Object(j["defineComponent"])({name:"multi-position-panel",setup:function(){var e=Ot(),t=e.canCombine,n=e.combineElements,o=e.uncombineElements,c=ux(),l=c.alignActiveElement,a=Io(),r=a.alignElementToCanvas,i=dx(),u=i.displayItemCount,d=i.uniformHorizontalDisplay,s=i.uniformVerticalDisplay,f=function(e){t.value?l(e):r(e)};return{canCombine:t,displayItemCount:u,combineElements:n,uncombineElements:o,uniformHorizontalDisplay:d,uniformVerticalDisplay:s,alignElement:f,ElementAlignCommands:E}}});n("f8e4");const fx=eo()(sx,[["render",ix],["__scopeId","data-v-0a74a690"]]);var bx=fx,mx={class:"symbol-panel"},px={class:"tabs"},vx=["onClick"],Ox={class:"pool"},hx=["onClick"],jx={class:"symbol"};function yx(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",mx,[Object(j["createElementVNode"])("div",px,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.symbolPoolList,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["tab",{active:e.selectedSymbolKey===t.key}]),key:t.key,onClick:function(n){return e.selectedSymbolKey=t.key}},Object(j["toDisplayString"])(t.label),11,vx)})),128))]),Object(j["createElementVNode"])("div",Ox,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.symbolPool,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"symbol-item",key:n,onClick:function(n){return e.selectSymbol(t)}},[Object(j["createElementVNode"])("div",jx,Object(j["toDisplayString"])(t),1)],8,hx)})),128))])])}var gx=[{key:"letter",label:"字母",children:["α","β","γ","δ","ϵ","ε","ζ","η","θ","ϑ","ι","κ","λ","μ","ν","ξ","π","ϖ","ρ","ϱ","σ","ς","τ","υ","ϕ","φ","χ","ψ","ω","Γ","Δ","Θ","Λ","Ξ","Π","Σ","Υ","Φ","Ψ","Ω","𝐀","𝐁","𝐂","𝐃","𝐄","𝐅","𝐆","𝐇","𝐈","𝐉","𝐊","𝐋","𝐌","𝐍","𝐎","𝐏","𝐐","𝐑","𝐒","𝐓","𝐔","𝐕","𝐖","𝐗","𝐘","𝐙","𝐚","𝐛","𝐜","𝐝","𝐞","𝐟","𝐠","𝐡","𝐢","𝐣","𝐤","𝐥","𝐦","𝐧","𝐨","𝐩","𝐪","𝐫","𝐬","𝐭","𝐮","𝐯","𝐰","𝐱","𝐲","𝐳","𝓐","𝓑","𝓒","𝓓","𝓔","𝓕","𝓖","𝓗","𝓘","𝓙","𝓚","𝓛","𝓜","𝓝","𝓞","𝓟","𝓠","𝓡","𝓢","𝓣","𝓤","𝓥","𝓦","𝓧","𝓨","𝓩","𝓪","𝓫","𝓬","𝓭","𝓮","𝓯","𝓰","𝓱","𝓲","𝓳","𝓴","𝓵","𝓶","𝓷","𝓸","𝓹","𝓺","𝓻","𝓼","𝓽","𝓾","𝓿","𝔀","𝔁","𝔂","𝔃"]},{key:"number",label:"序号",children:["①","②","③","④","⑤","⑥","⑦","⑧","⑨","⑩","⑪","⑫","⑬","⑭","⑮","⑯","⑰","⑱","⑲","⑳","⑴","⑵","⑶","⑷","⑸","⑹","⑺","⑻","⑼","⑽","⑾","⑿","⒀","⒁","⒂","⒃","⒄","⒅","⒆","⒇","º","¹","²","³","⁴","⁵","⁶","⁷","⁸","⁹","₀","₁","₂","₃","₄","₅","₆","₇","₈","₉","Ⅰ","Ⅱ","Ⅲ","Ⅳ","Ⅴ","Ⅵ","Ⅶ","Ⅷ","Ⅸ","Ⅹ","Ⅺ","Ⅻ","Ⅼ","Ⅽ","Ⅾ","Ⅿ","ⅰ","ⅱ","ⅲ","ⅳ","ⅴ","ⅵ","ⅶ","ⅷ","ⅸ","ⅹ","ⅺ","ⅻ","ⅼ","ⅽ","ⅾ","ⅿ","ↀ","ↁ","ↂ","㊀","㊁","㊂","㊃","㊄","㊅","㊆","㊇","㊈","㊉","㈠","㈡","㈢","㈣","㈤","㈥","㈦","㈧","㈨","㈩","𝟘","𝟙","𝟚","𝟛","𝟜","𝟝","𝟞","𝟟","𝟠","𝟡"]},{key:"math",label:"数学",children:["+","-","×","÷","=","~","¬","±","%","°","ǃ","‰","‱","½","⅓","⅔","¼","¾","<",">","l","o","g","l","g","l","n","⨂","⨁","⨄","⨃","⨅","⨆","√","∛","∜","∝","∞","∟","∠","∡","∢","∧","∨","∩","∪","∫","∬","∭","∮","∯","∰","∱","∲","∳","∴","∵","∼","∽","∾","∿","≃","≄","≅","≆","≇","≈","≊","≋","≌","≍","≎","≏","≐","≑","≒","≓","≔","≕","≤","≥","≦","≧","≨","≩","≪","≫","≺","≻","≼","≽","≾","≿","⊀","⊁","⊂","⊃","⊄","⊅","⊆","⊇","⊈","⊉","⊊","⊋","⊏","⊐","⊑","⊒","⊓","⊔","⊢","⊣","⊤","⊥","⊦","⊧","⊨","⊩","⊪","⊫","⊬","⊭","⊮","⊯","⊲","⊳","⊴","⊵","⋀","⋁","⋂","⋃","⋉","⋊","⋋","⋌","⟨","⟩","⟪","⟫","⟮","⟯","⧼","⧽","⦰"]},{key:"arrow",label:"箭头",children:["←","↑","→","↓","↔","↕","↖","↗","↘","↙","↚","↛","↜","↝","↞","↟","↠","↡","↢","↣","↤","↥","↦","↧","↨","↫","↬","↭","↮","↯","↰","↱","↲","↳","↴","↵","↶","↷","↸","↹","↺","↻","↼","↽","↾","↿","⇀","⇁","⇂","⇃","⇄","⇅","⇆","⇇","⇈","⇉","⇊","⇋","⇌","⇍","⇎","⇏","⇐","⇑","⇒","⇓","⇔","⇕","⇖","⇗","⇘","⇙","⇚","⇛","⇜","⇝","⇞","⇟","⇠","⇡","⇢","⇣","⇤","⇥","⇦","⇧","⇨","⇩","⇪","⇫","⇬","⇭","⇮","⇯","⇰","⇱","⇲","⇳","⇴","⇵","⇶","⇷","⇸","⇹","⇺","⇻","⇼","⇽","⇾","⇿"]},{key:"graph",label:"图形",children:["▢","▣","▤","▥","▦","▧","▨","▩","▭","▮","▯","▰","▱","▲","▷","▼","◁","◈","◉","◍","◐","◑","◒","◓","◔","◕","◧","◨","◩","◪","◫","◬","◭","◮"]}],xx=gx,Cx=Object(j["defineComponent"])({name:"symbol-panel",setup:function(){var e=Object(j["ref"])(xx[0].key),t=Object(j["computed"])((function(){var t=xx.find((function(t){return t.key===e.value}));return(null===t||void 0===t?void 0:t.children)||[]})),n=function(e){Cl.emit(zc.RICH_TEXT_COMMAND,{action:{command:"insert",value:e}})};return{symbolPoolList:xx,symbolPool:t,selectedSymbolKey:e,selectSymbol:n}}});n("f8c7");const kx=eo()(Cx,[["render",yx],["__scopeId","data-v-e93c4822"]]);var Ex=kx,wx=Object(j["defineComponent"])({name:"toolbar",setup:function(){var e=ue(),t=Object(y["c"])(e),n=t.activeElementIdList,o=t.handleElement,c=t.toolbarState,l=Object(j["computed"])((function(){var e;return"text"===(null===(e=o.value)||void 0===e?void 0:e.type)?[{label:"样式",value:x.EL_STYLE},{label:"符号",value:x.SYMBOL},{label:"位置",value:x.EL_POSITION},{label:"动画",value:x.EL_ANIMATION}]:[{label:"样式",value:x.EL_STYLE},{label:"位置",value:x.EL_POSITION},{label:"动画",value:x.EL_ANIMATION}]})),a=[{label:"设计",value:x.SLIDE_DESIGN},{label:"切换",value:x.SLIDE_ANIMATION},{label:"动画",value:x.EL_ANIMATION}],r=[{label:"样式",value:x.EL_STYLE},{label:"位置",value:x.MULTI_POSITION}],i=function(t){e.setToolbarState(t)},u=Object(j["computed"])((function(){return n.value.length?n.value.length>1?r:l.value:a}));Object(j["watch"])(u,(function(){var t=u.value.map((function(e){return e.value}));t.includes(c.value)||e.setToolbarState(t[0])}));var d=Object(j["computed"])((function(){var e,t=(e={},Object(pe["a"])(e,x.EL_STYLE,Ej),Object(pe["a"])(e,x.EL_POSITION,Yj),Object(pe["a"])(e,x.EL_ANIMATION,Jy),Object(pe["a"])(e,x.SLIDE_DESIGN,Xg),Object(pe["a"])(e,x.SLIDE_ANIMATION,nx),Object(pe["a"])(e,x.MULTI_POSITION,bx),Object(pe["a"])(e,x.SYMBOL,Ex),e);return t[c.value]||null}));return{toolbarState:c,currentTabs:u,setToolbarState:i,currentPanelComponent:d}}});n("5389");const Nx=eo()(wx,[["render",nm],["__scopeId","data-v-6e28a17b"]]);var Vx=Nx,Ix={class:"remark"},Sx=["value"];function Bx(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Ix,[Object(j["createElementVNode"])("div",{class:"resize-handler",onMousedown:t[0]||(t[0]=function(t){return e.resize(t)})},null,32),Object(j["createElementVNode"])("textarea",{value:e.remark,placeholder:"点击输入演讲者备注",onInput:t[1]||(t[1]=function(t){return e.handleInput(t)})},null,40,Sx)])}var Lx=Object(j["defineComponent"])({name:"remark",emits:["update:height"],props:{height:{type:Number,required:!0}},setup:function(e,t){var n=t.emit,o=ae(),c=Object(y["c"])(o),l=c.currentSlide,a=Object(j["computed"])((function(){var e;return(null===(e=l.value)||void 0===e?void 0:e.remark)||""})),r=function(e){var t=e.target.value;o.updateSlide({remark:t})},i=function(t){var o=!0,c=t.pageY,l=e.height;document.onmousemove=function(e){if(o){var t=e.pageY,a=t-c,r=-a+l;r<40&&(r=40),r>120&&(r=120),n("update:height",r)}},document.onmouseup=function(){o=!1,document.onmousemove=null,document.onmouseup=null}};return{remark:a,handleInput:r,resize:i}}});n("6339");const Tx=eo()(Lx,[["render",Bx],["__scopeId","data-v-7ed67bb3"]]);var _x=Tx,Mx={class:"export-dialog"},Dx={class:"tabs"},zx=["onClick"],Ax={class:"content"};function Fx(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Mx,[Object(j["createElementVNode"])("div",Dx,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.tabs,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["tab",{active:t.key===e.dialogForExport}]),key:t.key,onClick:function(n){return e.setDialogForExport(t.key)}},Object(j["toDisplayString"])(t.label),11,zx)})),128))]),Object(j["createElementVNode"])("div",Ax,[(Object(j["openBlock"])(),Object(j["createBlock"])(Object(j["resolveDynamicComponent"])(e.currentDialogComponent),{onClose:t[0]||(t[0]=function(t){return e.setDialogForExport("")})}))])])}var Rx=function(e){return Object(j["pushScopeId"])("data-v-61e92928"),e=e(),Object(j["popScopeId"])(),e},Px={class:"export-img-dialog"},Hx={class:"thumbnails-view"},qx={class:"thumbnails",ref:"imageThumbnailsRef"},Ux={class:"configs"},Wx={class:"row"},Gx=Rx((function(){return Object(j["createElementVNode"])("div",{class:"title"},"导出格式：",-1)})),Xx=Object(j["createTextVNode"])("JPEG"),Yx=Object(j["createTextVNode"])("PNG"),Zx={class:"row"},Jx=Rx((function(){return Object(j["createElementVNode"])("div",{class:"title"},"导出范围：",-1)})),Kx=Object(j["createTextVNode"])("全部"),Qx=Object(j["createTextVNode"])("当前页"),$x=Object(j["createTextVNode"])("自定义"),eC={key:0,class:"row"},tC=["data-range"],nC={class:"row"},oC=Rx((function(){return Object(j["createElementVNode"])("div",{class:"title"},"图片质量：",-1)})),cC={class:"row"},lC=Rx((function(){return Object(j["createElementVNode"])("div",{class:"title"},"忽略在线字体：",-1)})),aC={class:"config-item"},rC={class:"btns"},iC=Object(j["createTextVNode"])("导出图片"),uC=Object(j["createTextVNode"])("关闭");function dC(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("ThumbnailSlide"),r=Object(j["resolveComponent"])("RadioButton"),i=Object(j["resolveComponent"])("RadioGroup"),u=Object(j["resolveComponent"])("Slider"),d=Object(j["resolveComponent"])("Switch"),s=Object(j["resolveComponent"])("Tooltip"),f=Object(j["resolveComponent"])("Button"),b=Object(j["resolveComponent"])("FullscreenSpin");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Px,[Object(j["createElementVNode"])("div",Hx,[Object(j["createElementVNode"])("div",qx,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.renderSlides,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(a,{class:"thumbnail",key:e.id,slide:e,size:1600},null,8,["slide"])})),128))],512)]),Object(j["createElementVNode"])("div",Ux,[Object(j["createElementVNode"])("div",Wx,[Gx,Object(j["createVNode"])(i,{class:"config-item",value:e.format,"onUpdate:value":t[0]||(t[0]=function(t){return e.format=t})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{width:"50%"},value:"jpeg"},{default:Object(j["withCtx"])((function(){return[Xx]})),_:1}),Object(j["createVNode"])(r,{style:{width:"50%"},value:"png"},{default:Object(j["withCtx"])((function(){return[Yx]})),_:1})]})),_:1},8,["value"])]),Object(j["createElementVNode"])("div",Zx,[Jx,Object(j["createVNode"])(i,{class:"config-item",value:e.rangeType,"onUpdate:value":t[1]||(t[1]=function(t){return e.rangeType=t})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{width:"33.33%"},value:"all"},{default:Object(j["withCtx"])((function(){return[Kx]})),_:1}),Object(j["createVNode"])(r,{style:{width:"33.33%"},value:"current"},{default:Object(j["withCtx"])((function(){return[Qx]})),_:1}),Object(j["createVNode"])(r,{style:{width:"33.33%"},value:"custom"},{default:Object(j["withCtx"])((function(){return[$x]})),_:1})]})),_:1},8,["value"])]),"custom"===e.rangeType?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",eC,[Object(j["createElementVNode"])("div",{class:"title","data-range":"（".concat(e.range[0]," ~ ").concat(e.range[1],"）")},"自定义范围：",8,tC),Object(j["createVNode"])(u,{class:"config-item",range:"",min:1,max:e.slides.length,step:1,value:e.range,"onUpdate:value":t[2]||(t[2]=function(t){return e.range=t})},null,8,["max","value"])])):Object(j["createCommentVNode"])("",!0),Object(j["createElementVNode"])("div",nC,[oC,Object(j["createVNode"])(u,{class:"config-item",min:0,max:1,step:.1,value:e.quality,"onUpdate:value":t[3]||(t[3]=function(t){return e.quality=t})},null,8,["step","value"])]),Object(j["createElementVNode"])("div",cC,[lC,Object(j["createElementVNode"])("div",aC,[Object(j["createVNode"])(s,{mouseLeaveDelay:0,mouseEnterDelay:.5,title:"导出时默认忽略在线字体，若您在幻灯片中使用了在线字体，且希望导出后保留相关样式，可选择关闭【忽略在线字体】选项，但要注意这将会增加导出用时。"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(d,{checked:e.ignoreWebfont,"onUpdate:checked":t[4]||(t[4]=function(t){return e.ignoreWebfont=t})},null,8,["checked"])]})),_:1},8,["mouseEnterDelay"])])])]),Object(j["createElementVNode"])("div",rC,[Object(j["createVNode"])(f,{class:"btn export",type:"primary",onClick:t[5]||(t[5]=function(t){return e.expImage()})},{default:Object(j["withCtx"])((function(){return[iC]})),_:1}),Object(j["createVNode"])(f,{class:"btn close",onClick:t[6]||(t[6]=function(t){return e.close()})},{default:Object(j["withCtx"])((function(){return[uC]})),_:1})]),Object(j["createVNode"])(b,{loading:e.exporting,tip:"正在导出..."},null,8,["loading"])])}var sC=Object(j["defineComponent"])({name:"export-img-dialog",components:{ThumbnailSlide:ks},setup:function(e,t){var n=t.emit,o=Object(y["c"])(ae()),c=o.slides,l=o.currentSlide,a=Object(j["ref"])(),r=Object(j["ref"])("all"),i=Object(j["ref"])([1,c.value.length]),u=Object(j["ref"])("jpeg"),d=Object(j["ref"])(1),s=Object(j["ref"])(!0),f=Object(j["computed"])((function(){return"all"===r.value?c.value:"current"===r.value?[l.value]:c.value.filter((function(e,t){var n=Object(ve["a"])(i.value,2),o=n[0],c=n[1];return t>=o-1&&t<=c-1}))})),b=function(){return n("close")},m=Gn(),p=m.exportImage,v=m.exporting,O=function(){a.value&&p(a.value,u.value,d.value,s.value)};return{imageThumbnailsRef:a,slides:c,rangeType:r,range:i,format:u,quality:d,ignoreWebfont:s,renderSlides:f,exporting:v,expImage:O,close:b}}});n("cfda");const fC=eo()(sC,[["render",dC],["__scopeId","data-v-61e92928"]]);var bC=fC,mC={class:"export-json-dialog"},pC={class:"preview"},vC={class:"btns"},OC=Object(j["createTextVNode"])("导出 JSON"),hC=Object(j["createTextVNode"])("关闭");function jC(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("Button");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",mC,[Object(j["createElementVNode"])("div",pC,[Object(j["createElementVNode"])("pre",null,Object(j["toDisplayString"])(e.slides),1)]),Object(j["createElementVNode"])("div",vC,[Object(j["createVNode"])(a,{class:"btn export",type:"primary",onClick:t[0]||(t[0]=function(t){return e.exportJSON()})},{default:Object(j["withCtx"])((function(){return[OC]})),_:1}),Object(j["createVNode"])(a,{class:"btn close",onClick:t[1]||(t[1]=function(t){return e.close()})},{default:Object(j["withCtx"])((function(){return[hC]})),_:1})])])}var yC=Object(j["defineComponent"])({name:"export-json-dialog",setup:function(e,t){var n=t.emit,o=function(){return n("close")},c=Object(y["c"])(ae()),l=c.slides,a=Gn(),r=a.exportJSON;return{slides:l,exportJSON:r,close:o}}});n("18cc");const gC=eo()(yC,[["render",jC],["__scopeId","data-v-54705363"]]);var xC=gC,CC=function(e){return Object(j["pushScopeId"])("data-v-7c83ddb5"),e=e(),Object(j["popScopeId"])(),e},kC={class:"export-pdf-dialog"},EC={class:"thumbnails-view"},wC={class:"thumbnails",ref:"pdfThumbnailsRef"},NC={class:"configs"},VC={class:"row"},IC=CC((function(){return Object(j["createElementVNode"])("div",{class:"title"},"导出范围：",-1)})),SC=Object(j["createTextVNode"])("全部幻灯片"),BC=Object(j["createTextVNode"])("当前幻灯片"),LC={class:"row"},TC=CC((function(){return Object(j["createElementVNode"])("div",{class:"title"},"每页数量：",-1)})),_C=Object(j["createTextVNode"])("1"),MC=Object(j["createTextVNode"])("2"),DC=Object(j["createTextVNode"])("3"),zC={class:"row"},AC=CC((function(){return Object(j["createElementVNode"])("div",{class:"title"},"边缘留白：",-1)})),FC={class:"config-item"},RC=CC((function(){return Object(j["createElementVNode"])("div",{class:"tip"}," 注意：若打印预览与实际样式不一致，请在弹出的打印窗口中勾选【背景图形】选项。 ",-1)})),PC={class:"btns"},HC=Object(j["createTextVNode"])("打印 / 导出 PDF"),qC=Object(j["createTextVNode"])("关闭");function UC(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("ThumbnailSlide"),r=Object(j["resolveComponent"])("RadioButton"),i=Object(j["resolveComponent"])("RadioGroup"),u=Object(j["resolveComponent"])("SelectOption"),d=Object(j["resolveComponent"])("Select"),s=Object(j["resolveComponent"])("Switch"),f=Object(j["resolveComponent"])("Button");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",kC,[Object(j["createElementVNode"])("div",EC,[Object(j["createElementVNode"])("div",wC,["current"===e.rangeType?(Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:0,class:"thumbnail",slide:e.currentSlide,size:1600},null,8,["slide"])):(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],{key:1},Object(j["renderList"])(e.slides,(function(t,n){return Object(j["openBlock"])(),Object(j["createBlock"])(a,{class:Object(j["normalizeClass"])(["thumbnail",{"break-page":(n+1)%e.count===0}]),key:t.id,slide:t,size:1600},null,8,["class","slide"])})),128))],512)]),Object(j["createElementVNode"])("div",NC,[Object(j["createElementVNode"])("div",VC,[IC,Object(j["createVNode"])(i,{class:"config-item",value:e.rangeType,"onUpdate:value":t[0]||(t[0]=function(t){return e.rangeType=t})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{width:"50%"},value:"all"},{default:Object(j["withCtx"])((function(){return[SC]})),_:1}),Object(j["createVNode"])(r,{style:{width:"50%"},value:"current"},{default:Object(j["withCtx"])((function(){return[BC]})),_:1})]})),_:1},8,["value"])]),Object(j["createElementVNode"])("div",LC,[TC,Object(j["createVNode"])(d,{class:"config-item",value:e.count,"onUpdate:value":t[1]||(t[1]=function(t){return e.count=t})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{value:1},{default:Object(j["withCtx"])((function(){return[_C]})),_:1}),Object(j["createVNode"])(u,{value:2},{default:Object(j["withCtx"])((function(){return[MC]})),_:1}),Object(j["createVNode"])(u,{value:3},{default:Object(j["withCtx"])((function(){return[DC]})),_:1})]})),_:1},8,["value"])]),Object(j["createElementVNode"])("div",zC,[AC,Object(j["createElementVNode"])("div",FC,[Object(j["createVNode"])(s,{checked:e.padding,"onUpdate:checked":t[2]||(t[2]=function(t){return e.padding=t})},null,8,["checked"])])]),RC]),Object(j["createElementVNode"])("div",PC,[Object(j["createVNode"])(f,{class:"btn export",type:"primary",onClick:t[3]||(t[3]=function(t){return e.expPDF()})},{default:Object(j["withCtx"])((function(){return[HC]})),_:1}),Object(j["createVNode"])(f,{class:"btn close",onClick:t[4]||(t[4]=function(t){return e.close()})},{default:Object(j["withCtx"])((function(){return[qC]})),_:1})])])}var WC=function(){var e=document.createElement("iframe");return e.style.width="0",e.style.height="0",e.style.position="absolute",e.style.right="0",e.style.top="0",e.style.border="0",document.body.appendChild(e),e},GC=function(e,t,n){var o="<!DOCTYPE html>",c="",l=document.styleSheets;if(l){var a,r=Object(T["a"])(l);try{for(r.s();!(a=r.n()).done;){var i=a.value;if(i.cssRules){var u,d=Object(T["a"])(i.cssRules);try{for(d.s();!(u=d.n()).done;){var s=u.value;c+=s.cssText}}catch(lL){d.e(lL)}finally{d.f()}}}}catch(lL){r.e(lL)}finally{r.f()}}var f=n.width,b=n.height,m=n.margin,p='\n    <head>\n      <style type="text/css">\n        '.concat(c," \n        html, body {\n          height: auto;\n          overflow: auto;\n        }\n        @media print {\n          @page {\n            size: ").concat(f+2*m,"px ").concat(b+2*m,"px;\n            margin: ").concat(m,"px;\n          }\n        }\n      </style>\n    </head>\n  "),v="<body>"+t.innerHTML+"</body>";e.open(),e.write("\n    ".concat(o,"\n    <html>\n      ").concat(p,"\n      ").concat(v,"\n    </html>\n  ")),e.close()},XC=function(e,t){var n=WC(),o=n.contentWindow;if(n.contentDocument&&o){GC(n.contentDocument,e,t);var c=function(){o.focus(),o.print(),document.body.removeChild(n)};n.addEventListener("load",c)}},YC=Object(j["defineComponent"])({name:"export-pdf-dialog",components:{ThumbnailSlide:ks},setup:function(e,t){var n=t.emit,o=Object(y["c"])(ae()),c=o.slides,l=o.currentSlide,a=Object(j["ref"])(),r=Object(j["ref"])("all"),i=Object(j["ref"])(1),u=Object(j["ref"])(!0),d=function(){return n("close")},s=function(){if(a.value){var e={width:1600,height:"all"===r.value?900*i.value:900,margin:u.value?50:0};XC(a.value,e)}};return{pdfThumbnailsRef:a,slides:c,currentSlide:l,rangeType:r,count:i,padding:u,expPDF:s,close:d}}});n("8ad9");const ZC=eo()(YC,[["render",UC],["__scopeId","data-v-7c83ddb5"]]);var JC=ZC,KC=function(e){return Object(j["pushScopeId"])("data-v-dad79818"),e=e(),Object(j["popScopeId"])(),e},QC={class:"export-pptx-dialog"},$C={class:"configs"},ek={class:"row"},tk=KC((function(){return Object(j["createElementVNode"])("div",{class:"title"},"导出范围：",-1)})),nk=Object(j["createTextVNode"])("全部"),ok=Object(j["createTextVNode"])("当前页"),ck=Object(j["createTextVNode"])("自定义"),lk={key:0,class:"row"},ak=["data-range"],rk={class:"row"},ik=KC((function(){return Object(j["createElementVNode"])("div",{class:"title"},"覆盖默认母版：",-1)})),uk={class:"config-item"},dk={class:"btns"},sk=Object(j["createTextVNode"])("导出 PPTX"),fk=Object(j["createTextVNode"])("关闭");function bk(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("RadioButton"),r=Object(j["resolveComponent"])("RadioGroup"),i=Object(j["resolveComponent"])("Slider"),u=Object(j["resolveComponent"])("Switch"),d=Object(j["resolveComponent"])("Button"),s=Object(j["resolveComponent"])("FullscreenSpin");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",QC,[Object(j["createElementVNode"])("div",$C,[Object(j["createElementVNode"])("div",ek,[tk,Object(j["createVNode"])(r,{class:"config-item",value:e.rangeType,"onUpdate:value":t[0]||(t[0]=function(t){return e.rangeType=t})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(a,{style:{width:"33.33%"},value:"all"},{default:Object(j["withCtx"])((function(){return[nk]})),_:1}),Object(j["createVNode"])(a,{style:{width:"33.33%"},value:"current"},{default:Object(j["withCtx"])((function(){return[ok]})),_:1}),Object(j["createVNode"])(a,{style:{width:"33.33%"},value:"custom"},{default:Object(j["withCtx"])((function(){return[ck]})),_:1})]})),_:1},8,["value"])]),"custom"===e.rangeType?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",lk,[Object(j["createElementVNode"])("div",{class:"title","data-range":"（".concat(e.range[0]," ~ ").concat(e.range[1],"）")},"自定义范围：",8,ak),Object(j["createVNode"])(i,{class:"config-item",range:"",min:1,max:e.slides.length,step:1,value:e.range,"onUpdate:value":t[1]||(t[1]=function(t){return e.range=t})},null,8,["max","value"])])):Object(j["createCommentVNode"])("",!0),Object(j["createElementVNode"])("div",rk,[ik,Object(j["createElementVNode"])("div",uk,[Object(j["createVNode"])(u,{checked:e.masterOverwrite,"onUpdate:checked":t[2]||(t[2]=function(t){return e.masterOverwrite=t})},null,8,["checked"])])])]),Object(j["createElementVNode"])("div",dk,[Object(j["createVNode"])(d,{class:"btn export",type:"primary",onClick:t[3]||(t[3]=function(t){return e.exportPPTX(e.selectedSlides,e.masterOverwrite)})},{default:Object(j["withCtx"])((function(){return[sk]})),_:1}),Object(j["createVNode"])(d,{class:"btn close",onClick:t[4]||(t[4]=function(t){return e.close()})},{default:Object(j["withCtx"])((function(){return[fk]})),_:1})]),Object(j["createVNode"])(s,{loading:e.exporting,tip:"正在导出..."},null,8,["loading"])])}var mk=Object(j["defineComponent"])({name:"export-pptx-dialog",setup:function(e,t){var n=t.emit,o=Object(y["c"])(ae()),c=o.slides,l=o.currentSlide,a=Object(j["ref"])("all"),r=Object(j["ref"])([1,c.value.length]),i=Object(j["ref"])(!0),u=Object(j["computed"])((function(){return"all"===a.value?c.value:"current"===a.value?[l.value]:c.value.filter((function(e,t){var n=Object(ve["a"])(r.value,2),o=n[0],c=n[1];return t>=o-1&&t<=c-1}))})),d=function(){return n("close")},s=Gn(),f=s.exportPPTX,b=s.exporting;return{slides:c,rangeType:a,range:r,masterOverwrite:i,exporting:b,selectedSlides:u,exportPPTX:f,close:d}}});n("4d4d");const pk=eo()(mk,[["render",bk],["__scopeId","data-v-dad79818"]]);var vk=pk,Ok=function(e){return Object(j["pushScopeId"])("data-v-1e43fa60"),e=e(),Object(j["popScopeId"])(),e},hk={class:"export-pptist-dialog"},jk={class:"configs"},yk={class:"row"},gk=Ok((function(){return Object(j["createElementVNode"])("div",{class:"title"},"导出范围：",-1)})),xk=Object(j["createTextVNode"])("全部"),Ck=Object(j["createTextVNode"])("当前页"),kk=Object(j["createTextVNode"])("自定义"),Ek={key:0,class:"row"},wk=["data-range"],Nk=Ok((function(){return Object(j["createElementVNode"])("div",{class:"tip"}," 提示：.pptist 是本应用的特有文件后缀，支持将该类型的文件导入回应用中。 ",-1)})),Vk={class:"btns"},Ik=Object(j["createTextVNode"])("导出 .pptist 文件"),Sk=Object(j["createTextVNode"])("关闭");function Bk(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("RadioButton"),r=Object(j["resolveComponent"])("RadioGroup"),i=Object(j["resolveComponent"])("Slider"),u=Object(j["resolveComponent"])("Button");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",hk,[Object(j["createElementVNode"])("div",jk,[Object(j["createElementVNode"])("div",yk,[gk,Object(j["createVNode"])(r,{class:"config-item",value:e.rangeType,"onUpdate:value":t[0]||(t[0]=function(t){return e.rangeType=t})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(a,{style:{width:"33.33%"},value:"all"},{default:Object(j["withCtx"])((function(){return[xk]})),_:1}),Object(j["createVNode"])(a,{style:{width:"33.33%"},value:"current"},{default:Object(j["withCtx"])((function(){return[Ck]})),_:1}),Object(j["createVNode"])(a,{style:{width:"33.33%"},value:"custom"},{default:Object(j["withCtx"])((function(){return[kk]})),_:1})]})),_:1},8,["value"])]),"custom"===e.rangeType?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Ek,[Object(j["createElementVNode"])("div",{class:"title","data-range":"（".concat(e.range[0]," ~ ").concat(e.range[1],"）")},"自定义范围：",8,wk),Object(j["createVNode"])(i,{class:"config-item",range:"",min:1,max:e.slides.length,step:1,value:e.range,"onUpdate:value":t[1]||(t[1]=function(t){return e.range=t})},null,8,["max","value"])])):Object(j["createCommentVNode"])("",!0),Nk]),Object(j["createElementVNode"])("div",Vk,[Object(j["createVNode"])(u,{class:"btn export",type:"primary",onClick:t[2]||(t[2]=function(t){return e.exportSpecificFile(e.selectedSlides)})},{default:Object(j["withCtx"])((function(){return[Ik]})),_:1}),Object(j["createVNode"])(u,{class:"btn close",onClick:t[3]||(t[3]=function(t){return e.close()})},{default:Object(j["withCtx"])((function(){return[Sk]})),_:1})])])}var Lk=Object(j["defineComponent"])({name:"export-pptist-dialog",setup:function(e,t){var n=t.emit,o=Object(y["c"])(ae()),c=o.slides,l=o.currentSlide,a=Object(j["ref"])("all"),r=Object(j["ref"])([1,c.value.length]),i=Object(j["computed"])((function(){return"all"===a.value?c.value:"current"===a.value?[l.value]:c.value.filter((function(e,t){var n=Object(ve["a"])(r.value,2),o=n[0],c=n[1];return t>=o-1&&t<=c-1}))})),u=function(){return n("close")},d=Gn(),s=d.exportSpecificFile;return{slides:c,rangeType:a,range:r,selectedSlides:i,exportSpecificFile:s,close:u}}});n("a812");const Tk=eo()(Lk,[["render",Bk],["__scopeId","data-v-1e43fa60"]]);var _k=Tk,Mk=Object(j["defineComponent"])({name:"export-dialog",setup:function(){var e=ue(),t=Object(y["c"])(e),n=t.dialogForExport,o=e.setDialogForExport,c=[{key:"pptist",label:"导出 pptist 文件"},{key:"pptx",label:"导出 PPTX"},{key:"image",label:"导出图片"},{key:"json",label:"导出 JSON"},{key:"pdf",label:"打印 / 导出 PDF"}],l=Object(j["computed"])((function(){var e={image:bC,json:xC,pdf:JC,pptx:vk,pptist:_k};return e[n.value]||null}));return{currentDialogComponent:l,tabs:c,dialogForExport:n,setDialogForExport:o}}});n("e1c2");const Dk=eo()(Mk,[["render",Fx],["__scopeId","data-v-226065fe"]]);var zk=Dk,Ak=Object(j["defineComponent"])({name:"editor",components:{EditorHeader:lo,Canvas:Ss,CanvasTool:_b,Thumbnails:Kb,Toolbar:Vx,Remark:_x,ExportDialog:zk},setup:function(){var e=ue(),t=Object(y["c"])(e),n=t.dialogForExport,o=function(){return e.setDialogForExport("")},c=Object(j["ref"])(40);return Nt(),Vt(),{remarkHeight:c,dialogForExport:n,closeExportDialog:o}}});n("2540");const Fk=eo()(Ak,[["render",Be],["__scopeId","data-v-5ff9efcc"]]);var Rk=Fk,Pk={class:"pptist-screen"};function Hk(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("BaseView"),r=Object(j["resolveComponent"])("PresenterView");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Pk,["base"===e.viewMode?(Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:0,changeViewMode:e.changeViewMode},null,8,["changeViewMode"])):"presenter"===e.viewMode?(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:1,changeViewMode:e.changeViewMode},null,8,["changeViewMode"])):Object(j["createCommentVNode"])("",!0)])}var qk={class:"tools-left"},Uk={class:"content"};function Wk(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("ScreenSlideList"),r=Object(j["resolveComponent"])("SlideThumbnails"),i=Object(j["resolveComponent"])("WritingBoardTool"),u=Object(j["resolveComponent"])("IconLeftTwo"),d=Object(j["resolveComponent"])("IconRightTwo"),s=Object(j["resolveComponent"])("IconWrite"),f=Object(j["resolveComponent"])("Tooltip"),b=Object(j["resolveComponent"])("IconMagic"),m=Object(j["resolveComponent"])("IconListView"),p=Object(j["resolveComponent"])("IconOffScreenOne"),v=Object(j["resolveComponent"])("IconFullScreenOne"),O=Object(j["resolveComponent"])("IconPower"),h=Object(j["resolveDirective"])("contextmenu");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["base-view",{"laser-pen":e.laserPen}])},[Object(j["withDirectives"])(Object(j["createVNode"])(a,{slideWidth:e.slideWidth,slideHeight:e.slideHeight,animationIndex:e.animationIndex,turnSlideToId:e.turnSlideToId,manualExitFullscreen:e.manualExitFullscreen,onWheel:t[0]||(t[0]=function(t){return e.mousewheelListener(t)}),onTouchstart:t[1]||(t[1]=function(t){return e.touchStartListener(t)}),onTouchend:t[2]||(t[2]=function(t){return e.touchEndListener(t)})},null,8,["slideWidth","slideHeight","animationIndex","turnSlideToId","manualExitFullscreen"]),[[h,e.contextmenus]]),e.slideThumbnailModelVisible?(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:0,turnSlideToIndex:e.turnSlideToIndex,onClose:t[3]||(t[3]=function(t){return e.slideThumbnailModelVisible=!1})},null,8,["turnSlideToIndex"])):Object(j["createCommentVNode"])("",!0),e.writingBoardToolVisible?(Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:1,slideWidth:e.slideWidth,slideHeight:e.slideHeight,onClose:t[4]||(t[4]=function(t){return e.writingBoardToolVisible=!1})},null,8,["slideWidth","slideHeight"])):Object(j["createCommentVNode"])("",!0),Object(j["createElementVNode"])("div",qk,[Object(j["createVNode"])(u,{class:"tool-btn",theme:"two-tone",fill:["#111","#fff"],onClick:t[5]||(t[5]=function(t){return e.execPrev()})}),Object(j["createVNode"])(d,{class:"tool-btn",theme:"two-tone",fill:["#111","#fff"],onClick:t[6]||(t[6]=function(t){return e.execNext()})})]),Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["tools-right",{visible:e.rightToolsVisible}]),onMouseleave:t[14]||(t[14]=function(t){return e.rightToolsVisible=!1}),onMouseenter:t[15]||(t[15]=function(t){return e.rightToolsVisible=!0})},[Object(j["createElementVNode"])("div",Uk,[Object(j["createElementVNode"])("div",{class:"tool-btn page-number",onClick:t[7]||(t[7]=function(t){return e.slideThumbnailModelVisible=!0})},"幻灯片 "+Object(j["toDisplayString"])(e.slideIndex+1)+" / "+Object(j["toDisplayString"])(e.slides.length),1),Object(j["createVNode"])(f,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"画笔工具"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(s,{class:"tool-btn",onClick:t[8]||(t[8]=function(t){return e.writingBoardToolVisible=!0})})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(f,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"激光笔"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b,{class:Object(j["normalizeClass"])(["tool-btn",{active:e.laserPen}]),onClick:t[9]||(t[9]=function(t){return e.laserPen=!e.laserPen})},null,8,["class"])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(f,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"演讲者视图"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(m,{class:"tool-btn",onClick:t[10]||(t[10]=function(t){return e.changeViewMode("presenter")})})]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(f,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:e.fullscreenState?"退出全屏":"进入全屏"},{default:Object(j["withCtx"])((function(){return[e.fullscreenState?(Object(j["openBlock"])(),Object(j["createBlock"])(p,{key:0,class:"tool-btn",onClick:t[11]||(t[11]=function(t){return e.manualExitFullscreen()})})):(Object(j["openBlock"])(),Object(j["createBlock"])(v,{key:1,class:"tool-btn",onClick:t[12]||(t[12]=function(t){return e.enterFullscreen()})}))]})),_:1},8,["mouseEnterDelay","title"]),Object(j["createVNode"])(f,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"结束放映"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(O,{class:"tool-btn",onClick:t[13]||(t[13]=function(t){return e.exitScreening()})})]})),_:1},8,["mouseEnterDelay"])])],34)],2)}var Gk=function(){var e=ae(),t=Object(y["c"])(e),n=t.slides,o=t.slideIndex,c=t.formatedAnimations,l=Object(j["ref"])(0),a=Object(j["ref"])(!1),r=Object(j["ref"])(o.value),i=function e(){if(!a.value){var t=c.value[l.value],n=t.animations,o=t.autoNext;l.value+=1,a.value=!0;var r,i=0,u=Object(T["a"])(n);try{var d=function(){var t=r.value,c=document.querySelector("#screen-element-".concat(t.elId," [class^=base-element-]"));if(!c)return i+=1,"continue";var l="".concat(Ey).concat(t.effect);c.style.removeProperty("--animate-duration");var u,d=Object(T["a"])(c.classList);try{for(d.s();!(u=d.n()).done;){var s=u.value;-1!==s.indexOf(Ey)&&c.classList.remove(s,"".concat(Ey,"animated"))}}catch(lL){d.e(lL)}finally{d.f()}c.style.setProperty("--animate-duration","".concat(t.duration,"ms")),c.classList.add(l,"".concat(Ey,"animated"));var f=function(){"out"!==t.type&&(c.style.removeProperty("--animate-duration"),c.classList.remove(l,"".concat(Ey,"animated"))),i+=1,i===n.length&&(a.value=!1,o&&e())};c.addEventListener("animationend",f,{once:!0})};for(u.s();!(r=u.n()).done;)d()}catch(lL){u.e(lL)}finally{u.f()}}},u=function(){l.value-=1;var e,t=c.value[l.value].animations,n=Object(T["a"])(t);try{for(n.s();!(e=n.n()).done;){var o=e.value,a=document.querySelector("#screen-element-".concat(o.elId," [class^=base-element-]"));if(a){a.style.removeProperty("--animate-duration");var r,i=Object(T["a"])(a.classList);try{for(i.s();!(r=i.n()).done;){var u=r.value;-1!==u.indexOf(Ey)&&a.classList.remove(u,"".concat(Ey,"animated"))}}catch(lL){i.e(lL)}finally{i.f()}}}}catch(lL){n.e(lL)}finally{n.f()}t.every((function(e){return"attention"===e.type}))&&b()},d=Object(j["ref"])(0),s=function(){d.value&&(clearInterval(d.value),d.value=0)};Object(j["onUnmounted"])(s);var f=Object(ne["throttle"])((function(e){De["a"].success(e)}),1e3,{leading:!0,trailing:!1}),b=function(){c.value.length&&l.value>0?u():o.value>0?(e.updateSlideIndex(o.value-1),o.value<r.value?(l.value=0,r.value=o.value):l.value=c.value.length,a.value=!1):(f("已经是第一页了"),a.value=!1)},m=function(){c.value.length&&l.value<c.value.length?i():o.value<n.value.length-1?(e.updateSlideIndex(o.value+1),l.value=0,a.value=!1):(f("已经是最后一页了"),s(),a.value=!1)},p=function(){s(),De["a"].success("开始自动放映"),d.value=setInterval(m,2500)},v=Object(ne["throttle"])((function(e){e.deltaY<0?b():e.deltaY>0&&m()}),500,{leading:!0,trailing:!1}),O=Object(j["ref"])(null),h=function(e){O.value={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}},g=function(e){if(O.value){var t=Math.abs(O.value.x-e.changedTouches[0].pageX),n=e.changedTouches[0].pageY-O.value.y;Math.abs(n)>t&&Math.abs(n)>50&&(O.value=null,n>0?b():m())}},x=function(e){var t=e.key.toUpperCase();t===I.UP||t===I.LEFT||t===I.PAGEUP?b():t!==I.DOWN&&t!==I.RIGHT&&t!==I.SPACE&&t!==I.ENTER&&t!==I.PAGEDOWN||m()};Object(j["onMounted"])((function(){return document.addEventListener("keydown",x)})),Object(j["onUnmounted"])((function(){return document.removeEventListener("keydown",x)}));var C=function(){e.updateSlideIndex(o.value-1),l.value=0},k=function(){e.updateSlideIndex(o.value+1),l.value=0},E=function(t){e.updateSlideIndex(t),l.value=0},w=function(t){var o=n.value.findIndex((function(e){return e.id===t}));-1!==o&&(e.updateSlideIndex(o),l.value=0)};return{autoPlayTimer:d,autoPlay:p,closeAutoPlay:s,mousewheelListener:v,touchStartListener:h,touchEndListener:g,turnPrevSlide:C,turnNextSlide:k,turnSlideToIndex:E,turnSlideToId:w,execPrev:b,execNext:m,animationIndex:l}},Xk=function(e){var t=ae(),n=Object(y["c"])(t),o=n.viewportRatio,c=Object(j["ref"])(0),l=Object(j["ref"])(0),a=function(){var t,n,a=(null===e||void 0===e?void 0:e.value)||document.body,r=a.clientWidth,i=a.clientHeight;i/r===o.value?(t=r,n=i):i/r>o.value?(t=r,n=r*o.value):(t=i/o.value,n=i),c.value=t,l.value=n};return Object(j["onMounted"])((function(){a(),window.addEventListener("resize",a)})),Object(j["onUnmounted"])((function(){window.removeEventListener("resize",a)})),{slideWidth:c,slideHeight:l}},Yk=function(){var e=Object(j["ref"])(!0),t=Object(j["ref"])(!0),n=Et(),o=n.exitScreening,c=function(){e.value=kt(),!e.value&&t.value&&o(),t.value=!0};Object(j["onMounted"])((function(){e.value=kt(),document.addEventListener("fullscreenchange",c),document.addEventListener("webkitfullscreenchange",c)})),Object(j["onUnmounted"])((function(){document.removeEventListener("fullscreenchange",c),document.removeEventListener("webkitfullscreenchange",c)}));var l=function(){e.value&&(t.value=!1,Ct())};return{fullscreenState:e,manualExitFullscreen:l}},Zk={class:"screen-slide-list"};function Jk(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("ScreenSlide");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Zk,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.slides,(function(t,n){var o;return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["slide-item","turning-mode-".concat(t.turningMode||"slideY"),{current:n===e.slideIndex,before:n<e.slideIndex,after:n>e.slideIndex,hide:(n===e.slideIndex-1||n===e.slideIndex+1)&&t.turningMode!==e.currentSlide.turningMode}]),key:t.id},[Math.abs(e.slideIndex-n)<2||null!==(o=t.animations)&&void 0!==o&&o.length?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:0,class:"slide-content",style:Object(j["normalizeStyle"])({width:e.slideWidth+"px",height:e.slideHeight+"px"})},[Object(j["createVNode"])(a,{slide:t,scale:e.scale,animationIndex:e.animationIndex,turnSlideToId:e.turnSlideToId,manualExitFullscreen:e.manualExitFullscreen},null,8,["slide","scale","animationIndex","turnSlideToId","manualExitFullscreen"])],4)):Object(j["createCommentVNode"])("",!0)],2)})),128))])}function Kk(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("ScreenElement");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"screen-slide",style:Object(j["normalizeStyle"])({width:e.VIEWPORT_SIZE+"px",height:e.VIEWPORT_SIZE*e.viewportRatio+"px",transform:"scale(".concat(e.scale,")")})},[Object(j["createElementVNode"])("div",{class:"background",style:Object(j["normalizeStyle"])(Object(L["a"])({},e.backgroundStyle))},null,4),(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.slide.elements,(function(t,n){return Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:t.id,elementInfo:t,elementIndex:n+1,animationIndex:e.animationIndex,turnSlideToId:e.turnSlideToId,manualExitFullscreen:e.manualExitFullscreen},null,8,["elementInfo","elementIndex","animationIndex","turnSlideToId","manualExitFullscreen"])})),128))],4)}var Qk=["id","title"];function $k(e,t,n,o,c,l){var a;return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["screen-element",{link:e.elementInfo.link}]),id:"screen-element-".concat(e.elementInfo.id),style:Object(j["normalizeStyle"])({zIndex:e.elementIndex,color:e.theme.fontColor,fontFamily:e.theme.fontName,visibility:e.needWaitAnimation?"hidden":"visible"}),title:(null===(a=e.elementInfo.link)||void 0===a?void 0:a.target)||"",onClick:t[0]||(t[0]=function(t){return e.openLink()})},[(Object(j["openBlock"])(),Object(j["createBlock"])(Object(j["resolveDynamicComponent"])(e.currentElementComponent),{elementInfo:e.elementInfo},null,8,["elementInfo"]))],14,Qk)}function eE(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("BaseChartElement");return Object(j["openBlock"])(),Object(j["createBlock"])(a,{class:"screen-element-chart",elementInfo:e.elementInfo},null,8,["elementInfo"])}var tE=Object(j["defineComponent"])({name:"screen-element-chart",components:{BaseChartElement:qd},props:{elementInfo:{type:Object,required:!0}}});const nE=eo()(tE,[["render",eE]]);var oE=nE,cE={class:"element-content"};function lE(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("VideoPlayer");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"screen-element-video",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["createElementVNode"])("div",cE,[e.inCurrentSlide?(Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:0,width:e.elementInfo.width,height:e.elementInfo.height,src:e.elementInfo.src,poster:e.elementInfo.poster,scale:e.scale},null,8,["width","height","src","poster","scale"])):Object(j["createCommentVNode"])("",!0)])],4)],4)}var aE=Object(j["defineComponent"])({name:"screen-element-video",components:{VideoPlayer:_r},props:{elementInfo:{type:Object,required:!0}},setup:function(){var e=Object(y["c"])(ae()),t=e.currentSlide,n=Object(j["inject"])(uo)||Object(j["ref"])(1),o=Object(j["inject"])(so)||Object(j["ref"])(""),c=Object(j["computed"])((function(){return t.value.id===o.value}));return{scale:n,inCurrentSlide:c}}});n("0419");const rE=eo()(aE,[["render",lE],["__scopeId","data-v-0ef8b6c0"]]);var iE=rE,uE={class:"element-content"};function dE(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconVolumeNotice"),r=Object(j["resolveComponent"])("AudioPlayer");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"screen-element-audio",style:Object(j["normalizeStyle"])({top:e.elementInfo.top+"px",left:e.elementInfo.left+"px",width:e.elementInfo.width+"px",height:e.elementInfo.height+"px"})},[Object(j["createElementVNode"])("div",{class:"rotate-wrapper",style:Object(j["normalizeStyle"])({transform:"rotate(".concat(e.elementInfo.rotate,"deg)")})},[Object(j["createElementVNode"])("div",uE,[Object(j["createVNode"])(a,{class:"audio-icon",style:Object(j["normalizeStyle"])({fontSize:e.audioIconSize,color:e.elementInfo.color}),onClick:t[0]||(t[0]=function(t){return e.toggle()})},null,8,["style"]),e.inCurrentSlide?(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:0,class:"audio-player",ref:"audioPlayerRef",style:Object(j["normalizeStyle"])(Object(L["a"])({},e.audioPlayerPosition)),src:e.elementInfo.src,loop:e.elementInfo.loop,autoplay:e.elementInfo.autoplay,scale:e.scale},null,8,["style","src","loop","autoplay","scale"])):Object(j["createCommentVNode"])("",!0)])],4)],4)}var sE=Object(j["defineComponent"])({name:"screen-element-audio",components:{AudioPlayer:ri},props:{elementInfo:{type:Object,required:!0}},setup:function(e){var t=Object(y["c"])(ae()),n=t.viewportRatio,o=t.currentSlide,c=Object(j["inject"])(uo)||Object(j["ref"])(1),l=Object(j["inject"])(so)||Object(j["ref"])(""),a=Object(j["computed"])((function(){return o.value.id===l.value})),r=Object(j["computed"])((function(){return Math.min(e.elementInfo.width,e.elementInfo.height)+"px"})),i=Object(j["computed"])((function(){var t=at,o=at*n.value,l=280/c.value,a=50/c.value,r=e.elementInfo.width,i=e.elementInfo.height,u=e.elementInfo.left,d=e.elementInfo.top,s=0,f=i;return u+l>=t&&(s=r-l),d+i+a>=o&&(f=-a),{left:s+"px",top:f+"px"}})),u=Object(j["ref"])(),d=function(){u.value&&u.value.toggle()};return{scale:c,inCurrentSlide:a,audioIconSize:r,audioPlayerPosition:i,audioPlayerRef:u,toggle:d}}});n("a52e");const fE=eo()(sE,[["render",dE],["__scopeId","data-v-1adba489"]]);var bE=fE,mE=Object(j["defineComponent"])({name:"screen-element",props:{elementInfo:{type:Object,required:!0},elementIndex:{type:Number,required:!0},animationIndex:{type:Number,required:!0},turnSlideToId:{type:Function,required:!0},manualExitFullscreen:{type:Function,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){var t,n=(t={},Object(pe["a"])(t,Te.IMAGE,jd),Object(pe["a"])(t,Te.TEXT,kd),Object(pe["a"])(t,Te.SHAPE,Td),Object(pe["a"])(t,Te.LINE,Fd),Object(pe["a"])(t,Te.CHART,oE),Object(pe["a"])(t,Te.TABLE,ts),Object(pe["a"])(t,Te.LATEX,us),Object(pe["a"])(t,Te.VIDEO,iE),Object(pe["a"])(t,Te.AUDIO,bE),t);return n[e.elementInfo.type]||null})),n=Object(y["c"])(ae()),o=n.formatedAnimations,c=n.theme,l=Object(j["computed"])((function(){var t=o.value.findIndex((function(t){var n=t.animations.map((function(e){return e.elId}));return n.includes(e.elementInfo.id)}));if(-1===t)return!1;if(t<e.animationIndex)return!1;var n=o.value[t].animations.find((function(t){return t.elId===e.elementInfo.id}));return"in"===(null===n||void 0===n?void 0:n.type)})),a=function(){var t=e.elementInfo.link;t&&("web"===t.type?(e.manualExitFullscreen(),window.open(t.target)):"slide"===t.type&&e.turnSlideToId(t.target))};return{currentElementComponent:t,needWaitAnimation:l,theme:c,openLink:a}}});n("d56f");const pE=eo()(mE,[["render",$k],["__scopeId","data-v-0b036cf9"]]);var vE=pE,OE=Object(j["defineComponent"])({name:"screen-slide",components:{ScreenElement:vE},props:{slide:{type:Object,required:!0},scale:{type:Number,required:!0},animationIndex:{type:Number,required:!0},turnSlideToId:{type:Function,required:!0},manualExitFullscreen:{type:Function,required:!0}},setup:function(e){var t=Object(y["c"])(ae()),n=t.viewportRatio,o=Object(j["computed"])((function(){return e.slide.background})),c=Ei(o),l=c.backgroundStyle,a=Object(j["computed"])((function(){return e.slide.id}));return Object(j["provide"])(so,a),{backgroundStyle:l,VIEWPORT_SIZE:at,viewportRatio:n}}});n("e412");const hE=eo()(OE,[["render",Kk],["__scopeId","data-v-19ab4349"]]);var jE=hE,yE=Object(j["defineComponent"])({name:"screen-slide-list",components:{ScreenSlide:jE},props:{slideWidth:{type:Number,required:!0},slideHeight:{type:Number,required:!0},animationIndex:{type:Number,required:!0},turnSlideToId:{type:Function,required:!0},manualExitFullscreen:{type:Function,required:!0}},setup:function(e){var t=Object(y["c"])(ae()),n=t.slides,o=t.slideIndex,c=t.currentSlide,l=Object(j["computed"])((function(){return e.slideWidth/at}));return Object(j["provide"])(uo,l),{slides:n,slideIndex:o,currentSlide:c,scale:l}}});n("9753");const gE=eo()(yE,[["render",Jk],["__scopeId","data-v-01900375"]]);var xE=gE,CE={class:"slide-thumbnails"},kE={class:"return-button"},EE={class:"slide-thumbnails-content"},wE=["onClick"];function NE(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconArrowCircleLeft"),r=Object(j["resolveComponent"])("ThumbnailSlide");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",CE,[Object(j["createElementVNode"])("div",kE,[Object(j["createVNode"])(a,{class:"icon",onClick:t[0]||(t[0]=function(t){return e.close()})})]),Object(j["createElementVNode"])("div",EE,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.slides,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["thumbnail",{active:n===e.slideIndex}]),key:t.id,onClick:function(t){return e.turnSlide(n)}},[Object(j["createVNode"])(r,{slide:t,size:150,visible:n<e.slidesLoadLimit},null,8,["slide","visible"])],10,wE)})),128))])])}var VE=Object(j["defineComponent"])({name:"slide-thumbnails",emits:["close"],components:{ThumbnailSlide:ks},props:{turnSlideToIndex:{type:Function,required:!0}},setup:function(e,t){var n=t.emit,o=Object(y["c"])(ae()),c=o.slides,l=o.slideIndex,a=Rb(),r=a.slidesLoadLimit,i=function(){return n("close")},u=function(t){e.turnSlideToIndex(t),i()};return{slides:c,slideIndex:l,slidesLoadLimit:r,turnSlide:u,close:i}}});n("de7e");const IE=eo()(VE,[["render",NE],["__scopeId","data-v-11e5b856"]]);var SE=IE,BE={class:"writing-board-tool"},LE={class:"colors"},TE=["onClick"];function _E(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("WritingBoard"),r=Object(j["resolveComponent"])("IconWrite"),i=Object(j["resolveComponent"])("Tooltip"),u=Object(j["resolveComponent"])("IconHighLight"),d=Object(j["resolveComponent"])("IconErase"),s=Object(j["resolveComponent"])("IconClear"),f=Object(j["resolveComponent"])("IconFill"),b=Object(j["resolveComponent"])("IconClose");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",BE,[Object(j["createElementVNode"])("div",{class:"writing-board-wrap",style:Object(j["normalizeStyle"])({width:e.slideWidth+"px",height:e.slideHeight+"px"})},[Object(j["createVNode"])(a,{ref:"writingBoardRef",color:e.writingBoardColor,blackboard:e.blackboard,model:e.writingBoardModel},null,8,["color","blackboard","model"])],4),Object(j["createElementVNode"])("div",{class:"tools",style:Object(j["normalizeStyle"])(e.position)},[Object(j["createVNode"])(i,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"画笔"},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["btn",{active:"pen"===e.writingBoardModel}]),onClick:t[0]||(t[0]=function(t){return e.changeModel("pen")})},[Object(j["createVNode"])(r,{class:"icon"})],2)]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(i,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"荧光笔"},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["btn",{active:"mark"===e.writingBoardModel}]),onClick:t[1]||(t[1]=function(t){return e.changeModel("mark")})},[Object(j["createVNode"])(u,{class:"icon"})],2)]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(i,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"橡皮擦"},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["btn",{active:"eraser"===e.writingBoardModel}]),onClick:t[2]||(t[2]=function(t){return e.changeModel("eraser")})},[Object(j["createVNode"])(d,{class:"icon"})],2)]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(i,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"清除墨迹"},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",{class:"btn",onClick:t[3]||(t[3]=function(t){return e.clearCanvas()})},[Object(j["createVNode"])(s,{class:"icon"})])]})),_:1},8,["mouseEnterDelay"]),Object(j["createVNode"])(i,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"黑板"},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["btn",{active:e.blackboard}]),onClick:t[4]||(t[4]=function(t){return e.blackboard=!e.blackboard})},[Object(j["createVNode"])(f,{class:"icon"})],2)]})),_:1},8,["mouseEnterDelay"]),Object(j["createElementVNode"])("div",LE,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.writingBoardColors,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["color",{active:t===e.writingBoardColor}]),key:t,style:Object(j["normalizeStyle"])({backgroundColor:t}),onClick:function(n){return e.changeColor(t)}},null,14,TE)})),128))]),Object(j["createVNode"])(i,{mouseLeaveDelay:0,mouseEnterDelay:.3,title:"关闭画笔"},{default:Object(j["withCtx"])((function(){return[Object(j["createElementVNode"])("div",{class:"btn",onClick:t[5]||(t[5]=function(t){return e.closeWritingBoard()})},[Object(j["createVNode"])(b,{class:"icon"})])]})),_:1},8,["mouseEnterDelay"])],4)])}var ME={class:"writing-board",ref:"writingBoardRef"},DE={key:0,class:"blackboard"};function zE(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconWrite"),r=Object(j["resolveComponent"])("IconHighLight");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",ME,[e.blackboard?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",DE)):Object(j["createCommentVNode"])("",!0),Object(j["createElementVNode"])("canvas",{class:"canvas",ref:"canvasRef",style:Object(j["normalizeStyle"])({width:e.canvasWidth+"px",height:e.canvasHeight+"px"}),onMousedown:t[0]||(t[0]=function(t){return e.handleMousedown(t)}),onMousemove:t[1]||(t[1]=function(t){return e.handleMousemove(t)}),onMouseup:t[2]||(t[2]=function(t){return e.handleMouseup()}),onTouchstart:t[3]||(t[3]=function(t){return e.handleMousedown(t)}),onTouchmove:t[4]||(t[4]=function(t){return e.handleMousemove(t)}),onTouchend:t[5]||(t[5]=function(t){e.handleMouseup(),e.mouseInCanvas=!1}),onMouseleave:t[6]||(t[6]=function(t){e.handleMouseup(),e.mouseInCanvas=!1}),onMouseenter:t[7]||(t[7]=function(t){return e.mouseInCanvas=!0}),onWheel:t[8]||(t[8]=function(t){return e.mousewheelListener(t)})},null,36),e.mouseInCanvas?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:1},["eraser"===e.model?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:0,class:"eraser",style:Object(j["normalizeStyle"])({left:e.mouse.x-e.rubberSize/2+"px",top:e.mouse.y-e.rubberSize/2+"px",width:e.rubberSize+"px",height:e.rubberSize+"px"})},null,4)):Object(j["createCommentVNode"])("",!0),"pen"===e.model?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:1,class:"pen",style:Object(j["normalizeStyle"])({left:e.mouse.x-e.penSize/2+"px",top:e.mouse.y-6*e.penSize+e.penSize/2+"px",color:e.color})},["pen"===e.model?(Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:0,class:"icon",size:6*e.penSize},null,8,["size"])):Object(j["createCommentVNode"])("",!0)],4)):Object(j["createCommentVNode"])("",!0),"mark"===e.model?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:2,class:"pen",style:Object(j["normalizeStyle"])({left:e.mouse.x-e.markSize/2+"px",top:e.mouse.y+"px",color:e.color})},["mark"===e.model?(Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:0,class:"icon",size:1.5*e.markSize},null,8,["size"])):Object(j["createCommentVNode"])("",!0)],4)):Object(j["createCommentVNode"])("",!0)],64)):Object(j["createCommentVNode"])("",!0)],512)}var AE=Object(j["defineComponent"])({name:"writing-board",props:{color:{type:String,default:"#ffcc00"},model:{type:String,default:"pen"},blackboard:{type:Boolean,default:!1}},setup:function(e){var t=null,n=Object(j["ref"])(),o=Object(j["ref"])(),c=Object(j["ref"])(6),l=Object(j["ref"])(80),a=Object(j["ref"])(24),r={x:0,y:0},i=!1,u=0,d=-1,s=Object(j["ref"])({x:0,y:0}),f=Object(j["ref"])(!1),b=Object(j["ref"])(0),m=Object(j["ref"])(0),p=Object(j["computed"])((function(){return o.value?b.value/o.value.width:1})),v=Object(j["computed"])((function(){return o.value?m.value/o.value.height:1})),O=function(){n.value&&(b.value=n.value.clientWidth,m.value=n.value.clientHeight)},h=new ResizeObserver(O);Object(j["onMounted"])((function(){n.value&&h.observe(n.value)})),Object(j["onUnmounted"])((function(){n.value&&h.unobserve(n.value)}));var y=function(){o.value&&n.value&&(t=o.value.getContext("2d"),t&&(o.value.width=n.value.clientWidth,o.value.height=n.value.clientHeight,t.lineCap="round",t.lineJoin="round"))};Object(j["onMounted"])(y);var g=function(){t&&("mark"===e.model?(t.globalCompositeOperation="xor",t.globalAlpha=.5):"pen"===e.model&&(t.globalCompositeOperation="source-over",t.globalAlpha=1))};Object(j["watch"])((function(){return e.model}),g);var x=function(n,o,c){if(t){var l=r.x,a=r.y;t.lineWidth=c,t.strokeStyle=e.color,t.beginPath(),t.moveTo(l,a),t.lineTo(n,o),t.stroke(),t.closePath()}},C=function(e,n){var c,a,i,u;if(t&&o.value){var d=r.x,s=r.y,f=l.value/2,b=f*Math.sin(Math.atan((n-s)/(e-d))),m=f*Math.cos(Math.atan((n-s)/(e-d))),p=[d+b,s-m],v=[d-b,s+m],O=[e+b,n-m],h=[e-b,n+m];t.save(),t.beginPath(),t.arc(e,n,f,0,2*Math.PI),t.clip(),t.clearRect(0,0,o.value.width,o.value.height),t.restore(),t.save(),t.beginPath(),(c=t).moveTo.apply(c,p),(a=t).lineTo.apply(a,O),(i=t).lineTo.apply(i,h),(u=t).lineTo.apply(u,v),t.closePath(),t.clip(),t.clearRect(0,0,o.value.width,o.value.height),t.restore()}},k=function(e,t){var n=r.x,o=r.y;return Math.sqrt((e-n)*(e-n)+(t-o)*(t-o))},E=function(e,t){var n,o=10,l=.1,a=c.value,r=3,i=e/t;return n=i<=l?a:i>=o?r:a-i/o*a,-1===d?n:1*n/3+2*d/3},w=function(t,n){var o=(new Date).getTime();if("pen"===e.model){var c=k(t,n),l=o-u,i=E(c,l);x(t,n,i),d=i}else"mark"===e.model?x(t,n,a.value):C(t,n);r={x:t,y:n},u=(new Date).getTime()},N=function(e){if(!o.value)return[0,0];var t=e instanceof MouseEvent?e:e.changedTouches[0],n=o.value.getBoundingClientRect(),c=t.pageX-n.x,l=t.pageY-n.y;return[c,l]},V=function(e){var t=N(e),n=Object(ve["a"])(t,2),o=n[0],c=n[1],l=o/p.value,a=c/v.value;i=!0,r={x:l,y:a},u=(new Date).getTime(),e instanceof MouseEvent||(s.value={x:o,y:c},f.value=!0)},I=function(e){var t=N(e),n=Object(ve["a"])(t,2),o=n[0],c=n[1],l=o/p.value,a=c/v.value;s.value={x:o,y:c},i&&w(l,a)},S=function(){i&&(i=!1)},B=function(){t&&o.value&&t.clearRect(0,0,o.value.width,o.value.height)},L=function(){var e;return null===(e=o.value)||void 0===e?void 0:e.toDataURL()},T=function(e){var n=new Image;n.src=e,n.onload=function(){t&&t.drawImage(n,0,0)}},_=Object(ne["throttle"])((function(t){"eraser"===e.model&&(t.deltaY<0&&l.value<200?l.value+=20:t.deltaY>0&&l.value>20&&(l.value-=20)),"pen"===e.model&&(t.deltaY<0&&c.value<10?c.value+=2:t.deltaY>0&&c.value>4&&(c.value-=2)),"mark"===e.model&&(t.deltaY<0&&a.value<40?a.value+=4:t.deltaY>0&&a.value>16&&(a.value-=4))}),300,{leading:!0,trailing:!1});return{mouse:s,mouseInCanvas:f,penSize:c,rubberSize:l,markSize:a,writingBoardRef:n,canvasRef:o,canvasWidth:b,canvasHeight:m,handleMousedown:V,handleMousemove:I,handleMouseup:S,clearCanvas:B,getImageDataURL:L,setImageDataURL:T,mousewheelListener:_}}});n("c6ae");const FE=eo()(AE,[["render",zE],["__scopeId","data-v-9ac1670a"]]);var RE=FE,PE=["#000000","#ffffff","#1e497b","#4e81bb","#e2534d","#9aba60","#8165a0","#47acc5","#f9974c","#ffff3a"],HE=Object(j["defineComponent"])({name:"writing-board-tool",emits:["close"],components:{WritingBoard:RE},props:{slideWidth:{type:Number,required:!0},slideHeight:{type:Number,required:!0},position:{type:Object,default:function(){return{right:"5px",bottom:"5px"}}}},setup:function(e,t){var n=t.emit,o=Object(j["ref"])(),c=Object(j["ref"])("#e2534d"),l=Object(j["ref"])("pen"),a=Object(j["ref"])(!1),r=function(e){l.value=e},i=function(){o.value.clearCanvas()},u=function(e){"eraser"===l.value&&(l.value="pen"),c.value=e},d=function(){n("close")};return{writingBoardRef:o,writingBoardColors:PE,writingBoardColor:c,writingBoardModel:l,blackboard:a,changeModel:r,clearCanvas:i,changeColor:u,closeWritingBoard:d}}});n("beeb");const qE=eo()(HE,[["render",_E],["__scopeId","data-v-19b10edd"]]);var UE=qE,WE=Object(j["defineComponent"])({name:"screen",components:{ScreenSlideList:xE,SlideThumbnails:SE,WritingBoardTool:UE},props:{changeViewMode:{type:Function,required:!0}},setup:function(e){var t=Object(y["c"])(ae()),n=t.slides,o=t.slideIndex,c=Gk(),l=c.autoPlayTimer,a=c.autoPlay,r=c.closeAutoPlay,i=c.mousewheelListener,u=c.touchStartListener,d=c.touchEndListener,s=c.turnPrevSlide,f=c.turnNextSlide,b=c.turnSlideToIndex,m=c.turnSlideToId,p=c.execPrev,v=c.execNext,O=c.animationIndex,h=Xk(),g=h.slideWidth,x=h.slideHeight,C=Et(),k=C.exitScreening,E=Yk(),w=E.fullscreenState,N=E.manualExitFullscreen,V=Object(j["ref"])(!1),I=Object(j["ref"])(!1),S=Object(j["ref"])(!1),B=Object(j["ref"])(!1),L=function(){return[{text:"上一页",subText:"↑ ←",disable:o.value<=0,handler:function(){return s()}},{text:"下一页",subText:"↓ →",disable:o.value>=n.value.length-1,handler:function(){return f()}},{text:"第一页",disable:0===o.value,handler:function(){return b(0)}},{text:"最后一页",disable:o.value===n.value.length-1,handler:function(){return b(n.value.length-1)}},{divider:!0},{text:"显示工具栏",handler:function(){return V.value=!0}},{text:"查看所有幻灯片",handler:function(){return S.value=!0}},{text:"画笔工具",handler:function(){return I.value=!0}},{text:"演讲者视图",handler:function(){return e.changeViewMode("presenter")}},{divider:!0},{text:l.value?"取消自动放映":"自动放映",handler:l.value?r:a},{text:"结束放映",subText:"ESC",handler:k}]};return{slides:n,slideIndex:o,slideWidth:g,slideHeight:x,mousewheelListener:i,touchStartListener:u,touchEndListener:d,animationIndex:O,contextmenus:L,execPrev:p,execNext:v,turnSlideToIndex:b,turnSlideToId:m,slideThumbnailModelVisible:S,writingBoardToolVisible:I,rightToolsVisible:V,fullscreenState:w,exitScreening:k,enterFullscreen:xt,manualExitFullscreen:N,laserPen:B}}});n("4236");const GE=eo()(WE,[["render",Wk],["__scopeId","data-v-54670d0c"]]);var XE=GE,YE=function(e){return Object(j["pushScopeId"])("data-v-ce50b150"),e=e(),Object(j["popScopeId"])(),e},ZE={class:"presenter-view"},JE={class:"toolbar"},KE=YE((function(){return Object(j["createElementVNode"])("span",null,"普通视图",-1)})),QE=YE((function(){return Object(j["createElementVNode"])("span",null,"画笔",-1)})),$E=YE((function(){return Object(j["createElementVNode"])("span",null,"激光笔",-1)})),ew=YE((function(){return Object(j["createElementVNode"])("span",null,"结束放映",-1)})),tw={class:"content"},nw=["onClick"],ow={class:"remark"},cw={class:"header"},lw=YE((function(){return Object(j["createElementVNode"])("span",null,"演讲者备注",-1)})),aw=["innerHTML"],rw={class:"remark-scale"};function iw(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconListView"),r=Object(j["resolveComponent"])("IconWrite"),i=Object(j["resolveComponent"])("IconMagic"),u=Object(j["resolveComponent"])("IconOffScreenOne"),d=Object(j["resolveComponent"])("Divider"),s=Object(j["resolveComponent"])("IconPower"),f=Object(j["resolveComponent"])("ScreenSlideList"),b=Object(j["resolveComponent"])("WritingBoardTool"),m=Object(j["resolveComponent"])("ThumbnailSlide"),p=Object(j["resolveComponent"])("IconMinus"),v=Object(j["resolveComponent"])("IconPlus"),O=Object(j["resolveDirective"])("contextmenu");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",ZE,[Object(j["createElementVNode"])("div",JE,[Object(j["createElementVNode"])("div",{class:"tool-btn",onClick:t[0]||(t[0]=function(t){return e.changeViewMode("base")})},[Object(j["createVNode"])(a,{class:"tool-icon"}),KE]),Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["tool-btn",{active:e.writingBoardToolVisible}]),onClick:t[1]||(t[1]=function(t){return e.writingBoardToolVisible=!e.writingBoardToolVisible})},[Object(j["createVNode"])(r,{class:"tool-icon"}),QE],2),Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["tool-btn",{active:e.laserPen}]),onClick:t[2]||(t[2]=function(t){return e.laserPen=!e.laserPen})},[Object(j["createVNode"])(i,{class:"tool-icon"}),$E],2),Object(j["createElementVNode"])("div",{class:"tool-btn",onClick:t[3]||(t[3]=function(){return e.fullscreenState?e.manualExitFullscreen():e.enterFullscreen()})},[e.fullscreenState?(Object(j["openBlock"])(),Object(j["createBlock"])(u,{key:0,class:"tool-icon"})):(Object(j["openBlock"])(),Object(j["createBlock"])(u,{key:1,class:"tool-icon"})),Object(j["createElementVNode"])("span",null,Object(j["toDisplayString"])(e.fullscreenState?"退出全屏":"全屏"),1)]),Object(j["createVNode"])(d,{class:"divider"}),Object(j["createElementVNode"])("div",{class:"tool-btn",onClick:t[4]||(t[4]=function(t){return e.exitScreening()})},[Object(j["createVNode"])(s,{class:"tool-icon"}),ew])]),Object(j["createElementVNode"])("div",tw,[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["slide-list-wrap",{"laser-pen":e.laserPen}]),ref:"slideListWrapRef"},[Object(j["withDirectives"])(Object(j["createVNode"])(f,{slideWidth:e.slideWidth,slideHeight:e.slideHeight,animationIndex:e.animationIndex,turnSlideToId:e.turnSlideToId,manualExitFullscreen:e.manualExitFullscreen,onWheel:t[5]||(t[5]=function(t){return e.mousewheelListener(t)}),onTouchstart:t[6]||(t[6]=function(t){return e.touchStartListener(t)}),onTouchend:t[7]||(t[7]=function(t){return e.touchEndListener(t)})},null,8,["slideWidth","slideHeight","animationIndex","turnSlideToId","manualExitFullscreen"]),[[O,e.contextmenus]]),e.writingBoardToolVisible?(Object(j["openBlock"])(),Object(j["createBlock"])(b,{key:0,slideWidth:e.slideWidth,slideHeight:e.slideHeight,position:{left:"75px",top:"5px"},onClose:t[8]||(t[8]=function(t){return e.writingBoardToolVisible=!1})},null,8,["slideWidth","slideHeight"])):Object(j["createCommentVNode"])("",!0)],2),Object(j["createElementVNode"])("div",{class:"thumbnails",ref:"thumbnailsRef",onWheel:t[9]||(t[9]=Object(j["withModifiers"])((function(t){return e.handleMousewheelThumbnails(t)}),["prevent"]))},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.slides,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["thumbnail",{active:n===e.slideIndex}]),key:t.id,onClick:function(t){return e.turnSlideToIndex(n)}},[Object(j["createVNode"])(m,{slide:t,size:120/e.viewportRatio,visible:n<e.slidesLoadLimit},null,8,["slide","size","visible"])],10,nw)})),128))],544)]),Object(j["createElementVNode"])("div",ow,[Object(j["createElementVNode"])("div",cw,[lw,Object(j["createElementVNode"])("span",null,"P "+Object(j["toDisplayString"])(e.slideIndex+1)+" / "+Object(j["toDisplayString"])(e.slides.length),1)]),Object(j["createElementVNode"])("div",{class:"remark-content",style:Object(j["normalizeStyle"])({fontSize:e.remarkFontSize+"px"}),innerHTML:e.currentSlideRemark},null,12,aw),Object(j["createElementVNode"])("div",rw,[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["scale-btn",{disable:12===e.remarkFontSize}]),onClick:t[10]||(t[10]=function(t){return e.setRemarkFontSize(e.remarkFontSize-2)})},[Object(j["createVNode"])(p)],2),Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["scale-btn",{disable:40===e.remarkFontSize}]),onClick:t[11]||(t[11]=function(t){return e.setRemarkFontSize(e.remarkFontSize+2)})},[Object(j["createVNode"])(v)],2)])])])}var uw=Object(j["defineComponent"])({name:"presenter-view",components:{ScreenSlideList:xE,ThumbnailSlide:ks,WritingBoardTool:UE},props:{changeViewMode:{type:Function,required:!0}},setup:function(e){var t=Object(y["c"])(ae()),n=t.slides,o=t.slideIndex,c=t.viewportRatio,l=t.currentSlide,a=Object(j["ref"])(),r=Object(j["ref"])(),i=Object(j["ref"])(!1),u=Object(j["ref"])(!1),d=Gk(),s=d.mousewheelListener,f=d.touchStartListener,b=d.touchEndListener,m=d.turnPrevSlide,p=d.turnNextSlide,v=d.turnSlideToIndex,O=d.turnSlideToId,h=d.animationIndex,g=Xk(a),x=g.slideWidth,C=g.slideHeight,k=Et(),E=k.exitScreening,w=Rb(),N=w.slidesLoadLimit,V=Yk(),I=V.fullscreenState,S=V.manualExitFullscreen,B=Object(j["ref"])(16),L=Object(j["computed"])((function(){return ot(l.value.remark||"无备注")})),T=function(e){r.value&&r.value.scrollBy(e.deltaY,0)},_=function(e){e<12||e>40||(B.value=e)};Object(j["watch"])(o,(function(){Object(j["nextTick"])((function(){if(r.value){var e=r.value.querySelector(".thumbnail.active");if(e){var t=r.value.offsetWidth,n=e.offsetLeft;r.value.scrollTo({left:n-t/2,behavior:"smooth"})}}}))}));var M=function(){return[{text:"上一页",subText:"↑ ←",disable:o.value<=0,handler:function(){return m()}},{text:"下一页",subText:"↓ →",disable:o.value>=n.value.length-1,handler:function(){return p()}},{text:"第一页",disable:0===o.value,handler:function(){return v(0)}},{text:"最后一页",disable:o.value===n.value.length-1,handler:function(){return v(n.value.length-1)}},{divider:!0},{text:"画笔工具",handler:function(){return i.value=!0}},{text:"普通视图",handler:function(){return e.changeViewMode("base")}},{divider:!0},{text:"结束放映",subText:"ESC",handler:E}]};return{slides:n,slideIndex:o,viewportRatio:c,remarkFontSize:B,currentSlideRemark:L,setRemarkFontSize:_,slideListWrapRef:a,thumbnailsRef:r,slideWidth:x,slideHeight:C,animationIndex:h,turnSlideToId:O,mousewheelListener:s,touchStartListener:f,touchEndListener:b,turnSlideToIndex:v,contextmenus:M,slidesLoadLimit:N,handleMousewheelThumbnails:T,exitScreening:E,fullscreenState:I,enterFullscreen:xt,manualExitFullscreen:S,writingBoardToolVisible:i,laserPen:u}}});n("f146");const dw=eo()(uw,[["render",iw],["__scopeId","data-v-ce50b150"]]);var sw=dw,fw=Object(j["defineComponent"])({name:"pptist-screen",components:{BaseView:XE,PresenterView:sw},setup:function(){var e=Object(j["ref"])("base"),t=function(t){e.value=t},n=Et(),o=n.exitScreening,c=function(e){var t=e.key.toUpperCase();t===I.ESC&&o()};return Object(j["onMounted"])((function(){return document.addEventListener("keydown",c)})),Object(j["onUnmounted"])((function(){return document.removeEventListener("keydown",c)})),{viewMode:e,changeViewMode:t}}});n("953f");const bw=eo()(fw,[["render",Hk],["__scopeId","data-v-18f794c8"]]);var mw=bw,pw={class:"mobile"};function vw(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",pw,[(Object(j["openBlock"])(),Object(j["createBlock"])(Object(j["resolveDynamicComponent"])(e.currentComponent),{changeMode:e.changeMode},null,8,["changeMode"]))])}var Ow={class:"mobile-editor"};function hw(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("Header"),r=Object(j["resolveComponent"])("AlignmentLine"),i=Object(j["resolveComponent"])("MobileOperate"),u=Object(j["resolveComponent"])("MobileEditableElement"),d=Object(j["resolveComponent"])("SlideToolbar"),s=Object(j["resolveComponent"])("ElementToolbar");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Ow,[Object(j["createVNode"])(a,{changeMode:e.changeMode},null,8,["changeMode"]),Object(j["createElementVNode"])("div",{class:"content",ref:"contentRef",onTouchstart:t[0]||(t[0]=function(t){return e.handleClickBlankArea()})},[Object(j["createElementVNode"])("div",{class:"viewport-wrapper",style:Object(j["normalizeStyle"])(e.viewportStyles)},[Object(j["createElementVNode"])("div",{class:"background",style:Object(j["normalizeStyle"])(e.backgroundStyle)},null,4),(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.alignmentLines,(function(t,n){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{key:n,type:t.type,axis:t.axis,length:t.length,canvasScale:e.canvasScale},null,8,["type","axis","length","canvasScale"])})),128)),(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.elementList,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:t.id},["line"!==t.type?(Object(j["openBlock"])(),Object(j["createBlock"])(i,{key:0,elementInfo:t,isSelected:e.activeElementIdList.includes(t.id),canvasScale:e.canvasScale,scaleElement:e.scaleElement},null,8,["elementInfo","isSelected","canvasScale","scaleElement"])):Object(j["createCommentVNode"])("",!0)],64)})),128)),Object(j["createElementVNode"])("div",{class:"viewport",style:Object(j["normalizeStyle"])({transform:"scale(".concat(e.canvasScale,")")})},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.elementList,(function(t,n){return Object(j["openBlock"])(),Object(j["createBlock"])(u,{key:t.id,elementInfo:t,elementIndex:n+1,selectElement:e.selectElement},null,8,["elementInfo","elementIndex","selectElement"])})),128))],4)],4)],544),Object(j["createVNode"])(d),e.handleElement?(Object(j["openBlock"])(),Object(j["createBlock"])(s,{key:0})):Object(j["createCommentVNode"])("",!0)])}function jw(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"mobile-editable-element",style:Object(j["normalizeStyle"])({zIndex:e.elementIndex})},[(Object(j["openBlock"])(),Object(j["createBlock"])(Object(j["resolveDynamicComponent"])(e.currentElementComponent),{elementInfo:e.elementInfo,selectElement:e.selectElement,contextmenus:function(){return null}},null,8,["elementInfo","selectElement","contextmenus"]))],4)}var yw=Object(j["defineComponent"])({name:"mobile-editable-element",props:{elementInfo:{type:Object,required:!0},elementIndex:{type:Number,required:!0},selectElement:{type:Function,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){var t,n=(t={},Object(pe["a"])(t,Te.IMAGE,kc),Object(pe["a"])(t,Te.TEXT,Dl),Object(pe["a"])(t,Te.SHAPE,ea),Object(pe["a"])(t,Te.LINE,pa),Object(pe["a"])(t,Te.CHART,Ea),Object(pe["a"])(t,Te.TABLE,Ya),Object(pe["a"])(t,Te.LATEX,tr),Object(pe["a"])(t,Te.VIDEO,zr),Object(pe["a"])(t,Te.AUDIO,di),t);return n[e.elementInfo.type]||null}));return{currentElementComponent:t}}});const gw=eo()(yw,[["render",jw]]);var xw=gw;function Cw(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("BorderLine"),r=Object(j["resolveComponent"])("ResizeHandler");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"mobile-operate",style:Object(j["normalizeStyle"])({top:e.elementInfo.top*e.canvasScale+"px",left:e.elementInfo.left*e.canvasScale+"px",transform:"rotate(".concat(e.rotate,"deg)"),transformOrigin:"".concat(e.elementInfo.width*e.canvasScale/2,"px ").concat(e.elementInfo.height*e.canvasScale/2,"px")})},[e.isSelected?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.borderLines,(function(e){return Object(j["openBlock"])(),Object(j["createBlock"])(a,{class:"operate-border-line",key:e.type,type:e.type,style:Object(j["normalizeStyle"])(e.style)},null,8,["type","style"])})),128)),(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.resizeHandlers,(function(t){return Object(j["openBlock"])(),Object(j["createBlock"])(r,{class:"operate-resize-handler",key:t.direction,type:t.direction,rotate:e.elementInfo.rotate,style:Object(j["normalizeStyle"])(t.style),onTouchstart:Object(j["withModifiers"])((function(n){return e.scaleElement(n,e.elementInfo,t.direction)}),["stop"])},null,8,["type","rotate","style","onTouchstart"])})),128))],64)):Object(j["createCommentVNode"])("",!0)],4)}var kw=Object(j["defineComponent"])({name:"mobile-operate",components:{BorderLine:$i,ResizeHandler:Zi},props:{elementInfo:{type:Object,required:!0},isSelected:{type:Boolean,required:!0},canvasScale:{type:Number,required:!0},scaleElement:{type:Function,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){return"rotate"in e.elementInfo?e.elementInfo.rotate:0})),n=Object(j["computed"])((function(){return e.elementInfo.width*e.canvasScale})),o=Object(j["computed"])((function(){return e.elementInfo.height*e.canvasScale})),c=Wi(n,o),l=c.borderLines,a=c.resizeHandlers,r=c.textElementResizeHandlers;return{rotate:t,borderLines:l,resizeHandlers:"text"===e.elementInfo.type||"table"===e.elementInfo.type?r:a}}});n("f212");const Ew=eo()(kw,[["render",Cw],["__scopeId","data-v-10f40a30"]]);var ww=Ew,Nw={class:"slide-toolbar"},Vw={class:"remark"},Iw=["value"],Sw={class:"toolbar"},Bw=Object(j["createTextVNode"])(" 新幻灯片"),Lw=Object(j["createTextVNode"])(" 复制"),Tw=Object(j["createTextVNode"])(" 删除"),_w=Object(j["createTextVNode"])(" 文字"),Mw=Object(j["createTextVNode"])(" 图片"),Dw=Object(j["createTextVNode"])(" 矩形"),zw=Object(j["createTextVNode"])(" 圆形");function Aw(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconPlus"),r=Object(j["resolveComponent"])("Button"),i=Object(j["resolveComponent"])("IconCopy"),u=Object(j["resolveComponent"])("IconDelete"),d=Object(j["resolveComponent"])("ButtonGroup"),s=Object(j["resolveComponent"])("IconFontSize"),f=Object(j["resolveComponent"])("IconPicture"),b=Object(j["resolveComponent"])("FileInput"),m=Object(j["resolveComponent"])("IconSquare"),p=Object(j["resolveComponent"])("IconRound"),v=Object(j["resolveComponent"])("MobileThumbnails");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Nw,[Object(j["createElementVNode"])("div",Vw,[Object(j["createElementVNode"])("textarea",{value:e.remark,placeholder:"点击输入演讲者备注",onInput:t[0]||(t[0]=function(t){return e.handleInputMark(t)})},null,40,Iw)]),Object(j["createElementVNode"])("div",Sw,[Object(j["createVNode"])(d,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[1]||(t[1]=function(t){return e.createSlide()})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(a,{class:"icon"}),Bw]})),_:1}),Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[2]||(t[2]=function(t){return e.copyAndPasteSlide()})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i,{class:"icon"}),Lw]})),_:1}),Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[3]||(t[3]=function(t){return e.deleteSlide()})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u,{class:"icon"}),Tw]})),_:1})]})),_:1}),Object(j["createVNode"])(d,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[4]||(t[4]=function(t){return e.insertTextElement()})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(s,{class:"icon"}),_w]})),_:1}),Object(j["createVNode"])(b,{onChange:t[5]||(t[5]=function(t){return e.insertImageElement(t)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f,{class:"icon"}),Mw]})),_:1})]})),_:1}),Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[6]||(t[6]=function(t){return e.insertShapeElement("square")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(m,{class:"icon"}),Dw]})),_:1}),Object(j["createVNode"])(r,{style:{flex:"1"},onClick:t[7]||(t[7]=function(t){return e.insertShapeElement("round")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(p,{class:"icon"}),zw]})),_:1})]})),_:1})]),Object(j["createVNode"])(v)])}var Fw={class:"mobile-thumbnails"},Rw=["onClick"],Pw={class:"label"};function Hw(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("ThumbnailSlide");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Fw,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.slides,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["thumbnail-item",{active:e.slideIndex===n}]),key:t.id,onClick:function(t){return e.changeSlideIndex(n)}},[Object(j["createElementVNode"])("div",Pw,Object(j["toDisplayString"])(n+1),1),Object(j["createVNode"])(a,{class:"thumbnail",slide:t,size:120,visible:n<e.slidesLoadLimit},null,8,["slide","visible"])],10,Rw)})),128))])}var qw=Object(j["defineComponent"])({name:"mobile-thumbnails",components:{ThumbnailSlide:ks},setup:function(){var e=ae(),t=Object(y["c"])(e),n=t.slides,o=t.slideIndex,c=Rb(),l=c.slidesLoadLimit,a=function(t){e.updateSlideIndex(t)};return{slides:n,slideIndex:o,slidesLoadLimit:l,changeSlideIndex:a}}});n("549f");const Uw=eo()(qw,[["render",Hw],["__scopeId","data-v-0b484044"]]);var Ww=Uw,Gw=Object(j["defineComponent"])({name:"slide-toolbar",components:{MobileThumbnails:Ww},setup:function(){var e=ae(),t=Object(y["c"])(e),n=t.viewportRatio,o=t.currentSlide,c=mt(),l=c.createSlide,a=c.copyAndPasteSlide,r=c.deleteSlide,i=st(),u=i.createTextElement,d=i.createImageElement,s=i.createShapeElement,f=function(){var e=400,t=56;u({left:(at-e)/2,top:(at*n.value-t)/2,width:e,height:t},'<p><span style="font-size: 24px">新添加文本</span></p>')},b=function(e){e&&e[0]&&lt(e[0]).then((function(e){return d(e)}))},m=function(e){var t={viewBox:[200,200],path:"M 0 0 L 200 0 L 200 200 L 0 200 Z"},o={viewBox:[200,200],path:"M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z"},c={square:t,round:o},l=200;s({left:(at-l)/2,top:(at*n.value-l)/2,width:l,height:l},c[e])},p=Object(j["computed"])((function(){var e;return(null===(e=o.value)||void 0===e?void 0:e.remark)||""})),v=function(t){var n=t.target.value;e.updateSlide({remark:n})};return{remark:p,createSlide:l,copyAndPasteSlide:a,deleteSlide:r,insertTextElement:f,insertImageElement:b,insertShapeElement:m,handleInputMark:v}}});n("02f8");const Xw=eo()(Gw,[["render",Aw],["__scopeId","data-v-6cdd5030"]]);var Yw=Xw,Zw=function(e){return Object(j["pushScopeId"])("data-v-6d0f1c7d"),e=e(),Object(j["popScopeId"])(),e},Jw={class:"element-toolbar"},Kw={class:"tabs"},Qw=["onClick"],$w={class:"content"},eN={key:0,class:"style"},tN=Object(j["createTextVNode"])("+"),nN=Object(j["createTextVNode"])("-"),oN={class:"row-block"},cN=Zw((function(){return Object(j["createElementVNode"])("div",{class:"label"},"文字颜色：",-1)})),lN={class:"colors"},aN=["onClick"],rN={class:"row-block"},iN=Zw((function(){return Object(j["createElementVNode"])("div",{class:"label"},"填充色：",-1)})),uN={class:"colors"},dN=["onClick"],sN={key:1,class:"common"},fN=Object(j["createTextVNode"])(" 复制"),bN=Object(j["createTextVNode"])(" 删除"),mN=Object(j["createTextVNode"])(" 置顶"),pN=Object(j["createTextVNode"])(" 置底"),vN=Object(j["createTextVNode"])(" 上移"),ON=Object(j["createTextVNode"])(" 下移"),hN=Object(j["createTextVNode"])(" 左对齐"),jN=Object(j["createTextVNode"])(" 水平居中"),yN=Object(j["createTextVNode"])(" 右对齐"),gN=Object(j["createTextVNode"])(" 上对齐"),xN=Object(j["createTextVNode"])(" 垂直居中"),CN=Object(j["createTextVNode"])(" 下对齐");function kN(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconTextBold"),r=Object(j["resolveComponent"])("CheckboxButton"),i=Object(j["resolveComponent"])("IconTextItalic"),u=Object(j["resolveComponent"])("IconTextUnderline"),d=Object(j["resolveComponent"])("IconStrikethrough"),s=Object(j["resolveComponent"])("CheckboxButtonGroup"),f=Object(j["resolveComponent"])("IconFontSize"),b=Object(j["resolveComponent"])("Button"),m=Object(j["resolveComponent"])("ButtonGroup"),p=Object(j["resolveComponent"])("Divider"),v=Object(j["resolveComponent"])("IconAlignTextLeft"),O=Object(j["resolveComponent"])("RadioButton"),h=Object(j["resolveComponent"])("IconAlignTextCenter"),y=Object(j["resolveComponent"])("IconAlignTextRight"),g=Object(j["resolveComponent"])("RadioGroup"),x=Object(j["resolveComponent"])("IconCopy"),C=Object(j["resolveComponent"])("IconDelete"),k=Object(j["resolveComponent"])("IconSendToBack"),E=Object(j["resolveComponent"])("IconBringToFrontOne"),w=Object(j["resolveComponent"])("IconBringToFront"),N=Object(j["resolveComponent"])("IconSentToBack"),V=Object(j["resolveComponent"])("IconAlignLeft"),I=Object(j["resolveComponent"])("IconAlignVertically"),S=Object(j["resolveComponent"])("IconAlignRight"),B=Object(j["resolveComponent"])("IconAlignTop"),L=Object(j["resolveComponent"])("IconAlignHorizontally"),T=Object(j["resolveComponent"])("IconAlignBottom");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",Jw,[Object(j["createElementVNode"])("div",Kw,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.tabs,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["tab",{active:e.activeTab===t.key}]),key:t.key,onClick:function(n){return e.activeTab=t.key}},Object(j["toDisplayString"])(t.label),11,Qw)})),128))]),Object(j["createElementVNode"])("div",$w,["style"===e.activeTab?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",eN,[Object(j["createVNode"])(s,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(r,{style:{flex:"1"},checked:e.richTextAttrs.bold,onClick:t[0]||(t[0]=function(t){return e.emitRichTextCommand("bold")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(a)]})),_:1},8,["checked"]),Object(j["createVNode"])(r,{style:{flex:"1"},checked:e.richTextAttrs.em,onClick:t[1]||(t[1]=function(t){return e.emitRichTextCommand("em")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(i)]})),_:1},8,["checked"]),Object(j["createVNode"])(r,{style:{flex:"1"},checked:e.richTextAttrs.underline,onClick:t[2]||(t[2]=function(t){return e.emitRichTextCommand("underline")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(u)]})),_:1},8,["checked"]),Object(j["createVNode"])(r,{style:{flex:"1"},checked:e.richTextAttrs.strikethrough,onClick:t[3]||(t[3]=function(t){return e.emitRichTextCommand("strikethrough")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(d)]})),_:1},8,["checked"])]})),_:1}),Object(j["createVNode"])(m,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b,{style:{flex:"2"},onClick:t[4]||(t[4]=function(t){return e.emitRichTextCommand("fontsize-add")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f),tN]})),_:1}),Object(j["createVNode"])(b,{style:{flex:"2"},onClick:t[5]||(t[5]=function(t){return e.emitRichTextCommand("fontsize-reduce")})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(f),nN]})),_:1})]})),_:1}),Object(j["createVNode"])(p,{style:{margin:"20px 0"}}),Object(j["createVNode"])(g,{class:"row","button-style":"solid",value:e.richTextAttrs.align,onChange:t[6]||(t[6]=function(t){return e.emitRichTextCommand("align",t.target.value)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(O,{value:"left",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(v)]})),_:1}),Object(j["createVNode"])(O,{value:"center",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(h)]})),_:1}),Object(j["createVNode"])(O,{value:"right",style:{flex:"1"}},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(y)]})),_:1})]})),_:1},8,["value"]),Object(j["createVNode"])(p,{style:{margin:"20px 0"}}),Object(j["createElementVNode"])("div",oN,[cN,Object(j["createElementVNode"])("div",lN,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.colors,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"color",key:t,onClick:function(n){return e.updateFontColor(t)}},[Object(j["createElementVNode"])("div",{class:"color-block",style:Object(j["normalizeStyle"])({backgroundColor:t})},null,4)],8,aN)})),128))])]),Object(j["createElementVNode"])("div",rN,[iN,Object(j["createElementVNode"])("div",uN,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.colors,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"color",key:t,onClick:function(n){return e.updateFill(t)}},[Object(j["createElementVNode"])("div",{class:"color-block",style:Object(j["normalizeStyle"])({backgroundColor:t})},null,4)],8,dN)})),128))])])])):Object(j["createCommentVNode"])("",!0),"common"===e.activeTab?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",sN,[Object(j["createVNode"])(m,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b,{style:{flex:"1"},onClick:t[7]||(t[7]=function(t){return e.copyElement()})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(x,{class:"icon"}),fN]})),_:1}),Object(j["createVNode"])(b,{style:{flex:"1"},onClick:t[8]||(t[8]=function(t){return e.deleteElement()})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(C,{class:"icon"}),bN]})),_:1})]})),_:1}),Object(j["createVNode"])(p,{style:{margin:"20px 0"}}),Object(j["createVNode"])(m,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b,{style:{flex:"1"},onClick:t[9]||(t[9]=function(t){return e.orderElement(e.handleElement,e.ElementOrderCommands.TOP)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(k,{class:"icon"}),mN]})),_:1}),Object(j["createVNode"])(b,{style:{flex:"1"},onClick:t[10]||(t[10]=function(t){return e.orderElement(e.handleElement,e.ElementOrderCommands.BOTTOM)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(E,{class:"icon"}),pN]})),_:1}),Object(j["createVNode"])(b,{style:{flex:"1"},onClick:t[11]||(t[11]=function(t){return e.orderElement(e.handleElement,e.ElementOrderCommands.UP)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(w,{class:"icon"}),vN]})),_:1}),Object(j["createVNode"])(b,{style:{flex:"1"},onClick:t[12]||(t[12]=function(t){return e.orderElement(e.handleElement,e.ElementOrderCommands.DOWN)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(N,{class:"icon"}),ON]})),_:1})]})),_:1}),Object(j["createVNode"])(p,{style:{margin:"20px 0"}}),Object(j["createVNode"])(m,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b,{style:{flex:"1"},onClick:t[13]||(t[13]=function(t){return e.alignElementToCanvas(e.ElementAlignCommands.LEFT)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(V,{class:"icon"}),hN]})),_:1}),Object(j["createVNode"])(b,{style:{flex:"1"},onClick:t[14]||(t[14]=function(t){return e.alignElementToCanvas(e.ElementAlignCommands.HORIZONTAL)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(I,{class:"icon"}),jN]})),_:1}),Object(j["createVNode"])(b,{style:{flex:"1"},onClick:t[15]||(t[15]=function(t){return e.alignElementToCanvas(e.ElementAlignCommands.RIGHT)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(S,{class:"icon"}),yN]})),_:1})]})),_:1}),Object(j["createVNode"])(m,{class:"row"},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(b,{style:{flex:"1"},onClick:t[16]||(t[16]=function(t){return e.alignElementToCanvas(e.ElementAlignCommands.TOP)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(B,{class:"icon"}),gN]})),_:1}),Object(j["createVNode"])(b,{style:{flex:"1"},onClick:t[17]||(t[17]=function(t){return e.alignElementToCanvas(e.ElementAlignCommands.VERTICAL)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(L,{class:"icon"}),xN]})),_:1}),Object(j["createVNode"])(b,{style:{flex:"1"},onClick:t[18]||(t[18]=function(t){return e.alignElementToCanvas(e.ElementAlignCommands.BOTTOM)})},{default:Object(j["withCtx"])((function(){return[Object(j["createVNode"])(T,{class:"icon"}),CN]})),_:1})]})),_:1})])):Object(j["createCommentVNode"])("",!0)])])}var EN=["#000000","#ffffff","#eeece1","#1e497b","#4e81bb","#e2534d","#9aba60","#8165a0","#47acc5","#f9974c","#c21401","#ff1e02","#ffc12a","#ffff3a","#90cf5b","#00af57"],wN=Object(j["defineComponent"])({name:"element-toolbar",setup:function(){var e=ue(),t=ae(),n=Object(y["c"])(e),o=n.handleElement,c=n.handleElementId,l=n.richTextAttrs,a=dt(),r=a.addHistorySnapshot,i=function(e,n){t.updateElement({id:e,props:n}),r()},u=[{key:"style",label:"样式"},{key:"common",label:"布局"}],d=Object(j["ref"])("common"),s=gt(),f=s.orderElement,b=Io(),m=b.alignElementToCanvas,p=ft(),v=p.addElementsFromData,O=vt(),h=O.deleteElement,g=function(){var e=JSON.parse(JSON.stringify(o.value));v([e])},x=function(e,t){Cl.emit(zc.RICH_TEXT_COMMAND,{action:{command:e,value:t}})},C=function(e){var t;if(o.value){if(("text"===o.value.type||"shape"===o.value.type&&null!==(t=o.value.text)&&void 0!==t&&t.content)&&Cl.emit(zc.RICH_TEXT_COMMAND,{action:{command:"color",value:e}}),"table"===o.value.type){for(var n=JSON.parse(JSON.stringify(o.value.data)),l=0;l<n.length;l++)for(var a=0;a<n[l].length;a++){var r=n[l][a].style||{};n[l][a].style=Object(L["a"])(Object(L["a"])({},r),{},{color:e})}i(c.value,{data:n})}"latex"===o.value.type&&i(c.value,{color:e})}},w=function(e){if(o.value){if("text"!==o.value.type&&"shape"!==o.value.type&&"chart"!==o.value.type||i(c.value,{fill:e}),"table"===o.value.type){for(var t=JSON.parse(JSON.stringify(o.value.data)),n=0;n<t.length;n++)for(var l=0;l<t[n].length;l++){var a=t[n][l].style||{};t[n][l].style=Object(L["a"])(Object(L["a"])({},a),{},{backcolor:e})}i(c.value,{data:t})}"audio"===o.value.type&&i(c.value,{color:e})}};return{handleElement:o,tabs:u,activeTab:d,richTextAttrs:l,colors:EN,orderElement:f,alignElementToCanvas:m,copyElement:g,deleteElement:h,emitRichTextCommand:x,updateFontColor:C,updateFill:w,ElementOrderCommands:k,ElementAlignCommands:E}}});n("dad3");const NN=eo()(wN,[["render",kN],["__scopeId","data-v-6d0f1c7d"]]);var VN=NN,IN={class:"mobile-editor-header"},SN={class:"history"},BN=Object(j["createTextVNode"])(" 撤销"),LN=Object(j["createTextVNode"])(" 重做"),TN=Object(j["createTextVNode"])(" 退出编辑");function _N(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("IconBack"),r=Object(j["resolveComponent"])("IconNext"),i=Object(j["resolveComponent"])("IconLogout");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",IN,[Object(j["createElementVNode"])("div",SN,[Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["history-item",{disable:!e.canUndo}]),onClick:t[0]||(t[0]=Object(j["withModifiers"])((function(t){return e.undo()}),["stop"]))},[Object(j["createVNode"])(a),BN],2),Object(j["createElementVNode"])("div",{class:Object(j["normalizeClass"])(["history-item",{disable:!e.canRedo}]),onClick:t[1]||(t[1]=Object(j["withModifiers"])((function(t){return e.redo()}),["stop"]))},[Object(j["createVNode"])(r),LN],2)]),Object(j["createElementVNode"])("div",{class:"back",onClick:t[2]||(t[2]=function(t){return e.changeMode("preview")})},[Object(j["createVNode"])(i),TN])])}var MN=Object(j["defineComponent"])({name:"mobile-editor-header",props:{changeMode:{type:Function,required:!0}},setup:function(){var e=Object(y["c"])(Ce()),t=e.canUndo,n=e.canRedo,o=dt(),c=o.redo,l=o.undo;return{redo:c,undo:l,canUndo:t,canRedo:n}}});n("8919");const DN=eo()(MN,[["render",_N],["__scopeId","data-v-2c0b2c5e"]]);var zN=DN,AN=Object(j["defineComponent"])({name:"mobile-editor",components:{AlignmentLine:Li,MobileEditableElement:xw,MobileOperate:ww,SlideToolbar:Yw,ElementToolbar:VN,Header:zN},props:{changeMode:{type:Function,required:!0}},setup:function(){var e=ae(),t=ue(),n=Object(y["c"])(e),o=n.slideIndex,c=n.currentSlide,l=n.viewportRatio,a=Object(y["c"])(t),r=a.activeElementIdList,i=a.handleElement,u=Object(j["ref"])(),d=Object(j["ref"])([]),s=Object(j["computed"])((function(){return c.value.background})),f=Ei(s),b=f.backgroundStyle,m=Object(j["computed"])((function(){if(!u.value)return 1;var e=u.value.clientWidth,t=u.value.clientHeight,n=t/e;return n>=l.value?(e-20)/at:(t-20)/l.value/at}));Object(j["onMounted"])((function(){r.value.length&&t.setActiveElementIdList([]),0!==o.value&&e.updateSlideIndex(0)}));var p=Object(j["computed"])((function(){return{width:at*m.value+"px",height:at*l.value*m.value+"px"}})),v=Object(j["ref"])([]),O=function(){v.value=c.value?JSON.parse(JSON.stringify(c.value.elements)):[]};Object(j["watchEffect"])(O);var h=ko(v,d,m),g=h.dragElement,x=xo(v,d,m),C=x.scaleElement,k=function(e,n){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];r.value.includes(n.id)||(t.setActiveElementIdList([n.id]),t.setHandleElementId(n.id)),o&&g(e,n)},E=function(){t.setActiveElementIdList([])};return{contentRef:u,slideIndex:o,elementList:v,canvasScale:m,viewportStyles:p,backgroundStyle:b,activeElementIdList:r,alignmentLines:d,selectElement:k,handleClickBlankArea:E,scaleElement:C,handleElement:i}}});n("6baa");const FN=eo()(AN,[["render",hw],["__scopeId","data-v-f9ea6e88"]]);var RN=FN,PN={class:"header"},HN=Object(j["createTextVNode"])(" 退出播放");function qN(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("ThumbnailSlide"),r=Object(j["resolveComponent"])("IconLogout"),i=Object(j["resolveComponent"])("MobileThumbnails");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"mobile-player",style:Object(j["normalizeStyle"])({width:e.playerSize.width+"px",height:e.playerSize.height+"px",transform:"rotate(90deg) translateY(-".concat(e.playerSize.height,"px)")})},[Object(j["createElementVNode"])("div",{class:"screen-slide-list",onClick:t[0]||(t[0]=function(t){return e.toolVisible=!e.toolVisible}),onTouchstart:t[1]||(t[1]=function(t){return e.touchStartListener(t)}),onTouchend:t[2]||(t[2]=function(t){return e.touchEndListener(t)})},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.slides,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:Object(j["normalizeClass"])(["slide-item","turning-mode-".concat(t.turningMode||"slideY"),{current:n===e.slideIndex,before:n<e.slideIndex,after:n>e.slideIndex,hide:(n===e.slideIndex-1||n===e.slideIndex+1)&&t.turningMode!==e.currentSlide.turningMode}]),key:t.id},[Math.abs(e.slideIndex-n)<2?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:0,class:"slide-content",style:Object(j["normalizeStyle"])({width:e.slideSize.width+"px",height:e.slideSize.height+"px"})},[Object(j["createVNode"])(a,{slide:t,size:e.slideSize.width},null,8,["slide","size"])],4)):Object(j["createCommentVNode"])("",!0)],2)})),128))],32),e.toolVisible?(Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:0},[Object(j["createElementVNode"])("div",PN,[Object(j["createElementVNode"])("div",{class:"back",onClick:t[3]||(t[3]=function(t){return e.changeMode("preview")})},[Object(j["createVNode"])(r),HN])]),Object(j["createVNode"])(i,{class:"thumbnails"})],64)):Object(j["createCommentVNode"])("",!0)],4)}var UN=Object(j["defineComponent"])({name:"mobile-player",components:{ThumbnailSlide:ks,MobileThumbnails:Ww},props:{changeMode:{type:Function,required:!0}},setup:function(){var e=ae(),t=Object(y["c"])(e),n=t.slides,o=t.slideIndex,c=t.currentSlide,l=t.viewportRatio,a=Object(j["ref"])(!1),r=Object(j["ref"])({width:0,height:0});Object(j["onMounted"])((function(){0!==o.value&&e.updateSlideIndex(0),r.value={width:document.body.clientHeight,height:document.body.clientWidth}}));var i=Object(j["computed"])((function(){var e=r.value.height/r.value.width,t=0,n=0;return e>=l.value?(t=r.value.width,n=t*l.value):(n=r.value.height,t=n/l.value),{width:t,height:n}})),u=Object(j["ref"])(null),d=function(e){u.value={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}},s=function(t){if(u.value){var c=Math.abs(u.value.y-t.changedTouches[0].pageY),l=t.changedTouches[0].pageX-u.value.x;Math.abs(l)>c&&Math.abs(l)>50&&(u.value=null,l<0&&o.value>0&&e.updateSlideIndex(o.value-1),l>0&&o.value<n.value.length-1&&e.updateSlideIndex(o.value+1))}};return{slides:n,slideIndex:o,currentSlide:c,playerSize:r,slideSize:i,toolVisible:a,touchStartListener:d,touchEndListener:s}}});n("1622");const WN=eo()(UN,[["render",qN],["__scopeId","data-v-2845ccb6"]]);var GN=WN,XN={class:"mobile-preview",ref:"mobileRef"},YN={class:"thumbnail-list"},ZN={class:"menu"},JN=Object(j["createTextVNode"])(" 编辑"),KN=Object(j["createTextVNode"])(" 播放");function QN(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("ThumbnailSlide"),r=Object(j["resolveComponent"])("IconEdit"),i=Object(j["resolveComponent"])("Divider"),u=Object(j["resolveComponent"])("IconFullScreenPlay");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",XN,[Object(j["createElementVNode"])("div",YN,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.slides,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"thumbnail-item",key:t.id},[Object(j["createVNode"])(a,{slide:t,size:e.screenWidth-10,visible:n<e.slidesLoadLimit},null,8,["slide","size","visible"])])})),128))]),Object(j["createElementVNode"])("div",ZN,[Object(j["createElementVNode"])("div",{class:"menu-item",onClick:t[0]||(t[0]=function(t){return e.changeMode("editor")})},[Object(j["createVNode"])(r,{class:"icon"}),JN]),Object(j["createVNode"])(i,{type:"vertical",style:{height:"30px"}}),Object(j["createElementVNode"])("div",{class:"menu-item",onClick:t[1]||(t[1]=function(t){return e.changeMode("player")})},[Object(j["createVNode"])(u,{class:"icon"}),KN])])],512)}var $N=Object(j["defineComponent"])({name:"mobile-preview",components:{ThumbnailSlide:ks},props:{changeMode:{type:Function,required:!0}},setup:function(){var e=Object(y["c"])(ae()),t=e.slides,n=Rb(),o=n.slidesLoadLimit,c=Object(j["ref"])(),l=Object(j["ref"])(0);return Object(j["onMounted"])((function(){c.value&&(l.value=c.value.clientWidth)})),{slides:t,slidesLoadLimit:o,mobileRef:c,screenWidth:l}}});n("f8b7");const eV=eo()($N,[["render",QN],["__scopeId","data-v-04d332cb"]]);var tV=eV,nV=Object(j["defineComponent"])({name:"mobile",setup:function(){var e=Object(j["ref"])("preview"),t=function(t){return e.value=t},n=Object(j["computed"])((function(){var t={editor:RN,player:GN,preview:tV};return t[e.value]||null}));return{currentComponent:n,changeMode:t}}});n("4344");const oV=eo()(nV,[["render",vw],["__scopeId","data-v-efaecbfe"]]);var cV=oV,lV=Object(j["defineComponent"])({name:"app",components:{Editor:Rk,Screen:mw,Mobile:cV},setup:function(){var e=ue(),t=Ce(),n=Object(y["c"])(e),o=n.databaseId,c=Object(y["c"])(Ee()),l=c.screening;return window.onbeforeunload=function(){return!1},Object(j["onMounted"])((function(){t.initSnapshotDatabase(),e.setAvailableFonts()})),window.addEventListener("unload",(function(){var e=localStorage.getItem(he),t=e?JSON.parse(e):[];t.push(o.value);var n=JSON.stringify(t);localStorage.setItem(he,n)})),{screening:l,isPC:Ne()}}});n("0eae");const aV=eo()(lV,[["render",g]]);var rV=aV,iV=n("9483");Object(iV["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("793f"),n("41ed"),n("77ed"),n("5952"),n("c860"),n("ae3f"),n("8c56");var uV=n("3962"),dV=n("3bce"),sV=n("f59e"),fV=n("5a81"),bV=n("c24c"),mV=n("0cf2"),pV=n("4a33"),vV=n("b0d0"),OV=n("50f1"),hV=n("7833"),jV=n("f2e7"),yV=n("b9bc"),gV=n("7f4b"),xV=n("36da"),CV=n("cfe0"),kV=n("af8a"),EV=n("d887"),wV=n("b28e"),NV=n("f914"),VV=n("0e0a"),IV=n("f807"),SV=n("2e67"),BV=n("e792"),LV=n("e483"),TV=n("9312"),_V=n("84e7"),MV=n("500e"),DV=n("1e27"),zV=n("7312"),AV=n("8845"),FV=n("a3ef"),RV=n("8331"),PV=n("4040"),HV=n("f745"),qV=n("8377"),UV=n("246f"),WV=n("694b"),GV=n("e9ec"),XV=n("f1d2"),YV=n("ccc7"),ZV=n("e3b9"),JV=n("6010"),KV=n("7abc"),QV=n("f259"),$V=n("23fa"),eI=n("1b1c"),tI=n("fd52"),nI=n("bde2"),oI=n("5a28"),cI=n("c53e"),lI=n("e970"),aI=n("1646"),rI=n("40bb"),iI=n("f99d"),uI=n("f3c2"),dI=n("33a2"),sI=n("fdbcb"),fI=n("3a3e"),bI=n("d0c6"),mI=n("1fcb"),pI=n("dcc2"),vI=n("a5f1"),OI=n("ce42"),hI=n("fa00"),jI=n("0996"),yI=n("2c06"),gI=n("a5dc"),xI=n("8678"),CI=n("d7fb"),kI=n("b7c8"),EI=n("ae33"),wI=n("8c1a"),NI=n("b7b3"),VI=n("96be"),II=n("5a69"),SI=n("f9e5"),BI=n("bbce"),LI=n("d41d"),TI=n("77ad"),_I=n("46cd"),MI=n("df0d"),DI=n("70f2"),zI=n("d16b"),AI=n("4bad"),FI=n("2e2d"),RI=n("e7f4"),PI=n("eb50"),HI=n("0be2"),qI=n("a90c"),UI=n("c90a"),WI=n("9fbc"),GI=n("5b20"),XI=n("69de"),YI=n("fbe7"),ZI=n("ea01"),JI=n("74f3"),KI=n("3ee3"),QI=n("5294"),$I=n("eac5"),eS=n("b8af"),tS=n("dde4"),nS=n("cead"),oS=n("114f"),cS=n("bf2c"),lS={PlayOne:cS["a"],FullScreenPlay:oS["a"],Lock:nS["a"],Unlock:tS["a"],Ppt:eS["a"],Format:$I["a"],Picture:QI["a"],FullScreen:KI["a"],List:JI["a"],OrderedList:ZI["a"],Helpcenter:YI["a"],FlipVertically:XI["a"],FlipHorizontally:GI["a"],FontSize:WI["a"],Code:UI["a"],TextBold:qI["a"],TextItalic:HI["a"],TextUnderline:PI["a"],Strikethrough:RI["a"],Edit:FI["a"],Quote:AI["a"],BackgroundColor:zI["a"],Group:DI["a"],Ungroup:MI["a"],Back:_I["a"],Next:TI["a"],Fullwidth:LI["a"],AlignTop:BI["a"],AlignLeft:SI["a"],AlignRight:II["a"],AlignBottom:VI["a"],AlignVertically:NI["a"],AlignHorizontally:wI["a"],BringToFront:EI["a"],SendToBack:kI["a"],AlignTextLeft:CI["a"],AlignTextRight:xI["a"],AlignTextCenter:gI["a"],RowHeight:yI["a"],Write:jI["a"],InsertTable:hI["a"],AddText:OI["a"],Fill:vI["a"],Tailoring:pI["a"],Effects:mI["a"],ColorFilter:bI["a"],Down:fI["a"],Plus:sI["a"],Minus:dI["a"],Connection:uI["a"],BringToFrontOne:iI["a"],SentToBack:rI["a"],Github:aI["a"],ChartProportion:lI["a"],ChartHistogram:cI["a"],ChartHistogramOne:oI["a"],ChartLineArea:nI["a"],ChartRing:tI["a"],ChartScatter:eI["a"],ChartLine:$V["a"],ChartPie:QV["a"],Text:KV["a"],Rotate:JV["a"],LeftTwo:ZV["a"],RightTwo:YV["a"],Platte:XV["a"],UpOne:GV["a"],DownOne:WV["a"],Close:UV["a"],CloseSmall:qV["a"],Undo:HV["a"],Transform:PV["a"],Click:RV["a"],Theme:FV["a"],ArrowCircleLeft:AV["a"],GraphicDesign:zV["a"],Logout:DV["a"],Erase:MV["a"],Clear:_V["a"],FolderClose:TV["a"],AlignTextTopOne:LV["a"],AlignTextBottomOne:BV["a"],AlignTextMiddleOne:SV["a"],Pause:IV["a"],VolumeMute:VV["a"],VolumeNotice:NV["a"],VolumeSmall:wV["a"],VideoTwo:EV["a"],Formula:kV["a"],LinkOne:CV["a"],FullScreenOne:xV["a"],OffScreenOne:gV["a"],Power:yV["a"],ListView:jV["a"],Magic:hV["a"],HighLight:OV["a"],Share:vV["a"],IndentLeft:pV["a"],IndentRight:mV["a"],VerticalSpacingBetweenItems:bV["a"],Copy:fV["a"],Delete:sV["a"],Square:dV["a"],Round:uV["a"]},aS={install:function(e){for(var t=0,n=Object.keys(lS);t<n.length;t++){var o=n[t];e.component("Icon".concat(o),lS[o])}}},rS=["accept"];function iS(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"file-input",onClick:t[1]||(t[1]=function(t){return e.handleClick()})},[Object(j["renderSlot"])(e.$slots,"default",{},void 0,!0),Object(j["createElementVNode"])("input",{class:"input",type:"file",name:"upload",ref:"inputRef",accept:e.accept,onChange:t[0]||(t[0]=function(t){return e.handleChange(t)})},null,40,rS)])}var uS=Object(j["defineComponent"])({name:"file-input",emits:["change"],props:{accept:{type:String,default:"image/*"}},setup:function(e,t){var n=t.emit,o=Object(j["ref"])(),c=function(){o.value&&(o.value.value="",o.value.click())},l=function(e){var t=e.target.files;t&&n("change",t)};return{handleClick:c,handleChange:l,inputRef:o}}});n("bd59");const dS=eo()(uS,[["render",iS],["__scopeId","data-v-0a87e9c4"]]);var sS=dS;function fS(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("button",{class:Object(j["normalizeClass"])(["checkbox-button",{checked:e.checked}])},[Object(j["renderSlot"])(e.$slots,"default",{},void 0,!0)],2)}var bS=Object(j["defineComponent"])({name:"checkbox-button",props:{checked:{type:Boolean,default:!1}}});n("850a");const mS=eo()(bS,[["render",fS],["__scopeId","data-v-4074d5c2"]]);var pS=mS,vS={class:"checkbox-button-group"};function OS(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",vS,[Object(j["renderSlot"])(e.$slots,"default",{},void 0,!0)])}var hS={name:"checkbox-button-group"};n("69d5");const jS=eo()(hS,[["render",OS],["__scopeId","data-v-7dafd0a9"]]);var yS=jS,gS={class:"color-picker"},xS={class:"picker-saturation-wrap"},CS={class:"picker-controls"},kS={class:"picker-color-wrap"},ES={class:"picker-sliders"},wS={class:"picker-hue-wrap"},NS={class:"picker-alpha-wrap"},VS={class:"picker-field"},IS={class:"picker-presets"},SS=["onClick"],BS={class:"picker-gradient-presets"},LS=["onClick"],TS={class:"picker-presets"},_S=["onClick"],MS={key:0,class:"recent-colors-title"},DS={class:"recent-colors"},zS=["onClick"];function AS(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("Saturation"),r=Object(j["resolveComponent"])("Checkboard"),i=Object(j["resolveComponent"])("Hue"),u=Object(j["resolveComponent"])("Alpha"),d=Object(j["resolveComponent"])("EditableInput"),s=Object(j["resolveComponent"])("IconPlatte");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",gS,[Object(j["createElementVNode"])("div",xS,[Object(j["createVNode"])(a,{value:e.color,hue:e.hue,onColorChange:t[0]||(t[0]=function(t){return e.changeColor(t)})},null,8,["value","hue"])]),Object(j["createElementVNode"])("div",CS,[Object(j["createElementVNode"])("div",kS,[Object(j["createElementVNode"])("div",{class:"picker-current-color",style:Object(j["normalizeStyle"])({background:e.currentColor})},null,4),Object(j["createVNode"])(r)]),Object(j["createElementVNode"])("div",ES,[Object(j["createElementVNode"])("div",wS,[Object(j["createVNode"])(i,{value:e.color,hue:e.hue,onColorChange:t[1]||(t[1]=function(t){return e.changeColor(t)})},null,8,["value","hue"])]),Object(j["createElementVNode"])("div",NS,[Object(j["createVNode"])(u,{value:e.color,onColorChange:t[2]||(t[2]=function(t){return e.changeColor(t)})},null,8,["value"])])])]),Object(j["createElementVNode"])("div",VS,[Object(j["createVNode"])(d,{class:"input",value:e.color,onColorChange:t[3]||(t[3]=function(t){return e.changeColor(t)})},null,8,["value"]),Object(j["createElementVNode"])("div",{class:"straw",onClick:t[4]||(t[4]=function(t){return e.pickColor()})},[Object(j["createVNode"])(s)])]),Object(j["createElementVNode"])("div",IS,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.themeColors,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"picker-presets-color",key:t,style:Object(j["normalizeStyle"])({background:t}),onClick:function(n){return e.selectPresetColor(t)}},null,12,SS)})),128))]),Object(j["createElementVNode"])("div",BS,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.presetColors,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"picker-gradient-col",key:n},[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(t,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"picker-gradient-color",key:t,style:Object(j["normalizeStyle"])({background:t}),onClick:function(n){return e.selectPresetColor(t)}},null,12,LS)})),128))])})),128))]),Object(j["createElementVNode"])("div",TS,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.standardColors,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:t,class:"picker-presets-color",style:Object(j["normalizeStyle"])({background:t}),onClick:function(n){return e.selectPresetColor(t)}},null,12,_S)})),128))]),e.recentColors.length?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",MS,"最近使用：")):Object(j["createCommentVNode"])("",!0),Object(j["createElementVNode"])("div",DS,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.recentColors,(function(t){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:t,class:"picker-presets-color alpha",onClick:function(n){return e.selectPresetColor(t)}},[Object(j["createElementVNode"])("div",{class:"picker-presets-color-content",style:Object(j["normalizeStyle"])({background:t})},null,4)],8,zS)})),128))])])}n("b680");var FS=function(e){return Object(j["pushScopeId"])("data-v-6f2cb744"),e=e(),Object(j["popScopeId"])(),e},RS={class:"alpha"},PS={class:"alpha-checkboard-wrap"},HS=FS((function(){return Object(j["createElementVNode"])("div",{class:"alpha-picker"},null,-1)})),qS=[HS];function US(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("Checkboard");return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",RS,[Object(j["createElementVNode"])("div",PS,[Object(j["createVNode"])(a)]),Object(j["createElementVNode"])("div",{class:"alpha-gradient",style:Object(j["normalizeStyle"])({background:e.gradientColor})},null,4),Object(j["createElementVNode"])("div",{class:"alpha-container",ref:"alphaRef",onMousedown:t[0]||(t[0]=function(t){return e.handleMouseDown(t)})},[Object(j["createElementVNode"])("div",{class:"alpha-pointer",style:Object(j["normalizeStyle"])({left:100*e.color.a+"%"})},qS,4)],544)])}function WS(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"checkerboard",style:Object(j["normalizeStyle"])(e.bgStyle)},null,4)}var GS={},XS=function(e,t,n){var o=document.createElement("canvas");o.width=o.height=2*n;var c=o.getContext("2d");return c?(c.fillStyle=e,c.fillRect(0,0,o.width,o.height),c.fillStyle=t,c.fillRect(0,0,n,n),c.translate(n,n),c.fillRect(0,0,n,n),o.toDataURL()):null},YS=function(e,t,n){var o=e+","+t+","+n;if(GS[o])return GS[o];var c=XS(e,t,n);return GS[o]=c,c},ZS=Object(j["defineComponent"])({name:"checkboard",emits:["colorChange"],props:{size:{type:Number,default:8},white:{type:String,default:"#fff"},grey:{type:String,default:"#e6e6e6"}},setup:function(e){var t=Object(j["computed"])((function(){var t=YS(e.white,e.grey,e.size);return{backgroundImage:"url(".concat(t,")")}}));return{bgStyle:t}}});n("7e17");const JS=eo()(ZS,[["render",WS],["__scopeId","data-v-0a544b87"]]);var KS=JS,QS=Object(j["defineComponent"])({name:"alpha",components:{Checkboard:KS},emits:["colorChange"],props:{value:{type:Object,required:!0}},setup:function(e,t){var n=t.emit,o=Object(j["computed"])((function(){return e.value})),c=Object(j["computed"])((function(){var e=[o.value.r,o.value.g,o.value.b].join(",");return"linear-gradient(to right, rgba(".concat(e,", 0) 0%, rgba(").concat(e,", 1) 100%)")})),l=Object(j["ref"])(),a=function(e){if(e.preventDefault(),l.value){var t,c=l.value.clientWidth,a=l.value.getBoundingClientRect().left+window.pageXOffset,r=e.pageX-a;t=r<0?0:r>c?1:Math.round(100*r/c)/100,o.value.a!==t&&n("colorChange",{r:o.value.r,g:o.value.g,b:o.value.b,a:t})}},r=function e(){window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",e)},i=function(e){a(e),window.addEventListener("mousemove",a),window.addEventListener("mouseup",r)};return Object(j["onUnmounted"])(r),{alphaRef:l,gradientColor:c,handleMouseDown:i,color:o}}});n("f418");const $S=eo()(QS,[["render",US],["__scopeId","data-v-6f2cb744"]]);var eB=$S,tB=function(e){return Object(j["pushScopeId"])("data-v-1766620e"),e=e(),Object(j["popScopeId"])(),e},nB={class:"hue"},oB=tB((function(){return Object(j["createElementVNode"])("div",{class:"hue-picker"},null,-1)})),cB=[oB];function lB(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",nB,[Object(j["createElementVNode"])("div",{class:"hue-container",ref:"hueRef",onMousedown:t[0]||(t[0]=function(t){return e.handleMouseDown(t)})},[Object(j["createElementVNode"])("div",{class:"hue-pointer",style:Object(j["normalizeStyle"])({left:e.pointerLeft})},cB,4)],544)])}var aB=Object(j["defineComponent"])({name:"hue",emits:["colorChange"],props:{value:{type:Object,required:!0},hue:{type:Number,required:!0}},setup:function(e,t){var n=t.emit,o=Object(j["ref"])(0),c=Object(j["ref"])(""),l=Object(j["computed"])((function(){var t=te()(e.value).toHsl();return-1!==e.hue&&(t.h=e.hue),t})),a=Object(j["computed"])((function(){return 0===l.value.h&&"right"===c.value?"100%":100*l.value.h/360+"%"}));Object(j["watch"])((function(){return e.value}),(function(){var t=te()(e.value).toHsl(),n=0===t.s?e.hue:t.h;0!==n&&n-o.value>0&&(c.value="right"),0!==n&&n-o.value<0&&(c.value="left"),o.value=n}));var r=Object(j["ref"])(),i=function(t){if(t.preventDefault(),r.value){var o,c,a=r.value.clientWidth,i=r.value.getBoundingClientRect().left+window.pageXOffset,u=t.pageX-i;u<0?o=0:u>a?o=360:(c=100*u/a,o=360*c/100),-1!==e.hue&&l.value.h===o||n("colorChange",{h:o,l:l.value.l,s:l.value.s,a:l.value.a})}},u=function e(){window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",e)},d=function(e){i(e),window.addEventListener("mousemove",i),window.addEventListener("mouseup",u)};return Object(j["onUnmounted"])(u),{hueRef:r,handleMouseDown:d,pointerLeft:a}}});n("468f");const rB=eo()(aB,[["render",lB],["__scopeId","data-v-1766620e"]]);var iB=rB,uB=function(e){return Object(j["pushScopeId"])("data-v-8982eb4a"),e=e(),Object(j["popScopeId"])(),e},dB=uB((function(){return Object(j["createElementVNode"])("div",{class:"saturation-white"},null,-1)})),sB=uB((function(){return Object(j["createElementVNode"])("div",{class:"saturation-black"},null,-1)})),fB=uB((function(){return Object(j["createElementVNode"])("div",{class:"saturation-circle"},null,-1)})),bB=[fB];function mB(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{class:"saturation",ref:"saturationRef",style:Object(j["normalizeStyle"])({background:e.bgColor}),onMousedown:t[0]||(t[0]=function(t){return e.handleMouseDown(t)})},[dB,sB,Object(j["createElementVNode"])("div",{class:"saturation-pointer",style:Object(j["normalizeStyle"])({top:e.pointerTop,left:e.pointerLeft})},bB,4)],36)}var pB=Object(j["defineComponent"])({name:"saturation",emits:["colorChange"],props:{value:{type:Object,required:!0},hue:{type:Number,required:!0}},setup:function(e,t){var n=t.emit,o=Object(j["computed"])((function(){var t=te()(e.value).toHsv();return-1!==e.hue&&(t.h=e.hue),t})),c=Object(j["computed"])((function(){return"hsl(".concat(o.value.h,", 100%, 50%)")})),l=Object(j["computed"])((function(){return-100*o.value.v+1+100+"%"})),a=Object(j["computed"])((function(){return 100*o.value.s+"%"})),r=Object(ne["throttle"])((function(e){n("colorChange",e)}),20,{leading:!0,trailing:!1}),i=Object(j["ref"])(),u=function(e){if(e.preventDefault(),i.value){var t=i.value.clientWidth,n=i.value.clientHeight,c=i.value.getBoundingClientRect().left+window.pageXOffset,l=i.value.getBoundingClientRect().top+window.pageYOffset,a=Object(ne["clamp"])(e.pageX-c,0,t),u=Object(ne["clamp"])(e.pageY-l,0,n),d=a/t,s=Object(ne["clamp"])(-u/n+1,0,1);r({h:o.value.h,s:d,v:s,a:o.value.a})}},d=function e(){window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",e)},s=function(e){u(e),window.addEventListener("mousemove",u),window.addEventListener("mouseup",d)};return Object(j["onUnmounted"])(d),{saturationRef:i,bgColor:c,handleMouseDown:s,pointerTop:l,pointerLeft:a}}});n("a46e");const vB=eo()(pB,[["render",mB],["__scopeId","data-v-8982eb4a"]]);var OB=vB,hB={class:"editable-input"},jB=["value"];function yB(e,t,n,o,c,l){return Object(j["openBlock"])(),Object(j["createElementBlock"])("div",hB,[Object(j["createElementVNode"])("input",{class:"input-content",value:e.val,onInput:t[0]||(t[0]=function(t){return e.handleInput(t)})},null,40,jB)])}var gB=Object(j["defineComponent"])({name:"editable-input",emits:["colorChange"],props:{value:{type:Object,required:!0}},setup:function(e,t){var n=t.emit,o=Object(j["computed"])((function(){var t="";return t=e.value.a<1?te()(e.value).toHex8String().toUpperCase():te()(e.value).toHexString().toUpperCase(),t.replace("#","")})),c=function(e){var t=e.target.value;t.length>=6&&n("colorChange",te()(t).toRgb())};return{val:o,handleInput:c}}});n("933d");const xB=eo()(gB,[["render",yB],["__scopeId","data-v-20bfe6b0"]]);var CB=xB,kB="RECENT_COLORS",EB=[["#7f7f7f","#f2f2f2"],["#0d0d0d","#808080"],["#1c1a10","#ddd8c3"],["#0e243d","#c6d9f0"],["#233f5e","#dae5f0"],["#632623","#f2dbdb"],["#4d602c","#eaf1de"],["#3f3150","#e6e0ec"],["#1e5867","#d9eef3"],["#99490f","#fee9da"]],wB=function(e,t,n){for(var o=te()(e).toRgb(),c=te()(t).toRgb(),l=(c.r-o.r)/n,a=(c.g-o.g)/n,r=(c.b-o.b)/n,i=[],u=0;u<n;u++){var d=te()({r:o.r+l*u,g:o.g+a*u,b:o.b+r*u}).toRgbString();i.push(d)}return i},NB=function(){var e,t=[],n=Object(T["a"])(EB);try{for(n.s();!(e=n.n()).done;){var o=e.value;t.push(wB(o[1],o[0],5))}}catch(lL){n.e(lL)}finally{n.f()}return t},VB=Object(j["defineComponent"])({name:"color-picker",components:{Alpha:eB,Checkboard:KS,Hue:iB,Saturation:OB,EditableInput:CB},emits:["update:modelValue"],props:{modelValue:{type:String,default:"#e86b99"}},setup:function(e,t){var n=t.emit,o=Object(j["ref"])(-1),c=Object(j["ref"])([]),l=Object(j["computed"])({get:function(){return te()(e.modelValue).toRgb()},set:function(e){var t="rgba(".concat([e.r,e.g,e.b,e.a].join(","),")");n("update:modelValue",t)}}),a=["#000000","#ffffff","#eeece1","#1e497b","#4e81bb","#e2534d","#9aba60","#8165a0","#47acc5","#f9974c"],r=["#c21401","#ff1e02","#ffc12a","#ffff3a","#90cf5b","#00af57","#00afee","#0071be","#00215f","#72349d"],i=NB(),u=Object(j["computed"])((function(){return"rgba(".concat([l.value.r,l.value.g,l.value.b,l.value.a].join(","),")")})),d=function(e){o.value=te()(e).toHsl().h,n("update:modelValue",e)},s=Object(ne["debounce"])((function(){var e=te()(l.value).toRgbString();if(!c.value.includes(e)){c.value=[e].concat(Object($["a"])(c.value));var t=10;c.value.length>t&&(c.value=c.value.slice(0,t))}}),300,{trailing:!0});Object(j["onMounted"])((function(){var e=localStorage.getItem(kB);e&&(c.value=JSON.parse(e))})),Object(j["watch"])(c,(function(){var e=JSON.stringify(c.value);localStorage.setItem(kB,e)}));var f=function(e){"h"in e?(o.value=e.h,l.value=te()(e).toRgb()):(o.value=te()(e).toHsl().h,l.value=e),s()},b=function(){var e=document.querySelector(".canvas");if(e){var t=document.createElement("div");t.style.cssText="position: fixed; top: 0; left: 0; bottom: 0; right: 0; z-index: 9999; cursor: wait;",document.body.appendChild(t);var n=document.createElement("div");n.style.cssText="position: absolute; top: -100px; left: -100px; width: 16px; height: 16px; border: 1px solid #000; z-index: 999",t.appendChild(n);var c=e.getBoundingClientRect(),a=c.left,r=c.top,i=c.width,u=c.height,d=function(e){return(!e.tagName||"FOREIGNOBJECT"!==e.tagName.toUpperCase())&&(!e.classList||!e.classList.contains("operate"))};Object(fn["a"])(e,{filter:d,fontEmbedCSS:"",width:i,height:u,canvasWidth:i,canvasHeight:u,pixelRatio:1}).then((function(e){e.style.cssText="position: absolute; top: ".concat(r,"px; left: ").concat(a,"px; cursor: crosshair;"),t.style.cursor="default",t.appendChild(e);var c=e.getContext("2d");if(c){var i="",u=function(e){var t=e.x,o=e.y,l=t-a,u=o-r,d=Object(ve["a"])(c.getImageData(l,u,1,1).data,4),s=d[0],f=d[1],b=d[2],m=d[3];i="rgba(".concat(s,", ").concat(f,", ").concat(b,", ").concat((m/255).toFixed(2),")"),n.style.left=t+10+"px",n.style.top=o+10+"px",n.style.backgroundColor=i},d=function(){i="",n.style.left="-100px",n.style.top="-100px",n.style.backgroundColor=""},f=function n(c){if(i&&0===c.button){var a=te()(i);o.value=a.toHsl().h,l.value=a.toRgb(),s()}document.body.removeChild(t),e.removeEventListener("mousemove",u),e.removeEventListener("mouseleave",d),window.removeEventListener("mousedown",n)};e.addEventListener("mousemove",u),e.addEventListener("mouseleave",d),window.addEventListener("mousedown",f)}})).catch((function(){De["a"].error("取色吸管初始化失败"),document.body.removeChild(t)}))}};return{themeColors:a,standardColors:r,presetColors:i,color:l,hue:o,currentColor:u,changeColor:f,selectPresetColor:d,recentColors:c,pickColor:b}}});n("6a1c");const IB=eo()(VB,[["render",AS],["__scopeId","data-v-2a88fbeb"]]);var SB=IB,BB={key:0,class:"fullscreen-spin"};function LB(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("Spin");return e.loading?(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",BB,[Object(j["createVNode"])(a,{tip:e.tip,size:"large"},null,8,["tip"])])):Object(j["createCommentVNode"])("",!0)}var TB=Object(j["defineComponent"])({name:"fullscreen-spin",props:{loading:{type:Boolean,default:!1},tip:{type:String,default:""}}});n("1756");const _B=eo()(TB,[["render",LB],["__scopeId","data-v-5e77feb8"]]);var MB=_B,DB={install:function(e){e.component("FileInput",sS),e.component("CheckboxButton",pS),e.component("CheckboxButtonGroup",yS),e.component("ColorPicker",SB),e.component("FullscreenSpin",MB)}};function zB(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("MenuContent");return Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],null,[Object(j["createElementVNode"])("div",{class:"mask",onContextmenu:t[0]||(t[0]=Object(j["withModifiers"])((function(t){return e.removeContextmenu()}),["prevent"])),onMousedown:t[1]||(t[1]=function(t){return e.removeContextmenu()})},null,32),Object(j["createElementVNode"])("div",{class:"contextmenu",style:Object(j["normalizeStyle"])({left:e.style.left+"px",top:e.style.top+"px"}),onContextmenu:t[2]||(t[2]=Object(j["withModifiers"])((function(){}),["prevent"]))},[Object(j["createVNode"])(a,{menus:e.menus,handleClickMenuItem:e.handleClickMenuItem},null,8,["menus","handleClickMenuItem"])],36)],64)}var AB={class:"menu-content"},FB=["onClick"],RB={class:"text"},PB={key:0,class:"sub-text"};function HB(e,t,n,o,c,l){var a=Object(j["resolveComponent"])("menu-content",!0);return Object(j["openBlock"])(),Object(j["createElementBlock"])("ul",AB,[(Object(j["openBlock"])(!0),Object(j["createElementBlock"])(j["Fragment"],null,Object(j["renderList"])(e.menus,(function(t,n){return Object(j["openBlock"])(),Object(j["createElementBlock"])(j["Fragment"],{key:t.text||n},[t.hide?Object(j["createCommentVNode"])("",!0):(Object(j["openBlock"])(),Object(j["createElementBlock"])("li",{key:0,class:Object(j["normalizeClass"])(["menu-item",{divider:t.divider,disable:t.disable}]),onClick:Object(j["withModifiers"])((function(n){return e.handleClickMenuItem(t)}),["stop"])},[t.divider?Object(j["createCommentVNode"])("",!0):(Object(j["openBlock"])(),Object(j["createElementBlock"])("div",{key:0,class:Object(j["normalizeClass"])(["menu-item-content",{"has-children":t.children,"has-handler":t.handler}])},[Object(j["createElementVNode"])("span",RB,Object(j["toDisplayString"])(t.text),1),t.subText&&!t.children?(Object(j["openBlock"])(),Object(j["createElementBlock"])("span",PB,Object(j["toDisplayString"])(t.subText),1)):Object(j["createCommentVNode"])("",!0),t.children&&t.children.length?(Object(j["openBlock"])(),Object(j["createBlock"])(a,{key:1,class:"sub-menu",menus:t.children,handleClickMenuItem:e.handleClickMenuItem},null,8,["menus","handleClickMenuItem"])):Object(j["createCommentVNode"])("",!0)],2))],10,FB))],64)})),128))])}var qB=Object(j["defineComponent"])({name:"menu-content",props:{menus:{type:Array,required:!0},handleClickMenuItem:{type:Function,required:!0}}});n("0c74");const UB=eo()(qB,[["render",HB],["__scopeId","data-v-eb1555e8"]]);var WB=UB,GB=Object(j["defineComponent"])({name:"contextmenu",components:{MenuContent:WB},props:{axis:{type:Object,required:!0},el:{type:Object,required:!0},menus:{type:Array,required:!0},removeContextmenu:{type:Function,required:!0}},setup:function(e){var t=Object(j["computed"])((function(){var t=170,n=30,o=11,c=5,l=e.axis,a=l.x,r=l.y,i=e.menus.filter((function(e){return!(e.divider||e.hide)})).length,u=e.menus.filter((function(e){return e.divider})).length,d=t,s=i*n+u*o+2*c,f=document.body.clientWidth,b=document.body.clientHeight;return{left:f<=a+d?a-d:a,top:b<=r+s?r-s:r}})),n=function(t){t.disable||t.children&&!t.handler||(t.handler&&t.handler(e.el),e.removeContextmenu())};return{style:t,handleClickMenuItem:n}}});n("b837");const XB=eo()(GB,[["render",zB]]);var YB=XB,ZB="CTX_CONTEXTMENU_HANDLER",JB=function(e,t,n){t.stopPropagation(),t.preventDefault();var o=n.value(e);if(o){var c=null,l=function t(){c&&(document.body.removeChild(c),c=null),e.classList.remove("contextmenu-active"),document.body.removeEventListener("scroll",t),window.removeEventListener("resize",t)},a={axis:{x:t.x,y:t.y},el:e,menus:o,removeContextmenu:l};c=document.createElement("div");var r=Object(j["createVNode"])(YB,a,null);Object(j["render"])(r,c),document.body.appendChild(c),e.classList.add("contextmenu-active"),document.body.addEventListener("scroll",l),window.addEventListener("resize",l)}},KB={mounted:function(e,t){e[ZB]=function(n){return JB(e,n,t)},e.addEventListener("contextmenu",e[ZB])},unmounted:function(e){e&&e[ZB]&&(e.removeEventListener("contextmenu",e[ZB]),delete e[ZB])}},QB=KB,$B="CTX_CLICK_OUTSIDE_HANDLER",eL=function(e,t,n){var o=n.value,c=t.composedPath(),l=c?c.indexOf(e)<0:!e.contains(t.target);l&&o(t)},tL={mounted:function(e,t){e[$B]=function(n){return eL(e,n,t)},setTimeout((function(){document.addEventListener("click",e[$B])}),0)},unmounted:function(e){e[$B]&&(document.removeEventListener("click",e[$B]),delete e[$B])}},nL=tL,oL={install:function(e){e.directive("contextmenu",QB),e.directive("click-outside",nL)}},cL=Object(j["createApp"])(rV);cL.component("InputNumber",h["a"]),cL.component("Divider",O["a"]),cL.component("Button",v["a"]),cL.component("ButtonGroup",v["a"].Group),cL.component("Tooltip",p["a"]),cL.component("Popover",m["a"]),cL.component("Slider",b["a"]),cL.component("Select",f["a"]),cL.component("SelectOption",f["a"].Option),cL.component("SelectOptGroup",f["a"].OptGroup),cL.component("Switch",s["a"]),cL.component("Radio",d["a"]),cL.component("RadioGroup",d["a"].Group),cL.component("RadioButton",d["a"].Button),cL.component("Input",u["a"]),cL.component("InputGroup",u["a"].Group),cL.component("TextArea",u["a"].TextArea),cL.component("Modal",i["a"]),cL.component("Dropdown",r["a"]),cL.component("Menu",a["a"]),cL.component("MenuItem",a["a"].Item),cL.component("Checkbox",l["a"]),cL.component("Drawer",c["a"]),cL.component("Spin",o["a"]),cL.use(aS),cL.use(DB),cL.use(oL),cL.use(Object(y["a"])()),cL.mount("#app")},cf7d:function(e,t,n){"use strict";n("949f")},cfc7:function(e,t,n){},cfda:function(e,t,n){"use strict";n("78eb")},d4d8:function(e,t,n){"use strict";n("41ca")},d56f:function(e,t,n){"use strict";n("4a3d")},d582:function(e,t,n){"use strict";n("2a45")},d65a:function(e,t,n){},d72c:function(e,t,n){},d785:function(e,t,n){},d7a4:function(e,t,n){"use strict";n("1ce8")},dab5:function(e,t,n){"use strict";n("6702")},dad3:function(e,t,n){"use strict";n("0e81")},de7e:function(e,t,n){"use strict";n("53cb")},de82:function(e,t,n){},dec5:function(e,t,n){},dec8:function(e,t,n){"use strict";n("4c71")},dfed:function(e,t,n){"use strict";n("33a6")},dffc:function(e,t,n){},e09a:function(e,t,n){},e1c2:function(e,t,n){"use strict";n("8d78")},e1f8:function(e,t,n){},e412:function(e,t,n){"use strict";n("ec57")},e7b8:function(e,t,n){"use strict";n("46ba")},e80d:function(e,t,n){},e89f:function(e,t,n){"use strict";n("875f")},ea09:function(e,t,n){},ec38:function(e,t,n){"use strict";n("3677")},ec57:function(e,t,n){},ed2c:function(e,t,n){},ed98:function(e,t,n){"use strict";n("cce0")},edc2:function(e,t,n){"use strict";n("b0c3")},ee0f:function(e,t,n){"use strict";n("f9ef")},f146:function(e,t,n){"use strict";n("0dd5")},f196:function(e,t,n){"use strict";n("717a")},f1ac:function(e,t,n){"use strict";n("ea09")},f212:function(e,t,n){"use strict";n("6cf8")},f258:function(e,t,n){},f418:function(e,t,n){"use strict";n("0f92")},f8b7:function(e,t,n){"use strict";n("ad93")},f8c7:function(e,t,n){"use strict";n("5a68")},f8e4:function(e,t,n){"use strict";n("d785")},f9ef:function(e,t,n){},fb37:function(e,t,n){"use strict";n("51ed")},fc12:function(e,t,n){"use strict";n("d72c")},fcf0:function(e,t,n){"use strict";n("838e")},fd3b:function(e,t,n){},fdcb:function(e,t,n){},fe89:function(e,t,n){},ff5e:function(e,t,n){},ff9c:function(e,t,n){},ffb8:function(e,t,n){"use strict";n("3831")}});
//# sourceMappingURL=app.0dfcade2.js.map